(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators})),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),create=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@storybook/theming/dist/esm/create.js")),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),jsx_runtime=(__webpack_require__("./node_modules/@councildataproject/cdp-design/dist/images.css"),__webpack_require__("./node_modules/@councildataproject/cdp-design/dist/colors.css"),__webpack_require__("./node_modules/@mozilla-protocol/core/protocol/css/protocol.css"),__webpack_require__("./node_modules/@mozilla-protocol/core/protocol/css/protocol-components.css"),__webpack_require__("./node_modules/semantic-ui-css/semantic.min.css"),__webpack_require__("./node_modules/react/jsx-runtime.js")),decorators=[function(story){return Object(jsx_runtime.jsx)(react_router.c,{location:"http://localhost:6006/?path=/story",children:Object(jsx_runtime.jsx)("div",{style:{margin:"1rem"},children:story()})})}],parameters={options:{storySort:{order:["Getting Started","Library"]},isToolshown:!0},docs:{theme:create.a.light},backgrounds:{default:"light",values:[{name:"light",value:"#f9f9f9"},{name:"grey",value:"#929396"},{name:"dark",value:"#333"}]}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(tsx|mdx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./src/components/Details/EventVideo/vjs-theme-cdp.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,"/* Adapted from https://github.com/videojs/themes */\n\n.vjs-theme-cdp {\n  --vjs-theme-cdp--primary-color: #ff4f5e;\n  --vjs-theme-cdp--secondary-color: #fff;\n  /*15px*/\n  --vjs-theme-cdp--primary-font-size: 0.9375rem;\n}\n\n.vjs-theme-cdp .vjs-big-play-button {\n  width: 70px;\n  height: 50px;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.85);\n  line-height: 50px;\n  font-size: 45px;\n  border: none;\n  top: 50%;\n  left: 50%;\n  margin-top: -35px;\n  margin-left: -35px;\n  color: var(--vjs-theme-cdp--secondary);\n}\n\n/*Switch to primary color on focus/hover*/\n.vjs-theme-cdp:hover .vjs-big-play-button,\n.vjs-theme-cdp .vjs-big-play-button:focus {\n  background-color: var(--vjs-theme-cdp--primary-color);\n}\n\n.vjs-theme-cdp .vjs-control-bar {\n  height: 70px;\n  padding-top: 20px;\n  background: none;\n  /*Gradually decrease black's opacity*/\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n}\n\n/*Move the progress slider toward the top*/\n.vjs-theme-cdp .vjs-progress-control {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  width: 99%;\n  height: 20px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.vjs-theme-cdp .vjs-progress-control .vjs-progress-holder {\n  position: absolute;\n  top: 20px;\n  right: 0;\n  left: 0;\n  width: 99%;\n  margin: 0;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n/*Slider has primary color up to current time*/\n.vjs-theme-cdp .vjs-play-progress {\n  background-color: var(--vjs-theme-cdp--primary-color);\n}\n\n/*Make the dot on the progress slider have primary color*/\n.vjs-theme-cdp .vjs-play-progress::before {\n  color: var(--vjs-theme-cdp--primary-color);\n}\n\n/*Media control elements has primary font size*/\n.vjs-theme-cdp .vjs-play-control,\n.vjs-theme-cdp .vjs-volume-panel,\n.vjs-theme-cdp .vjs-time-control,\n.vjs-theme-cdp .vjs-playback-rate,\n.vjs-theme-cdp .vjs-picture-in-picture-control,\n.vjs-theme-cdp .vjs-fullscreen-control {\n  font-size: var(--vjs-theme-cdp--primary-font-size);\n}\n\n/*Show and group current time, time divider, and time display together*/\n.vjs-theme-cdp .vjs-time-control {\n  display: block;\n  padding: 0 4px;\n}\n.vjs-theme-cdp .vjs-current-time {\n  /*Bold current time*/\n  font-weight: 700;\n}\n.vjs-theme-cdp .vjs-time-divider {\n  min-width: unset;\n}\n\n/*Show and increase size of spacer*/\n.vjs-theme-cdp .vjs-custom-control-spacer {\n  display: block;\n  flex: 1 1;\n}\n",""]),module.exports=exports},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(tsx|mdx))$":function(module,exports,__webpack_require__){var map={"./components/Cards/LegislationCard/LegislationCard.stories.tsx":"./src/components/Cards/LegislationCard/LegislationCard.stories.tsx","./components/Cards/MeetingCard/MeetingCard.stories.tsx":"./src/components/Cards/MeetingCard/MeetingCard.stories.tsx","./components/Cards/PersonCard/PersonCard.stories.tsx":"./src/components/Cards/PersonCard/PersonCard.stories.tsx","./components/Details/EventVideo/EventVideo.stories.tsx":"./src/components/Details/EventVideo/EventVideo.stories.tsx","./components/Details/Legislation/LegislationHistory.stories.tsx":"./src/components/Details/Legislation/LegislationHistory.stories.tsx","./components/Details/Legislation/LegislationIntroduction.stories.tsx":"./src/components/Details/Legislation/LegislationIntroduction.stories.tsx","./components/Details/Legislation/LegislationLatestVote.stories.tsx":"./src/components/Details/Legislation/LegislationLatestVote.stories.tsx","./components/Details/Legislation/LegislationOverview.stories.tsx":"./src/components/Details/Legislation/LegislationOverview.stories.tsx","./components/Details/MinutesItemsList/MinutesItemsList.stories.tsx":"./src/components/Details/MinutesItemsList/MinutesItemsList.stories.tsx","./components/Details/TranscriptFull/TranscriptFull.stories.tsx":"./src/components/Details/TranscriptFull/TranscriptFull.stories.tsx","./components/Details/TranscriptItem/TranscriptItem.stories.tsx":"./src/components/Details/TranscriptItem/TranscriptItem.stories.tsx","./components/Details/TranscriptSearch/TranscriptSearch.stories.tsx":"./src/components/Details/TranscriptSearch/TranscriptSearch.stories.tsx","./components/Filters/FilterPopup/FilterPopup.stories.tsx":"./src/components/Filters/FilterPopup/FilterPopup.stories.tsx","./components/Filters/SelectDateRange/SelectDateRange.stories.tsx":"./src/components/Filters/SelectDateRange/SelectDateRange.stories.tsx","./components/Filters/SelectSorting/SelectSorting.stories.tsx":"./src/components/Filters/SelectSorting/SelectSorting.stories.tsx","./components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.stories.tsx":"./src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.stories.tsx","./components/Layout/Footer/Footer.stories.tsx":"./src/components/Layout/Footer/Footer.stories.tsx","./components/Layout/Header/Header.stories.tsx":"./src/components/Layout/Header/Header.stories.tsx","./components/Layout/HomeSearchBar/HomeSearchBar.stories.tsx":"./src/components/Layout/HomeSearchBar/HomeSearchBar.stories.tsx","./components/Layout/LocalizationWidget/LocalizationWidget.stories.tsx":"./src/components/Layout/LocalizationWidget/LocalizationWidget.stories.tsx","./components/Layout/TabbedContainer/TabbedContainer.stories.tsx":"./src/components/Layout/TabbedContainer/TabbedContainer.stories.tsx","./components/Tables/MeetingVotesTable/MeetingVotesTable.stories.tsx":"./src/components/Tables/MeetingVotesTable/MeetingVotesTable.stories.tsx","./components/Tables/VotingTable/VotingTable.stories.tsx":"./src/components/Tables/VotingTable/VotingTable.stories.tsx","./components/Tables/VotingTableRow/VotingTableRow.stories.tsx":"./src/components/Tables/VotingTableRow/VotingTableRow.stories.tsx","./containers/EventContainer/EventContainer.stories.tsx":"./src/containers/EventContainer/EventContainer.stories.tsx","./containers/PersonContainer/PersonContainer.stories.tsx":"./src/containers/PersonContainer/PersonContainer.stories.tsx","./stories/Introduction.stories.mdx":"./src/stories/Introduction.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(tsx|mdx))$"},"./src/app/LanguageConfigContext.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LanguageConfigProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useLanguageConfigContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LanguageConfigContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)({language:"en",setLanguage:function setLanguage(){}}),LanguageConfigProvider=function LanguageConfigProvider(_ref){var languageConfig=_ref.languageConfig,children=_ref.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LanguageConfigContext.Provider,{value:languageConfig,children:children})};LanguageConfigProvider.displayName="LanguageConfigProvider";var useLanguageConfigContext=function useLanguageConfigContext(){var context=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(LanguageConfigContext);if(void 0===context)throw new Error("useLanguageConfigContext must be used within a LanguageConfigProvider");return context};try{LanguageConfigProvider.displayName="LanguageConfigProvider",LanguageConfigProvider.__docgenInfo={description:"",displayName:"LanguageConfigProvider",props:{languageConfig:{defaultValue:null,description:"",name:"languageConfig",required:!0,type:{name:"LanguageConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/LanguageConfigContext.tsx#LanguageConfigProvider"]={docgenInfo:LanguageConfigProvider.__docgenInfo,name:"LanguageConfigProvider",path:"src/app/LanguageConfigContext.tsx#LanguageConfigProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/app/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AppConfigContext_useAppConfigContext})),__webpack_require__.d(__webpack_exports__,"b",(function(){return LanguageConfigContext.b}));var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AppConfigContext=Object(react.createContext)({firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}}),AppConfigContext_AppConfigProvider=function AppConfigProvider(_ref){var appConfig=_ref.appConfig,children=_ref.children;return Object(jsx_runtime.jsx)(AppConfigContext.Provider,{value:appConfig,children:children})};AppConfigContext_AppConfigProvider.displayName="AppConfigProvider";var AppConfigContext_useAppConfigContext=function useAppConfigContext(){var context=Object(react.useContext)(AppConfigContext);if(void 0===context)throw new Error("useAppConfigContext must be used within a AppConfigProvider");return context};try{AppConfigContext_AppConfigProvider.displayName="AppConfigProvider",AppConfigContext_AppConfigProvider.__docgenInfo={description:"\nA Provider component that allows consuming components to subscribe to context changes.",displayName:"AppConfigProvider",props:{appConfig:{defaultValue:null,description:"",name:"appConfig",required:!0,type:{name:"AppConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/AppConfigContext.tsx#AppConfigProvider"]={docgenInfo:AppConfigContext_AppConfigProvider.__docgenInfo,name:"AppConfigProvider",path:"src/app/AppConfigContext.tsx#AppConfigProvider"})}catch(__react_docgen_typescript_loader_error){}try{AppConfigContext_useAppConfigContext.displayName="useAppConfigContext",AppConfigContext_useAppConfigContext.__docgenInfo={description:"\nReact hook to get the current app config context. This hook can be used by only components that are children\nof the AppConfigProvider component.",displayName:"useAppConfigContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/AppConfigContext.tsx#useAppConfigContext"]={docgenInfo:AppConfigContext_useAppConfigContext.__docgenInfo,name:"useAppConfigContext",path:"src/app/AppConfigContext.tsx#useAppConfigContext"})}catch(__react_docgen_typescript_loader_error){}var LanguageConfigContext=__webpack_require__("./src/app/LanguageConfigContext.tsx"),react_router_dom=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js")),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),useDocumentTitle=(__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),__webpack_require__("./src/hooks/useDocumentTitle.ts")),HomeSearchBar_HomeSearchBar=(__webpack_require__("./src/components/Layout/Header/Header.tsx"),__webpack_require__("./src/components/Layout/Footer/Footer.tsx"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./src/components/Layout/HomeSearchBar/HomeSearchBar.tsx"));try{HomeSearchBar.displayName="HomeSearchBar",HomeSearchBar.__docgenInfo={description:"",displayName:"HomeSearchBar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/HomeSearchBar/index.tsx#HomeSearchBar"]={docgenInfo:HomeSearchBar.__docgenInfo,name:"HomeSearchBar",path:"src/components/Layout/HomeSearchBar/index.tsx#HomeSearchBar"})}catch(__react_docgen_typescript_loader_error){}var _styled$div,LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),Container=styled_browser_esm.a.div(((_styled$div={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1,"& > *":{width:"100%"}})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={"& > *":{width:"75%"}},_styled$div)),HomePage_HomePage=function HomePage(){Object(useDocumentTitle.a)(LocalizedStrings.a.council_data_project);var municipality=AppConfigContext_useAppConfigContext().municipality;return Object(jsx_runtime.jsxs)(Container,{children:[Object(jsx_runtime.jsx)("h1",{className:"mzp-u-title-xs",children:LocalizedStrings.a.search_municipality_name.replace("{municipality_name}",municipality.name)}),Object(jsx_runtime.jsx)(HomeSearchBar_HomeSearchBar.a,{})]})};HomePage_HomePage.displayName="HomePage";try{HomePage_HomePage.displayName="HomePage",HomePage_HomePage.__docgenInfo={description:"",displayName:"HomePage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/HomePage/HomePage.tsx#HomePage"]={docgenInfo:HomePage_HomePage.__docgenInfo,name:"HomePage",path:"src/pages/HomePage/HomePage.tsx#HomePage"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js");var query_string=__webpack_require__("./node_modules/query-string/index.js"),query_string_default=__webpack_require__.n(query_string),index_esm2017=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js")),ModelService=__webpack_require__("./src/networking/ModelService.ts"),PopulationOptions=__webpack_require__("./src/networking/PopulationOptions.ts"),constants=__webpack_require__("./src/networking/constants.ts"),Body=__webpack_require__("./src/models/Body.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var BodyService_BodyService=function(_ModelService){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(BodyService,_ModelService);var _getAllBodies,_getBodiesByName,_super=_createSuper(BodyService);function BodyService(firebaseConfig){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BodyService),_super.call(this,PopulationOptions.a.Body,firebaseConfig)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(BodyService,[{key:"getBodiesByName",value:(_getBodiesByName=_asyncToGenerator(regeneratorRuntime.mark((function _callee(name){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Body,[Object(index_esm2017.m)("name",constants.c.eq,name)]),_context.abrupt("return",this.createModels(networkQueryResponse,Body.a,"getBodyByName("+name+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getBodiesByName(_x){return _getBodiesByName.apply(this,arguments)})},{key:"getAllBodies",value:(_getAllBodies=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Body,[Object(index_esm2017.j)("name")]),_context2.abrupt("return",this.createModels(networkQueryResponse,Body.a,"getAllBodies()"));case 2:case"end":return _context2.stop()}}),_callee2,this)}))),function getAllBodies(){return _getAllBodies.apply(this,arguments)})}]),BodyService}(ModelService.a),Loader=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js"),ErrorPage_ErrorPage=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),function ErrorPage(_ref){var error=_ref.error,history=Object(react_router.g)(),errorText=error?error.toString():"";return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("h1",{className:"mzp-u-title-sm",children:"Sorry, we canâ€™t find that page."}),Object(jsx_runtime.jsx)("p",{children:errorText}),Object(jsx_runtime.jsx)("button",{className:"mzp-c-button mzp-t-secondary mzp-t-md",onClick:function onClick(){return history.goBack()},children:"Back"})]})});ErrorPage_ErrorPage.displayName="ErrorPage";var pages_ErrorPage_ErrorPage=ErrorPage_ErrorPage;try{ErrorPage_ErrorPage.displayName="ErrorPage",ErrorPage_ErrorPage.__docgenInfo={description:"",displayName:"ErrorPage",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/ErrorPage/ErrorPage.tsx#ErrorPage"]={docgenInfo:ErrorPage_ErrorPage.__docgenInfo,name:"ErrorPage",path:"src/pages/ErrorPage/ErrorPage.tsx#ErrorPage"})}catch(__react_docgen_typescript_loader_error){}var FetchDataContainer_FetchDataContainer=function FetchDataContainer(_ref){var isLoading=_ref.isLoading,children=_ref.children,error=_ref.error;return isLoading?Object(jsx_runtime.jsx)(Loader.a,{active:!0,size:"massive"}):error?Object(jsx_runtime.jsx)(pages_ErrorPage_ErrorPage,{error:error}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})},containers_FetchDataContainer_FetchDataContainer=FetchDataContainer_FetchDataContainer;try{FetchDataContainer_FetchDataContainer.displayName="FetchDataContainer",FetchDataContainer_FetchDataContainer.__docgenInfo={description:"",displayName:"FetchDataContainer",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/FetchDataContainer/FetchDataContainer.tsx#FetchDataContainer"]={docgenInfo:FetchDataContainer_FetchDataContainer.__docgenInfo,name:"FetchDataContainer",path:"src/containers/FetchDataContainer/FetchDataContainer.tsx#FetchDataContainer"})}catch(__react_docgen_typescript_loader_error){}var SearchCardsActionType,useFetchData=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),lodash=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/lodash/lodash.js")),react_responsive=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),createError=__webpack_require__("./src/utils/createError.ts");function useSearchCards_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(SearchCardsActionType){SearchCardsActionType.FAILURE="FAILURE",SearchCardsActionType.FETCH_CARDS="FETCH_CARDS",SearchCardsActionType.FETCH_CARDS_SUCCESS="FETCH_CARDS_SUCCESSS",SearchCardsActionType.SHOW_MORE_CARDS="SHOW_MORE_CARDS"}(SearchCardsActionType||(SearchCardsActionType={}));function useSearchCards(initialState,fetch){var reducer=function createSearchCardsReducer(){return function(state,action){switch(action.type){case SearchCardsActionType.FAILURE:return Object.assign({},state,{error:action.payload,fetchCards:!1});case SearchCardsActionType.FETCH_CARDS:return Object.assign({},state,{error:null,fetchCards:!0});case SearchCardsActionType.FETCH_CARDS_SUCCESS:var nextVisibleCount=Math.min(state.batchSize,action.payload.length);return Object.assign({},state,{cards:action.payload,visibleCount:nextVisibleCount,fetchCards:!1});case SearchCardsActionType.SHOW_MORE_CARDS:var _nextVisibleCount=Math.min(state.batchSize+state.visibleCount,state.cards.length);return Object.assign({},state,{visibleCount:_nextVisibleCount});default:return state}}}(),_useReducer2=_slicedToArray(Object(react.useReducer)(reducer,initialState),2),state=_useReducer2[0],dispatch=_useReducer2[1];return Object(react.useEffect)((function(){var didCancel=!1,fetchCards=function(){var _ref=function useSearchCards_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useSearchCards_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useSearchCards_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var cards,error;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch();case 3:cards=_context.sent,didCancel||dispatch({type:SearchCardsActionType.FETCH_CARDS_SUCCESS,payload:cards}),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),didCancel||(error=Object(createError.a)(_context.t0),dispatch({type:SearchCardsActionType.FAILURE,payload:error}));case 10:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function fetchCards(){return _ref.apply(this,arguments)}}();return state.fetchCards&&fetchCards(),function(){didCancel=!0}}),[state.fetchCards,fetch,dispatch]),[state,dispatch]}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.all-settled.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.reduce.js");var stopword=__webpack_require__("./node_modules/stopword/lib/stopword.js"),n_gram=__webpack_require__("./node_modules/n-gram/index.js"),dist_module=__webpack_require__("./node_modules/stemr/dist/module/index.js"),Event=__webpack_require__("./src/models/Event.ts"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/index.esm.js");function IndexedEventGram_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function IndexedEventGram_createClass(Constructor,protoProps,staticProps){return protoProps&&IndexedEventGram_defineProperties(Constructor.prototype,protoProps),staticProps&&IndexedEventGram_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var IndexedEventGram_IndexedEventGram=IndexedEventGram_createClass((function IndexedEventGram(jsonData){!function IndexedEventGram_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IndexedEventGram),this.id=void 0,this.context_span=void 0,this.datetime_weighted_value=void 0,this.event_ref=void 0,this.event=void 0,this.stemmed_gram=void 0,this.unstemmed_gram=void 0,this.value=void 0,this.id=jsonData.id,this.context_span=jsonData.context_span,this.datetime_weighted_value=jsonData.datetime_weighted_value,this.event_ref=jsonData.event_ref.id,this.stemmed_gram=jsonData.stemmed_gram,this.unstemmed_gram=jsonData.unstemmed_gram,this.value=jsonData.value,"object"!=typeof jsonData.event_ref||jsonData.event_ref instanceof index_esm.a||(this.event=new Event.a(jsonData.event_ref))})),NetworkService=__webpack_require__("./src/networking/NetworkService.ts");function IndexedEventGramService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function IndexedEventGramService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){IndexedEventGramService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){IndexedEventGramService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function IndexedEventGramService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function IndexedEventGramService_setPrototypeOf(o,p){return IndexedEventGramService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},IndexedEventGramService_setPrototypeOf(o,p)}function IndexedEventGramService_createSuper(Derived){var hasNativeReflectConstruct=function IndexedEventGramService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=IndexedEventGramService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=IndexedEventGramService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return IndexedEventGramService_possibleConstructorReturn(this,result)}}function IndexedEventGramService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function IndexedEventGramService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function IndexedEventGramService_getPrototypeOf(o){return IndexedEventGramService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},IndexedEventGramService_getPrototypeOf(o)}var IndexedEventGramService_IndexedEventGramService=function(_ModelService){!function IndexedEventGramService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&IndexedEventGramService_setPrototypeOf(subClass,superClass)}(IndexedEventGramService,_ModelService);var _getKeyGramsForEvent,_getMatchingGrams,_super=IndexedEventGramService_createSuper(IndexedEventGramService);function IndexedEventGramService(firebaseConfig){return function IndexedEventGramService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IndexedEventGramService),_super.call(this,PopulationOptions.a.IndexedEventGram,firebaseConfig)}return function IndexedEventGramService_createClass(Constructor,protoProps,staticProps){return protoProps&&IndexedEventGramService_defineProperties(Constructor.prototype,protoProps),staticProps&&IndexedEventGramService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(IndexedEventGramService,[{key:"getMatchingGrams",value:(_getMatchingGrams=IndexedEventGramService_asyncToGenerator(regeneratorRuntime.mark((function _callee(stemmedGram){var networkResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkResponse=this.networkService.getDocuments(PopulationOptions.a.IndexedEventGram,[Object(index_esm.k)("stemmed_gram",constants.c.eq,stemmedGram)]),_context.abrupt("return",this.createModels(networkResponse,IndexedEventGram_IndexedEventGram,"getMatchingGrams("+stemmedGram+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getMatchingGrams(_x){return _getMatchingGrams.apply(this,arguments)})},{key:"getKeyGramsForEvent",value:(_getKeyGramsForEvent=IndexedEventGramService_asyncToGenerator(regeneratorRuntime.mark((function _callee2(eventRef){var networkResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return networkResponse=this.networkService.getDocuments(PopulationOptions.a.IndexedEventGram,[Object(index_esm.k)("event_ref",constants.c.eq,Object(index_esm.c)(NetworkService.a.getDb(),eventRef)),Object(index_esm.i)("value",constants.a.desc),Object(index_esm.h)(5)]),_context2.abrupt("return",this.createModels(networkResponse,IndexedEventGram_IndexedEventGram,"getKeyGramsForEvent("+eventRef+")"));case 2:case"end":return _context2.stop()}}),_callee2,this)}))),function getKeyGramsForEvent(_x2){return _getKeyGramsForEvent.apply(this,arguments)})}]),IndexedEventGramService}(ModelService.a),NetworkResponse=__webpack_require__("./src/networking/NetworkResponse.ts");__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-iso-string.js");function EventService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function EventService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EventService_setPrototypeOf(o,p){return EventService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},EventService_setPrototypeOf(o,p)}function EventService_createSuper(Derived){var hasNativeReflectConstruct=function EventService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=EventService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=EventService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return EventService_possibleConstructorReturn(this,result)}}function EventService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function EventService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function EventService_getPrototypeOf(o){return EventService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},EventService_getPrototypeOf(o)}var EventService_EventService=function(_ModelService){!function EventService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&EventService_setPrototypeOf(subClass,superClass)}(EventService,_ModelService);var _getRenderableEvent,_getEvents,_getFullEventById,_getEventById,_super=EventService_createSuper(EventService);function EventService(firebaseConfig){var _this;return function EventService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventService),(_this=_super.call(this,PopulationOptions.a.Event,firebaseConfig)).indexedEventGramService=void 0,_this.indexedEventGramService=new IndexedEventGramService_IndexedEventGramService(firebaseConfig),_this}return function EventService_createClass(Constructor,protoProps,staticProps){return protoProps&&EventService_defineProperties(Constructor.prototype,protoProps),staticProps&&EventService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(EventService,[{key:"getEventById",value:(_getEventById=EventService_asyncToGenerator(regeneratorRuntime.mark((function _callee(eventId){var networkResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkResponse=this.networkService.getDocument(eventId,PopulationOptions.a.Event,new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.Body,PopulationOptions.d.EventBodyRef)])),_context.abrupt("return",this.createModel(networkResponse,Event.a,"getEventById("+eventId+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getEventById(_x){return _getEventById.apply(this,arguments)})},{key:"getFullEventById",value:(_getFullEventById=EventService_asyncToGenerator(regeneratorRuntime.mark((function _callee2(eventId){var networkResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return networkResponse=this.networkService.getDocument(eventId,PopulationOptions.a.Event,new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.Body,PopulationOptions.d.EventBodyRef),new PopulationOptions.b(PopulationOptions.a.File,PopulationOptions.d.EventStaticThumbnailRef),new PopulationOptions.b(PopulationOptions.a.File,PopulationOptions.d.EventHoverThumbnailRef)])),_context2.abrupt("return",this.createModel(networkResponse,Event.a,"getFullEventById("+eventId+")"));case 2:case"end":return _context2.stop()}}),_callee2,this)}))),function getFullEventById(_x2){return _getFullEventById.apply(this,arguments)})},{key:"getEvents",value:(_getEvents=EventService_asyncToGenerator(regeneratorRuntime.mark((function _callee3(batchSize,bodyIds,dateRange,sort,startAfterEventDate){var queryConstraints,bodyDocRefs,start,endDate,end,startAfterDate,networkResponse;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!(bodyIds.length>10)){_context3.next=2;break}return _context3.abrupt("return",Promise.reject(new Error("Number of bodies exceeded "+constants.b+".")));case 2:return queryConstraints=[],bodyIds.length>0&&(bodyDocRefs=bodyIds.map((function(bodyId){return Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Body,bodyId)})),queryConstraints.push(Object(index_esm2017.m)(PopulationOptions.d.EventBodyRef,constants.c.in,bodyDocRefs))),dateRange.start&&(start=index_esm2017.b.fromDate(dateRange.start),queryConstraints.push(Object(index_esm2017.m)("event_datetime",constants.c.gteq,start))),dateRange.end&&((endDate=new Date(dateRange.end)).setUTCDate(endDate.getUTCDate()+1),end=index_esm2017.b.fromDate(endDate),queryConstraints.push(Object(index_esm2017.m)("event_datetime",constants.c.lteq,end))),queryConstraints.push(Object(index_esm2017.j)(sort.by,sort.order)),startAfterEventDate&&(startAfterDate=index_esm2017.b.fromDate(startAfterEventDate),queryConstraints.push(Object(index_esm2017.l)(startAfterDate))),queryConstraints.push(Object(index_esm2017.i)(batchSize)),networkResponse=this.networkService.getDocuments(PopulationOptions.a.Event,queryConstraints,new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.Body,PopulationOptions.d.EventBodyRef)])),_context3.abrupt("return",this.createModels(networkResponse,Event.a,"getEvents(["+bodyIds+"], "+JSON.stringify(dateRange)+", "+JSON.stringify(sort)+", "+(null==startAfterEventDate?void 0:startAfterEventDate.toISOString)+"})"));case 11:case"end":return _context3.stop()}}),_callee3,this)}))),function getEvents(_x3,_x4,_x5,_x6,_x7){return _getEvents.apply(this,arguments)})},{key:"getRenderableEvent",value:(_getRenderableEvent=EventService_asyncToGenerator(regeneratorRuntime.mark((function _callee4(event){var eventKeyGrams,keyGrams,error;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,this.indexedEventGramService.getKeyGramsForEvent(PopulationOptions.a.Event+"/"+event.id);case 3:return eventKeyGrams=_context4.sent,keyGrams=eventKeyGrams.reduce((function(list,gram){return void 0!==gram.unstemmed_gram&&list.push(gram.unstemmed_gram),list}),[]),_context4.abrupt("return",Promise.resolve(Object.assign({},event,{keyGrams:keyGrams})));case 8:return _context4.prev=8,_context4.t0=_context4.catch(0),(error=Object(createError.a)(_context4.t0)).message="eventService_getRenderableEvent("+JSON.stringify(event)+")_"+error.message,_context4.abrupt("return",Promise.reject(error));case 13:case"end":return _context4.stop()}}),_callee4,this,[[0,8]])}))),function getRenderableEvent(_x8){return _getRenderableEvent.apply(this,arguments)})}]),EventService}(ModelService.a),utils_cleanText=__webpack_require__("./src/utils/cleanText.ts");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=EventSearchService_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function EventSearchService_slicedToArray(arr,i){return function EventSearchService_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EventSearchService_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||EventSearchService_unsupportedIterableToArray(arr,i)||function EventSearchService_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EventSearchService_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return EventSearchService_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EventSearchService_arrayLikeToArray(o,minLen):void 0}}function EventSearchService_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function EventSearchService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventSearchService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventSearchService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventSearchService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function EventSearchService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EventSearchService_createClass(Constructor,protoProps,staticProps){return protoProps&&EventSearchService_defineProperties(Constructor.prototype,protoProps),staticProps&&EventSearchService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function EventSearchService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var FiltersContainer_styled$div,EventSearchService_MatchingEvent=EventSearchService_createClass((function MatchingEvent(eventId,pureRelevance,datetimeWeightedRelevance,containedGrams,selectedGram,selectedContextSpan){EventSearchService_classCallCheck(this,MatchingEvent),this.eventRef=void 0,this.pureRelevance=void 0,this.datetimeWeightedRelevance=void 0,this.containedGrams=void 0,this.selectedGram=void 0,this.selectedContextSpan=void 0,this.eventRef=PopulationOptions.a.Event+"/"+eventId,this.pureRelevance=pureRelevance,this.datetimeWeightedRelevance=datetimeWeightedRelevance,this.containedGrams=containedGrams,this.selectedGram=selectedGram,this.selectedContextSpan=selectedContextSpan})),EventSearchService_EventSearchService=function(){function EventSearchService(firebaseConfig){EventSearchService_classCallCheck(this,EventSearchService),this.networkService=void 0,this.eventService=void 0,this.indexedEventGramService=void 0,this.serviceName=void 0,this.networkService=NetworkService.a.getInstance(firebaseConfig.options,firebaseConfig.settings),this.eventService=new EventService_EventService(firebaseConfig),this.indexedEventGramService=new IndexedEventGramService_IndexedEventGramService(firebaseConfig),this.serviceName="EventSearchService"}var _getRenderableEvent,_searchEvents;return EventSearchService_createClass(EventSearchService,[{key:"cleanText",value:function cleanText(query){var cleanedQuery=Object(utils_cleanText.a)(query);return Object(stopword.removeStopwords)(cleanedQuery.split(" "))}},{key:"getStemmedGrams",value:function getStemmedGrams(query){var cleanedQuery=this.cleanText(query),stemmedGrams=[];return Array.from([1,2,3]).forEach((function(nGramSize){Object(n_gram.a)(nGramSize)(cleanedQuery).forEach((function(gramSet){stemmedGrams.push(gramSet.map((function(gram){return Object(dist_module.a)(gram)})).join(" ").toLowerCase())}))})),stemmedGrams}},{key:"searchEvents",value:(_searchEvents=EventSearchService_asyncToGenerator(regeneratorRuntime.mark((function _callee(query){var allStemmedGramsFromQuery,allGramSearchPromises,matchingEvents,compiledEvents,error,_this=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return allStemmedGramsFromQuery=this.getStemmedGrams(query),allGramSearchPromises=allStemmedGramsFromQuery.map((function(stemmedGram){return _this.indexedEventGramService.getMatchingGrams(stemmedGram)})),matchingEvents=new Map,compiledEvents=[],_context.prev=4,_context.next=7,Promise.allSettled(allGramSearchPromises).then((function(allGramSearchResults){allGramSearchResults.forEach((function(gramSearchResult){if("fulfilled"===gramSearchResult.status)gramSearchResult.value.forEach((function(indexedGram){if(void 0!==indexedGram.event_ref){var currentGramsForEvent=matchingEvents.get(indexedGram.event_ref);void 0===currentGramsForEvent?matchingEvents.set(indexedGram.event_ref,[indexedGram]):currentGramsForEvent.push(indexedGram)}}));else if(!(gramSearchResult.reason instanceof NetworkResponse.c))throw gramSearchResult.reason}));var _step,_iterator=_createForOfIteratorHelper(matchingEvents);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref2=EventSearchService_slicedToArray(_step.value,2),eventId=_ref2[0],matchingIndexedEventGrams=_ref2[1],matchingGramWithHighestValue=Object(lodash.maxBy)(matchingIndexedEventGrams,"value"),selectedContextSpan="",selectedGram="";matchingGramWithHighestValue&&(selectedContextSpan=(null==matchingGramWithHighestValue?void 0:matchingGramWithHighestValue.context_span)||"",selectedGram=(null==matchingGramWithHighestValue?void 0:matchingGramWithHighestValue.unstemmed_gram)||"");var containedGrams=matchingIndexedEventGrams.reduce((function(list,gram){return void 0!==gram.unstemmed_gram&&list.push(gram.unstemmed_gram),list}),[]);compiledEvents.push(new EventSearchService_MatchingEvent(eventId,Object(lodash.sumBy)(matchingIndexedEventGrams,"value"),Object(lodash.sumBy)(matchingIndexedEventGrams,"datetime_weighted_value"),containedGrams,selectedGram,selectedContextSpan))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}));case 7:return _context.abrupt("return",Promise.resolve(compiledEvents));case 10:return _context.prev=10,_context.t0=_context.catch(4),(error=Object(createError.a)(_context.t0)).message=this.serviceName+"_searchEvents("+query+")_"+error.message,_context.abrupt("return",Promise.reject(error));case 15:case"end":return _context.stop()}}),_callee,this,[[4,10]])}))),function searchEvents(_x){return _searchEvents.apply(this,arguments)})},{key:"getRenderableEvent",value:(_getRenderableEvent=EventSearchService_asyncToGenerator(regeneratorRuntime.mark((function _callee2(matchingEvent){var eventId,eventWithBodyPromise,eventKeyGramsPromise,_yield$Promise$all,_yield$Promise$all2,event,eventKeyGrams,keyUnstemmedGrams,error;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return eventId=matchingEvent.eventRef.split("/")[1],eventWithBodyPromise=this.eventService.getEventById(eventId),eventKeyGramsPromise=this.indexedEventGramService.getKeyGramsForEvent(matchingEvent.eventRef),_context2.prev=3,_context2.next=6,Promise.all([eventWithBodyPromise,eventKeyGramsPromise]);case 6:return _yield$Promise$all=_context2.sent,_yield$Promise$all2=EventSearchService_slicedToArray(_yield$Promise$all,2),event=_yield$Promise$all2[0],eventKeyGrams=_yield$Promise$all2[1],keyUnstemmedGrams=eventKeyGrams.reduce((function(list,gram){return void 0!==gram.unstemmed_gram&&list.push(gram.unstemmed_gram),list}),[]),_context2.abrupt("return",Promise.resolve(Object.assign({},matchingEvent,{event:event,keyGrams:keyUnstemmedGrams})));case 14:return _context2.prev=14,_context2.t0=_context2.catch(3),(error=Object(createError.a)(_context2.t0)).message=this.serviceName+"_getRenderableEvent("+matchingEvent.eventRef+")_"+error.message,_context2.abrupt("return",Promise.reject(error));case 19:case"end":return _context2.stop()}}),_callee2,this,[[3,14]])}))),function getRenderableEvent(_x2){return _getRenderableEvent.apply(this,arguments)})}]),EventSearchService}(),MeetingCard=__webpack_require__("./src/components/Cards/MeetingCard/MeetingCard.tsx"),useFilter=__webpack_require__("./src/components/Filters/useFilter.ts"),FiltersContainer=styled_browser_esm.a.div(((FiltersContainer_styled$div={display:"flex",flexDirection:"column",gap:4})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={flexDirection:"row",flexWrap:"wrap","& > div:last-of-type:not(:first-of-type), & > button:last-of-type":{marginLeft:"auto"}},FiltersContainer_styled$div)),FiltersContainer_FiltersContainer=FiltersContainer;try{FiltersContainer.displayName="FiltersContainer",FiltersContainer.__docgenInfo={description:"",displayName:"FiltersContainer",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/FiltersContainer/FiltersContainer.tsx#FiltersContainer"]={docgenInfo:FiltersContainer.__docgenInfo,name:"FiltersContainer",path:"src/components/Filters/FiltersContainer/FiltersContainer.tsx#FiltersContainer"})}catch(__react_docgen_typescript_loader_error){}var FilterPopup=__webpack_require__("./src/components/Filters/FilterPopup/FilterPopup.tsx"),SelectDateRange=__webpack_require__("./src/components/Filters/SelectDateRange/index.ts"),SelectSorting=__webpack_require__("./src/components/Filters/SelectSorting/index.ts"),SelectTextFilterOptions=__webpack_require__("./src/components/Filters/SelectTextFilterOptions/index.ts");function EventsFilter_slicedToArray(arr,i){return function EventsFilter_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EventsFilter_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EventsFilter_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EventsFilter_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EventsFilter_arrayLikeToArray(o,minLen)}(arr,i)||function EventsFilter_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EventsFilter_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EventsFilter_EventsFilter=function EventsFilter(_ref){var allBodies=_ref.allBodies,filters=_ref.filters,sortOptions=_ref.sortOptions,handlePopupClose=_ref.handlePopupClose,_filters=EventsFilter_slicedToArray(filters,3),committeeFilter=_filters[0],dateRangeFilter=_filters[1],sortFilter=_filters[2],_useState2=EventsFilter_slicedToArray(Object(react.useState)(""),2),committeeQuery=_useState2[0],setCommitteeQuery=_useState2[1];return Object(jsx_runtime.jsxs)(FiltersContainer_FiltersContainer,{children:[Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(FilterPopup.a,{name:committeeFilter.name,clear:committeeFilter.clear,getTextRep:committeeFilter.getTextRep,isActive:committeeFilter.isActive,popupIsOpen:committeeFilter.popupIsOpen,setPopupIsOpen:committeeFilter.setPopupIsOpen,handlePopupClose:handlePopupClose,closeOnChange:!1,hasLimitError:committeeFilter.hasLimitError(),limit:committeeFilter.limit,children:Object(jsx_runtime.jsx)(SelectTextFilterOptions.a,{name:committeeFilter.name,state:committeeFilter.state,update:committeeFilter.update,options:function getCommitteeNameOptions(){return allBodies.map((function(body){return{name:body.id,label:body.name,disabled:!1}}))}(),optionQuery:committeeQuery,setOptionQuery:setCommitteeQuery})})}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(FilterPopup.a,{name:dateRangeFilter.name,clear:dateRangeFilter.clear,getTextRep:dateRangeFilter.getTextRep,isActive:dateRangeFilter.isActive,popupIsOpen:dateRangeFilter.popupIsOpen,setPopupIsOpen:dateRangeFilter.setPopupIsOpen,handlePopupClose:handlePopupClose,closeOnChange:!1,children:Object(jsx_runtime.jsx)(SelectDateRange.a,{state:dateRangeFilter.state,update:dateRangeFilter.update})})}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(FilterPopup.a,{name:sortFilter.name,clear:sortFilter.clear,getTextRep:sortFilter.getTextRep,isActive:sortFilter.isActive,popupIsOpen:sortFilter.popupIsOpen,setPopupIsOpen:sortFilter.setPopupIsOpen,handlePopupClose:handlePopupClose,closeOnChange:!0,children:Object(jsx_runtime.jsx)(SelectSorting.a,{sortOptions:sortOptions,state:sortFilter.state,update:sortFilter.update,onPopupClose:function handleSortingPopupClose(){sortFilter.setPopupIsOpen(!1),handlePopupClose()}})})})]})};EventsFilter_EventsFilter.displayName="EventsFilter";var Filters_EventsFilter_EventsFilter=EventsFilter_EventsFilter;try{EventsFilter_EventsFilter.displayName="EventsFilter",EventsFilter_EventsFilter.__docgenInfo={description:"",displayName:"EventsFilter",props:{allBodies:{defaultValue:null,description:"",name:"allBodies",required:!0,type:{name:"Body[]"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Filter<any>[]"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!0,type:{name:"SortOption[]"}},handlePopupClose:{defaultValue:null,description:"",name:"handlePopupClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/EventsFilter/EventsFilter.tsx#EventsFilter"]={docgenInfo:EventsFilter_EventsFilter.__docgenInfo,name:"EventsFilter",path:"src/components/Filters/EventsFilter/EventsFilter.tsx#EventsFilter"})}catch(__react_docgen_typescript_loader_error){}var fonts=__webpack_require__("./src/styles/fonts.ts"),FetchCardsStatus=styled_browser_esm.a.p({fontSize:fonts.a.font_size_6}),Shared_FetchCardsStatus=FetchCardsStatus;try{FetchCardsStatus.displayName="FetchCardsStatus",FetchCardsStatus.__docgenInfo={description:"An element to display the status of fetching cards.",displayName:"FetchCardsStatus",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/FetchCardsStatus.tsx#FetchCardsStatus"]={docgenInfo:FetchCardsStatus.__docgenInfo,name:"FetchCardsStatus",path:"src/components/Shared/FetchCardsStatus.tsx#FetchCardsStatus"})}catch(__react_docgen_typescript_loader_error){}var PageContainer=styled_browser_esm.a.div({display:"flex",flexDirection:"column",gap:32}),Shared_PageContainer=PageContainer;try{PageContainer.displayName="PageContainer",PageContainer.__docgenInfo={description:"A flex container for pages that display cards - legislations, events",displayName:"PageContainer",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/PageContainer.tsx#PageContainer"]={docgenInfo:PageContainer.__docgenInfo,name:"PageContainer",path:"src/components/Shared/PageContainer.tsx#PageContainer"})}catch(__react_docgen_typescript_loader_error){}var SearchBar_SearchBar=function SearchBar(_ref){var placeholder=_ref.placeholder,query=_ref.query,setQuery=_ref.setQuery,handleSearch=_ref.handleSearch;return Object(jsx_runtime.jsx)("form",{className:"mzp-c-form",role:"search",onSubmit:function onSearch(event){event.preventDefault(),handleSearch()},children:Object(jsx_runtime.jsx)("input",{type:"search",placeholder:placeholder,required:!0,"aria-required":!0,value:query,onChange:function onSearchChange(event){return setQuery(event.target.value)}})})};SearchBar_SearchBar.displayName="SearchBar";var SearchPageTitle_styled$div,Shared_SearchBar=SearchBar_SearchBar;try{SearchBar_SearchBar.displayName="SearchBar",SearchBar_SearchBar.__docgenInfo={description:"",displayName:"SearchBar",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},setQuery:{defaultValue:null,description:"",name:"setQuery",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}},handleSearch:{defaultValue:null,description:"",name:"handleSearch",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/SearchBar.tsx#SearchBar"]={docgenInfo:SearchBar_SearchBar.__docgenInfo,name:"SearchBar",path:"src/components/Shared/SearchBar.tsx#SearchBar"})}catch(__react_docgen_typescript_loader_error){}var SearchPageTitle=styled_browser_esm.a.div(((SearchPageTitle_styled$div={display:"flex",flexDirection:"column",rowGap:32,"& > h1, & form, & input":{marginBottom:0},"& input":{width:"100%"}})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={flexDirection:"row",justifyContent:"space-between",alignItems:"center","& input":{width:"auto"}},SearchPageTitle_styled$div)),Shared_SearchPageTitle=SearchPageTitle;try{SearchPageTitle.displayName="SearchPageTitle",SearchPageTitle.__docgenInfo={description:"A container of an `h1` and a `SearchBar` for pages with title and seach bar.",displayName:"SearchPageTitle",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/SearchPageTitle.tsx#SearchPageTitle"]={docgenInfo:SearchPageTitle.__docgenInfo,name:"SearchPageTitle",path:"src/components/Shared/SearchPageTitle.tsx#SearchPageTitle"})}catch(__react_docgen_typescript_loader_error){}var CardsContainer_styled$div,CARDS_COLUMN_NUM,ShowMoreCards=__webpack_require__("./src/components/Shared/ShowMoreCards.tsx"),colors=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.link.js"),__webpack_require__("./src/styles/colors.ts"));!function(CARDS_COLUMN_NUM){CARDS_COLUMN_NUM[CARDS_COLUMN_NUM.tablet=2]="tablet",CARDS_COLUMN_NUM[CARDS_COLUMN_NUM.desktop=3]="desktop"}(CARDS_COLUMN_NUM||(CARDS_COLUMN_NUM={}));var CardsContainer_Container=styled_browser_esm.a.div(((CardsContainer_styled$div={display:"grid",gap:64,gridTemplateColumns:"1fr"})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={justifyContent:"space-between",gridTemplateColumns:"repeat("+CARDS_COLUMN_NUM.tablet+", 1fr)"},CardsContainer_styled$div["@media (min-width:"+mediaBreakpoints.a.desktop+")"]={gridTemplateColumns:"repeat("+CARDS_COLUMN_NUM.desktop+", 1fr)"},CardsContainer_styled$div)),CardsContainer_CardsContainer=function CardsContainer(_ref){var cards=_ref.cards;return Object(jsx_runtime.jsx)(CardsContainer_Container,{children:cards.map((function(_ref2){var link=_ref2.link,jsx=_ref2.jsx,searchQuery=_ref2.searchQuery;return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(react_router_dom.b,{to:{pathname:link,state:{query:searchQuery||""}},style:{textDecoration:"none",color:colors.a.black,fontSize:fonts.a.font_size_6},children:jsx})},link)}))})};CardsContainer_CardsContainer.displayName="CardsContainer";var containers_CardsContainer_CardsContainer=CardsContainer_CardsContainer;try{CardsContainer_CardsContainer.displayName="CardsContainer",CardsContainer_CardsContainer.__docgenInfo={description:"",displayName:"CardsContainer",props:{cards:{defaultValue:null,description:"",name:"cards",required:!0,type:{name:"Card[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/CardsContainer/CardsContainer.tsx#CardsContainer"]={docgenInfo:CardsContainer_CardsContainer.__docgenInfo,name:"CardsContainer",path:"src/containers/CardsContainer/CardsContainer.tsx#CardsContainer"})}catch(__react_docgen_typescript_loader_error){}var types=__webpack_require__("./src/pages/SearchPage/types.ts"),ProjectConstants=__webpack_require__("./src/constants/ProjectConstants.ts"),getTimeZoneName=__webpack_require__("./src/utils/getTimeZoneName.ts");function SearchEventsContainer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function SearchEventsContainer_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SearchEventsContainer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SearchEventsContainer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function SearchEventsContainer_slicedToArray(arr,i){return function SearchEventsContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SearchEventsContainer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SearchEventsContainer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SearchEventsContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SearchEventsContainer_arrayLikeToArray(o,minLen)}(arr,i)||function SearchEventsContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SearchEventsContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SearchEventsContainer_SearchEventsContainer=function SearchEventsContainer(_ref){var searchEventsState=_ref.searchEventsState,bodies=_ref.bodies,_useAppConfigContext=AppConfigContext_useAppConfigContext(),firebaseConfig=_useAppConfigContext.firebaseConfig,municipality=_useAppConfigContext.municipality,language=Object(LanguageConfigContext.b)().language,searchQueryRef=Object(react.useRef)(searchEventsState.query),_useState2=SearchEventsContainer_slicedToArray(Object(react.useState)(searchEventsState.query),2),searchQuery=_useState2[0],setSearchQuery=_useState2[1];Object(useDocumentTitle.a)(searchQueryRef.current?LocalizedStrings.a.events+" -- "+searchQueryRef.current:LocalizedStrings.a.events);var dateRangeFilter=Object(useFilter.a)({name:LocalizedStrings.a.date,initialState:searchEventsState.dateRange,defaultDataValue:"",textRepFunction:Object(SelectDateRange.b)(language,municipality.timeZone)}),committeeFilter=Object(useFilter.a)({name:LocalizedStrings.a.committee,initialState:searchEventsState.committees,defaultDataValue:!1,textRepFunction:SelectTextFilterOptions.b,limit:constants.b}),sortFilter=Object(useFilter.a)({name:"Sort",initialState:{by:"datetimeWeightedRelevance",order:constants.a.desc,label:LocalizedStrings.a.most_relevant_first},defaultDataValue:"",textRepFunction:SelectSorting.b}),fetchEvents=Object(react.useCallback)(SearchEventsContainer_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var eventSearchService,matchingEvents,renderableEvents,bodyIds,filteredEvents;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return eventSearchService=new EventSearchService_EventSearchService(firebaseConfig),_context.next=3,eventSearchService.searchEvents(searchQuery);case 3:return matchingEvents=_context.sent,_context.next=6,Promise.all(matchingEvents.map((function(matchingEvent){return eventSearchService.getRenderableEvent(matchingEvent)})));case 6:return renderableEvents=_context.sent,bodyIds=Object(SelectTextFilterOptions.c)(committeeFilter.state),filteredEvents=renderableEvents.filter((function(_ref3){var event=_ref3.event;if(bodyIds.length){var _event$body;if(null===(_event$body=event.body)||void 0===_event$body||!_event$body.id)return!1;if(!bodyIds.includes(event.body.id))return!1}var timeZoneStartDate=Object(getTimeZoneName.a)(new Date(dateRangeFilter.state.start),municipality.timeZone),timeZoneEndDate=Object(getTimeZoneName.a)(new Date(dateRangeFilter.state.end),municipality.timeZone);if(timeZoneStartDate||timeZoneEndDate){if(!event.event_datetime)return!1;if(timeZoneStartDate&&event.event_datetime<timeZoneStartDate)return!1;if(timeZoneEndDate){var endDate=new Date(timeZoneEndDate);if(endDate.setUTCDate(endDate.getUTCDate()+1),event.event_datetime>endDate)return!1}}return!0})),filteredEvents=Object(lodash.orderBy)(filteredEvents,[sortFilter.state.by],[sortFilter.state.order]),_context.abrupt("return",Promise.resolve(filteredEvents));case 11:case"end":return _context.stop()}}),_callee)}))),[searchQuery,committeeFilter.state,dateRangeFilter.state,sortFilter.state,firebaseConfig,municipality.timeZone]),isDesktop=Object(react_responsive.useMediaQuery)({query:"(min-width: "+mediaBreakpoints.a.desktop+")"}),_useSearchCards2=SearchEventsContainer_slicedToArray(useSearchCards({batchSize:ProjectConstants.b-(isDesktop?1:0),visibleCount:0,cards:[],fetchCards:!0,error:null},fetchEvents),2),state=_useSearchCards2[0],dispatch=_useSearchCards2[1],location=Object(react_router.h)(),handleSearch=Object(react.useCallback)((function(){searchQueryRef.current=searchQuery;var queryParams="?q="+searchQuery.trim().replace(/\s+/g,"+");history.pushState({},"","#"+location.pathname+queryParams),dispatch({type:SearchCardsActionType.FETCH_CARDS})}),[searchQuery,location,dispatch]),handleShowMoreEvents=Object(react.useCallback)((function(){return dispatch({type:SearchCardsActionType.SHOW_MORE_CARDS})}),[dispatch]),fetchEventsResult=Object(react.useMemo)((function(){if(state.fetchCards)return Object(jsx_runtime.jsx)(Loader.a,{active:!0,size:"massive"});if(state.error)return Object(jsx_runtime.jsx)(Shared_FetchCardsStatus,{children:state.error.toString()});if(0===state.cards.length)return Object(jsx_runtime.jsx)(Shared_FetchCardsStatus,{children:LocalizedStrings.a.no_results_found});var cards=state.cards.slice(0,state.visibleCount).map((function(_ref4){var event=_ref4.event,keyGrams=_ref4.keyGrams,selectedContextSpan=_ref4.selectedContextSpan,selectedGram=_ref4.selectedGram;return{link:"/"+types.a.EVENT+"/"+event.id,jsx:Object(jsx_runtime.jsx)(MeetingCard.a,{event:event,tags:keyGrams,excerpt:selectedContextSpan,gram:selectedGram,query:searchQueryRef.current}),searchQuery:searchQueryRef.current}}));return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Shared_FetchCardsStatus,{children:state.cards.length+" "+types.a.EVENT}),Object(jsx_runtime.jsx)(containers_CardsContainer_CardsContainer,{cards:cards})]})}),[state.fetchCards,state.error,state.cards,state.visibleCount]),showMoreEvents=Object(react.useMemo)((function(){return state.visibleCount<state.cards.length&&!state.fetchCards}),[state]);return Object(jsx_runtime.jsxs)(Shared_PageContainer,{children:[Object(jsx_runtime.jsxs)(Shared_SearchPageTitle,{children:[Object(jsx_runtime.jsx)("h1",{className:"mzp-u-title-sm",children:LocalizedStrings.a.event_search_results}),Object(jsx_runtime.jsx)(Shared_SearchBar,{placeholder:LocalizedStrings.a.search_topic_placeholder,query:searchQuery,setQuery:setSearchQuery,handleSearch:handleSearch})]}),Object(jsx_runtime.jsx)(Filters_EventsFilter_EventsFilter,{allBodies:bodies,filters:[committeeFilter,dateRangeFilter,sortFilter],sortOptions:[{by:"datetimeWeightedRelevance",order:constants.a.desc,label:LocalizedStrings.a.most_relevant_first},{by:"pureRelevance",order:constants.a.desc,label:LocalizedStrings.a.closest_match_first},{by:"event.event_datetime",order:constants.a.desc,label:LocalizedStrings.a.newest_first},{by:"event.event_datetime",order:constants.a.asc,label:LocalizedStrings.a.oldest_first}],handlePopupClose:handleSearch}),fetchEventsResult,Object(jsx_runtime.jsx)(ShowMoreCards.a,{isVisible:showMoreEvents,children:Object(jsx_runtime.jsx)("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:handleShowMoreEvents,children:LocalizedStrings.a.show_more})})]})};SearchEventsContainer_SearchEventsContainer.displayName="SearchEventsContainer";var containers_SearchEventsContainer_SearchEventsContainer=SearchEventsContainer_SearchEventsContainer;try{SearchEventsContainer_SearchEventsContainer.displayName="SearchEventsContainer",SearchEventsContainer_SearchEventsContainer.__docgenInfo={description:"",displayName:"SearchEventsContainer",props:{searchEventsState:{defaultValue:null,description:"",name:"searchEventsState",required:!0,type:{name:"SearchEventsState"}},bodies:{defaultValue:null,description:"",name:"bodies",required:!0,type:{name:"Body[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/SearchEventsContainer/SearchEventsContainer.tsx#SearchEventsContainer"]={docgenInfo:SearchEventsContainer_SearchEventsContainer.__docgenInfo,name:"SearchEventsContainer",path:"src/containers/SearchEventsContainer/SearchEventsContainer.tsx#SearchEventsContainer"})}catch(__react_docgen_typescript_loader_error){}function SearchEventsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function SearchEventsPage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SearchEventsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SearchEventsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var SearchEventsPage_SearchEventsPage=function SearchEventsPage(){var location=Object(react_router.h)(),searchEventsState=Object(react.useMemo)((function(){return location.state?location.state:{query:query_string_default.a.parse(location.search).q||" ",committees:{},dateRange:{start:"",end:""}}}),[location]),firebaseConfig=AppConfigContext_useAppConfigContext().firebaseConfig,fetchSearchEventsContainerData=Object(react.useCallback)(SearchEventsPage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var bodyService,bodies;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return bodyService=new BodyService_BodyService(firebaseConfig),_context.next=3,bodyService.getAllBodies();case 3:return bodies=_context.sent,_context.abrupt("return",Promise.resolve({bodies:bodies,searchEventsState:searchEventsState}));case 5:case"end":return _context.stop()}}),_callee)}))),[firebaseConfig,searchEventsState]),searchEventsDataState=Object(useFetchData.b)({isLoading:!1,error:null,hasFetchRequest:!0},fetchSearchEventsContainerData).state;return Object(jsx_runtime.jsx)(containers_FetchDataContainer_FetchDataContainer,{isLoading:searchEventsDataState.isLoading,error:searchEventsDataState.error,children:searchEventsDataState.data&&Object(jsx_runtime.jsx)(containers_SearchEventsContainer_SearchEventsContainer,Object.assign({},searchEventsDataState.data))})};SearchEventsPage_SearchEventsPage.displayName="SearchEventsPage";try{SearchEventsPage_SearchEventsPage.displayName="SearchEventsPage",SearchEventsPage_SearchEventsPage.__docgenInfo={description:"",displayName:"SearchEventsPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/SearchEventsPage/SearchEventsPage.tsx#SearchEventsPage"]={docgenInfo:SearchEventsPage_SearchEventsPage.__docgenInfo,name:"SearchEventsPage",path:"src/pages/SearchEventsPage/SearchEventsPage.tsx#SearchEventsPage"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.parse-float.js");var firestoreTimestampToDate=__webpack_require__("./src/utils/firestoreTimestampToDate.ts");function Session_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Session_createClass(Constructor,protoProps,staticProps){return protoProps&&Session_defineProperties(Constructor.prototype,protoProps),staticProps&&Session_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Session_Session=Session_createClass((function Session(jsonData){!function Session_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Session),this.id=void 0,this.caption_uri=void 0,this.event_ref=void 0,this.event=void 0,this.external_source_id=void 0,this.session_datetime=void 0,this.session_index=void 0,this.video_uri=void 0,this.id=jsonData.id,this.event_ref=jsonData.event_ref.id,this.session_datetime=Object(firestoreTimestampToDate.a)(jsonData.session_datetime),this.session_index=jsonData.session_index,this.video_uri=jsonData.video_uri,jsonData.caption_uri&&(this.caption_uri=jsonData.caption_uri),"object"!=typeof jsonData.event_ref||jsonData.event_ref instanceof index_esm.a||(this.event=new Event.a(jsonData.event_ref)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id)}));function SessionService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function SessionService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SessionService_setPrototypeOf(o,p){return SessionService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},SessionService_setPrototypeOf(o,p)}function SessionService_createSuper(Derived){var hasNativeReflectConstruct=function SessionService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SessionService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SessionService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SessionService_possibleConstructorReturn(this,result)}}function SessionService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function SessionService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function SessionService_getPrototypeOf(o){return SessionService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},SessionService_getPrototypeOf(o)}var SessionService_SessionService=function(_ModelService){!function SessionService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&SessionService_setPrototypeOf(subClass,superClass)}(SessionService,_ModelService);var _getSessionsByEventId,_super=SessionService_createSuper(SessionService);function SessionService(firebaseConfig){return function SessionService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SessionService),_super.call(this,PopulationOptions.a.Session,firebaseConfig)}return function SessionService_createClass(Constructor,protoProps,staticProps){return protoProps&&SessionService_defineProperties(Constructor.prototype,protoProps),staticProps&&SessionService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SessionService,[{key:"getSessionsByEventId",value:(_getSessionsByEventId=function SessionService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SessionService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SessionService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(eventId){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Session,[Object(index_esm2017.m)(PopulationOptions.d.SessionEventRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Event,eventId)),Object(index_esm2017.j)("session_index")]),_context.abrupt("return",this.createModels(networkQueryResponse,Session_Session,"getSessionsByEventId("+eventId+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getSessionsByEventId(_x){return _getSessionsByEventId.apply(this,arguments)})}]),SessionService}(ModelService.a),File=__webpack_require__("./src/models/File.ts");function Transcript_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Transcript_createClass(Constructor,protoProps,staticProps){return protoProps&&Transcript_defineProperties(Constructor.prototype,protoProps),staticProps&&Transcript_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Transcript_Transcript=Transcript_createClass((function Transcript(jsonData){!function Transcript_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Transcript),this.id=void 0,this.confidence=void 0,this.created=void 0,this.generator=void 0,this.file_ref=void 0,this.file=void 0,this.session_ref=void 0,this.session=void 0,this.id=jsonData.id,this.confidence=jsonData.confidence,this.generator=jsonData.generator,this.created=Object(firestoreTimestampToDate.a)(jsonData.created),this.file_ref=jsonData.file_ref.id,this.session_ref=jsonData.session_ref.id,"object"!=typeof jsonData.file_ref||jsonData.file_ref instanceof index_esm.a||(this.file=new File.a(jsonData.file_ref)),"object"!=typeof jsonData.session_ref||jsonData.session_ref instanceof index_esm.a||(this.session=new Session_Session(jsonData.session_ref))}));function TranscriptService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function TranscriptService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TranscriptService_setPrototypeOf(o,p){return TranscriptService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},TranscriptService_setPrototypeOf(o,p)}function TranscriptService_createSuper(Derived){var hasNativeReflectConstruct=function TranscriptService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TranscriptService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TranscriptService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TranscriptService_possibleConstructorReturn(this,result)}}function TranscriptService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function TranscriptService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function TranscriptService_getPrototypeOf(o){return TranscriptService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},TranscriptService_getPrototypeOf(o)}var TranscriptService_TranscriptService=function(_ModelService){!function TranscriptService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&TranscriptService_setPrototypeOf(subClass,superClass)}(TranscriptService,_ModelService);var _getTranscriptBySessionId,_super=TranscriptService_createSuper(TranscriptService);function TranscriptService(firebaseConfig){return function TranscriptService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TranscriptService),_super.call(this,PopulationOptions.a.Transcript,firebaseConfig)}return function TranscriptService_createClass(Constructor,protoProps,staticProps){return protoProps&&TranscriptService_defineProperties(Constructor.prototype,protoProps),staticProps&&TranscriptService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(TranscriptService,[{key:"getTranscriptBySessionId",value:(_getTranscriptBySessionId=function TranscriptService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){TranscriptService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){TranscriptService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(sessionId){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Transcript,[Object(index_esm2017.m)(PopulationOptions.d.TranscriptSessionRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Session,sessionId)),Object(index_esm2017.j)("confidence",constants.a.desc),Object(index_esm2017.i)(1)],new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.File,PopulationOptions.d.TranscriptFileRef)])),_context.abrupt("return",this.createModels(networkQueryResponse,Transcript_Transcript,"getTranscriptBySessionId("+sessionId+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getTranscriptBySessionId(_x){return _getTranscriptBySessionId.apply(this,arguments)})}]),TranscriptService}(ModelService.a),EventMinutesItem=__webpack_require__("./src/models/EventMinutesItem.ts");function EventMinutesItemService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventMinutesItemService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EventMinutesItemService_setPrototypeOf(o,p){return EventMinutesItemService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},EventMinutesItemService_setPrototypeOf(o,p)}function EventMinutesItemService_createSuper(Derived){var hasNativeReflectConstruct=function EventMinutesItemService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=EventMinutesItemService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=EventMinutesItemService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return EventMinutesItemService_possibleConstructorReturn(this,result)}}function EventMinutesItemService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function EventMinutesItemService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function EventMinutesItemService_getPrototypeOf(o){return EventMinutesItemService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},EventMinutesItemService_getPrototypeOf(o)}var EventMinutesItemService_EventMinutesItemService=function(_ModelService){!function EventMinutesItemService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&EventMinutesItemService_setPrototypeOf(subClass,superClass)}(EventMinutesItemService,_ModelService);var _getEventMinutesItemsByEventId,_super=EventMinutesItemService_createSuper(EventMinutesItemService);function EventMinutesItemService(firebaseConfig){return function EventMinutesItemService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventMinutesItemService),_super.call(this,PopulationOptions.a.EventMinutesItem,firebaseConfig)}return function EventMinutesItemService_createClass(Constructor,protoProps,staticProps){return protoProps&&EventMinutesItemService_defineProperties(Constructor.prototype,protoProps),staticProps&&EventMinutesItemService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(EventMinutesItemService,[{key:"getEventMinutesItemsByEventId",value:(_getEventMinutesItemsByEventId=function EventMinutesItemService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventMinutesItemService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventMinutesItemService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(eventId){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.EventMinutesItem,[Object(index_esm2017.m)(PopulationOptions.d.EventMinutesItemEventRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Event,eventId)),Object(index_esm2017.j)("index")],new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.MinutesItem,PopulationOptions.d.EventMinutesItemMinutesItemRef)])),_context.abrupt("return",this.createModels(networkQueryResponse,EventMinutesItem.a,"getEventMinutesItemsByEventId("+eventId+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getEventMinutesItemsByEventId(_x){return _getEventMinutesItemsByEventId.apply(this,arguments)})}]),EventMinutesItemService}(ModelService.a),EventMinutesItemFileService=__webpack_require__("./src/networking/EventMinutesItemFileService.ts"),VoteService=__webpack_require__("./src/networking/VoteService.ts");function TranscriptJson_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TranscriptJson_createClass(Constructor,protoProps,staticProps){return protoProps&&TranscriptJson_defineProperties(Constructor.prototype,protoProps),staticProps&&TranscriptJson_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var TranscriptJson_TranscriptJson=TranscriptJson_createClass((function TranscriptJson(jsonData){!function TranscriptJson_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TranscriptJson),this.confidence=void 0,this.generator=void 0,this.session_datetime=void 0,this.created_datetime=void 0,this.sentences=void 0,this.annotations=void 0,this.confidence=jsonData.confidence,this.generator=jsonData.generator,this.created_datetime=Object(firestoreTimestampToDate.a)(jsonData.created_datetime),this.sentences=jsonData.sentences,jsonData.session_datetime&&(this.session_datetime=Object(firestoreTimestampToDate.a)(jsonData.session_datetime)),jsonData.annotations&&(this.annotations=jsonData.annotations)}));function TranscriptJsonService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function TranscriptJsonService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TranscriptJsonService_setPrototypeOf(o,p){return TranscriptJsonService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},TranscriptJsonService_setPrototypeOf(o,p)}function TranscriptJsonService_createSuper(Derived){var hasNativeReflectConstruct=function TranscriptJsonService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TranscriptJsonService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TranscriptJsonService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TranscriptJsonService_possibleConstructorReturn(this,result)}}function TranscriptJsonService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function TranscriptJsonService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function TranscriptJsonService_getPrototypeOf(o){return TranscriptJsonService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},TranscriptJsonService_getPrototypeOf(o)}var TranscriptJsonService_TranscriptJsonService=function(_ModelService){!function TranscriptJsonService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&TranscriptJsonService_setPrototypeOf(subClass,superClass)}(TranscriptJsonService,_ModelService);var _download,_super=TranscriptJsonService_createSuper(TranscriptJsonService);function TranscriptJsonService(firebaseConfig){return function TranscriptJsonService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TranscriptJsonService),_super.call(this,PopulationOptions.a.TranscriptJSON,firebaseConfig)}return function TranscriptJsonService_createClass(Constructor,protoProps,staticProps){return protoProps&&TranscriptJsonService_defineProperties(Constructor.prototype,protoProps),staticProps&&TranscriptJsonService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(TranscriptJsonService,[{key:"download",value:(_download=function TranscriptJsonService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){TranscriptJsonService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){TranscriptJsonService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(uri){var networkResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkResponse=this.networkService.downloadJson(uri),_context.abrupt("return",this.createModel(networkResponse,TranscriptJson_TranscriptJson,"download("+uri+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function download(_x){return _download.apply(this,arguments)})}]),TranscriptJsonService}(ModelService.a),EventContainer=__webpack_require__("./src/containers/EventContainer/EventContainer.tsx"),video_es=__webpack_require__("./node_modules/video.js/dist/video.es.js"),es=__webpack_require__("./node_modules/video.js/dist/lang/es.json"),de=__webpack_require__("./node_modules/video.js/dist/lang/de.json");function EventPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventPage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function EventPage_slicedToArray(arr,i){return function EventPage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EventPage_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EventPage_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EventPage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EventPage_arrayLikeToArray(o,minLen)}(arr,i)||function EventPage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EventPage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function initVideoJsLanguages(){video_es.default.addLanguage("es",es),video_es.default.addLanguage("de",de)}();var EventPage_EventPage=function EventPage(){var id=Object(react_router.i)().id,firebaseConfig=AppConfigContext_useAppConfigContext().firebaseConfig,location=Object(react_router.h)(),searchQuery=Object(react.useMemo)((function(){return location.state?location.state.query:""}),[location.state]),_useMemo2=EventPage_slicedToArray(Object(react.useMemo)((function(){var _queryString$parse=query_string_default.a.parse(location.search);return[_queryString$parse.s,_queryString$parse.t].map((function(el){if(null!==el&&"string"==typeof el){var n=parseFloat(el);return isNaN(n)||n<0?0:Math.floor(n)}return 0}))}),[location.search]),2),initialSession=_useMemo2[0],initialSeconds=_useMemo2[1],fetchEvent=Object(react.useCallback)(EventPage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var eventService,event;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return eventService=new EventService_EventService(firebaseConfig),_context.next=3,eventService.getEventById(id);case 3:return event=_context.sent,_context.abrupt("return",Promise.resolve(event));case 5:case"end":return _context.stop()}}),_callee)}))),[firebaseConfig,id]),eventDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchEvent).state,fetchSessions=Object(react.useCallback)(EventPage_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var sessionService,sessions;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return sessionService=new SessionService_SessionService(firebaseConfig),_context2.next=3,sessionService.getSessionsByEventId(id);case 3:return sessions=_context2.sent,_context2.abrupt("return",Promise.resolve(sessions));case 5:case"end":return _context2.stop()}}),_callee2)}))),[firebaseConfig,id]),sessionsDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchSessions).state,fetchMinutesItemsWithFiles=Object(react.useCallback)(EventPage_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var eventMinutesItemService,eventMinutesItemFileService,eventMinutesItems,eventMinutesItemsFiles;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return eventMinutesItemService=new EventMinutesItemService_EventMinutesItemService(firebaseConfig),eventMinutesItemFileService=new EventMinutesItemFileService.a(firebaseConfig),_context3.next=4,eventMinutesItemService.getEventMinutesItemsByEventId(id);case 4:return eventMinutesItems=_context3.sent,_context3.next=7,Promise.all(eventMinutesItems.map((function(_ref4){var id=_ref4.id;return eventMinutesItemFileService.getEventMinutesItemFilesByEventMinutesItemId(id)})));case 7:return eventMinutesItemsFiles=_context3.sent,_context3.abrupt("return",Promise.resolve(eventMinutesItems.map((function(eventMinutesItem,i){return Object.assign({},eventMinutesItem,{files:eventMinutesItemsFiles[i]})}))));case 9:case"end":return _context3.stop()}}),_callee3)}))),[firebaseConfig,id]),eventMinutesItemsDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchMinutesItemsWithFiles).state,fetchVotes=Object(react.useCallback)(EventPage_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var voteService,votes;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return voteService=new VoteService.a(firebaseConfig),_context4.next=3,voteService.getVotesByEventId(id);case 3:return votes=_context4.sent,_context4.abrupt("return",Promise.resolve(votes));case 5:case"end":return _context4.stop()}}),_callee4)}))),[firebaseConfig,id]),votesDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchVotes).state,fetchSentences=Object(react.useCallback)(EventPage_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var transcriptService,transcriptJsonService,transcripts,transcriptJsons,sentences;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(transcriptService=new TranscriptService_TranscriptService(firebaseConfig),transcriptJsonService=new TranscriptJsonService_TranscriptJsonService(firebaseConfig),!sessionsDataState.data){_context5.next=12;break}return _context5.next=5,Promise.all(sessionsDataState.data.map((function(_ref7){var id=_ref7.id;return transcriptService.getTranscriptBySessionId(id)})));case 5:return transcripts=_context5.sent,_context5.next=8,Promise.all(transcripts.map((function(transcript){var _transcript$0$file;return transcriptJsonService.download(null===(_transcript$0$file=transcript[0].file)||void 0===_transcript$0$file?void 0:_transcript$0$file.uri)})));case 8:return transcriptJsons=_context5.sent,sentences=[],transcriptJsons.forEach((function(transcriptJson,sessionIndex){var _transcriptJson$sente;null==transcriptJson||null===(_transcriptJson$sente=transcriptJson.sentences)||void 0===_transcriptJson$sente||_transcriptJson$sente.forEach((function(sentence){sentences.push({session_index:sessionIndex,index:sentences.length,start_time:sentence.start_time,end_time:sentence.end_time,text:sentence.text,speaker_name:sentence.speaker_name,speaker_index:sentence.speaker_index,speaker_id:void 0,speaker_pictureSrc:void 0})}))})),_context5.abrupt("return",Promise.resolve(sentences));case 12:return _context5.abrupt("return",Promise.resolve([]));case 13:case"end":return _context5.stop()}}),_callee5)}))),[firebaseConfig,sessionsDataState.data]),_useFetchData5=Object(useFetchData.b)(Object.assign({},useFetchData.c,{hasFetchRequest:!1}),fetchSentences),sentencesDataState=_useFetchData5.state,sentencesDataDispatch=_useFetchData5.dispatch;Object(react.useEffect)((function(){sessionsDataState.data&&sentencesDataDispatch({type:useFetchData.a.FETCH})}),[sessionsDataState.data,sentencesDataDispatch]);var isFetchingEventData=Object(react.useMemo)((function(){return eventDataState.isLoading||sessionsDataState.isLoading||eventMinutesItemsDataState.isLoading||votesDataState.isLoading}),[eventDataState.isLoading,sessionsDataState.isLoading,eventMinutesItemsDataState.isLoading,votesDataState.isLoading]),eventData=Object(react.useMemo)((function(){if(eventDataState.data&&sessionsDataState.data&&eventMinutesItemsDataState.data&&votesDataState.data)return{event:eventDataState.data,sessions:sessionsDataState.data,eventMinutesItems:eventMinutesItemsDataState.data,votes:votesDataState.data}}),[eventDataState.data,sessionsDataState.data,eventMinutesItemsDataState.data,votesDataState.data]),fetchEventDataError=Object(react.useMemo)((function(){var errorMsgs=[eventDataState.error,sessionsDataState.error,eventMinutesItemsDataState.error,votesDataState.error].map((function(error){return(null==error?void 0:error.message)||""})).filter((function(errorMsg){return errorMsg.length>0}));return errorMsgs.length>0?new Error(errorMsgs.join("\n")):null}),[eventDataState.error,sessionsDataState.error,eventMinutesItemsDataState.error,votesDataState.error]);return Object(jsx_runtime.jsx)(containers_FetchDataContainer_FetchDataContainer,{isLoading:isFetchingEventData,error:fetchEventDataError,children:eventData&&Object(jsx_runtime.jsx)(EventContainer.a,Object.assign({},eventData,{sentences:sentencesDataState,searchQuery:searchQuery,initialSession:initialSession>0&&initialSession<eventData.sessions.length?initialSession:0,initialSeconds:initialSeconds}))})};EventPage_EventPage.displayName="EventPage";try{EventPage_EventPage.displayName="EventPage",EventPage_EventPage.__docgenInfo={description:"",displayName:"EventPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/EventPage/EventPage.tsx#EventPage"]={docgenInfo:EventPage_EventPage.__docgenInfo,name:"EventPage",path:"src/pages/EventPage/EventPage.tsx#EventPage"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.index-of.js");var useFetchModels=__webpack_require__("./src/hooks/useFetchModels.ts"),_excluded=["keyGrams"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function EventsContainer_slicedToArray(arr,i){return function EventsContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EventsContainer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EventsContainer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EventsContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EventsContainer_arrayLikeToArray(o,minLen)}(arr,i)||function EventsContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EventsContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function EventsContainer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventsContainer_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventsContainer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventsContainer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var EventsContainer_EventsContainer=function EventsContainer(_ref){var bodies=_ref.bodies,initialSelectedBodies=_ref.initialSelectedBodies,_useAppConfigContext=AppConfigContext_useAppConfigContext(),firebaseConfig=_useAppConfigContext.firebaseConfig,municipality=_useAppConfigContext.municipality,language=Object(LanguageConfigContext.b)().language,dateRangeFilter=Object(useFilter.a)({name:LocalizedStrings.a.date,initialState:{start:"",end:""},defaultDataValue:"",textRepFunction:Object(SelectDateRange.b)(language,municipality.timeZone)}),committeeFilter=Object(useFilter.a)({name:LocalizedStrings.a.committee,initialState:bodies.reduce((function(obj,body){return obj[body.id]=initialSelectedBodies[body.id]||!1,obj}),{}),defaultDataValue:!1,textRepFunction:SelectTextFilterOptions.b,limit:constants.b}),sortFilter=Object(useFilter.a)({name:"Sort",initialState:{by:"event_datetime",order:constants.a.desc,label:LocalizedStrings.a.newest_first},defaultDataValue:"",textRepFunction:SelectSorting.b}),fetchEventsFunctionCreator=Object(react.useCallback)((function(state){return EventsContainer_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var lastVisibleEventDate,eventService,events,renderableEvents;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return lastVisibleEventDate=!state.fetchModels&&state.models.length>0?state.models[state.models.length-1].event_datetime:void 0,eventService=new EventService_EventService(firebaseConfig),_context.next=4,eventService.getEvents(state.batchSize,Object(SelectTextFilterOptions.c)(committeeFilter.state),{start:Object(getTimeZoneName.a)(new Date(dateRangeFilter.state.start),municipality.timeZone),end:Object(getTimeZoneName.a)(new Date(dateRangeFilter.state.end),municipality.timeZone)},{by:sortFilter.state.by,order:sortFilter.state.order},lastVisibleEventDate);case 4:return events=_context.sent,_context.next=7,Promise.all(events.map((function(event){return eventService.getRenderableEvent(event)})));case 7:return renderableEvents=_context.sent,_context.abrupt("return",Promise.resolve(renderableEvents));case 9:case"end":return _context.stop()}}),_callee)})))}),[firebaseConfig,committeeFilter.state,dateRangeFilter.state,sortFilter.state,municipality.timeZone]),isDesktop=Object(react_responsive.useMediaQuery)({query:"(min-width: "+mediaBreakpoints.a.desktop+")"}),_useFetchModels=Object(useFetchModels.b)({batchSize:ProjectConstants.b-(isDesktop?1:0),models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},fetchEventsFunctionCreator),state=_useFetchModels.state,dispatch=_useFetchModels.dispatch,history=Object(react_router.g)(),_useState2=EventsContainer_slicedToArray(Object(react.useState)(""),2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],handlePopupClose=Object(react.useCallback)((function(){dispatch({type:useFetchModels.a.FETCH_MODELS,payload:!0})}),[dispatch]),handleShowMoreEvents=Object(react.useCallback)((function(){return dispatch({type:useFetchModels.a.FETCH_MODELS,payload:!1})}),[dispatch]),fetchEventsResult=Object(react.useMemo)((function(){if(state.fetchModels)return Object(jsx_runtime.jsx)(Loader.a,{active:!0,size:"massive"});if(state.error)return Object(jsx_runtime.jsx)(Shared_FetchCardsStatus,{children:state.error.toString()});if(0===state.models.length)return Object(jsx_runtime.jsx)(Shared_FetchCardsStatus,{children:LocalizedStrings.a.no_results_found});var cards=state.models.map((function(_ref3){var keyGrams=_ref3.keyGrams,event=_objectWithoutProperties(_ref3,_excluded);return{link:"/"+types.a.EVENT+"/"+event.id,jsx:Object(jsx_runtime.jsx)(MeetingCard.a,{event:event,tags:keyGrams})}}));return Object(jsx_runtime.jsx)(containers_CardsContainer_CardsContainer,{cards:cards})}),[state.fetchModels,state.error,state.models]);return Object(jsx_runtime.jsxs)(Shared_PageContainer,{children:[Object(jsx_runtime.jsxs)(Shared_SearchPageTitle,{children:[Object(jsx_runtime.jsx)("h1",{className:"mzp-u-title-sm",children:LocalizedStrings.a.events}),Object(jsx_runtime.jsx)(Shared_SearchBar,{placeholder:LocalizedStrings.a.search_topic_placeholder,query:searchQuery,setQuery:setSearchQuery,handleSearch:function handleSearch(){var queryParams="?q="+searchQuery.trim().replace(/\s+/g,"+");history.push({pathname:"/"+types.a.EVENT+"/search",search:queryParams,state:{query:searchQuery.trim(),committees:committeeFilter.state,dateRange:dateRangeFilter.state}})}})]}),Object(jsx_runtime.jsx)(Filters_EventsFilter_EventsFilter,{allBodies:bodies,filters:[committeeFilter,dateRangeFilter,sortFilter],sortOptions:[{by:"event_datetime",order:constants.a.desc,label:LocalizedStrings.a.newest_first},{by:"event_datetime",order:constants.a.asc,label:LocalizedStrings.a.oldest_first}],handlePopupClose:handlePopupClose}),fetchEventsResult,Object(jsx_runtime.jsx)(ShowMoreCards.a,{isVisible:state.hasMoreModels&&!state.fetchModels,children:Object(jsx_runtime.jsxs)("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:handleShowMoreEvents,children:[Object(jsx_runtime.jsx)("span",{children:LocalizedStrings.a.show_more}),Object(jsx_runtime.jsx)(Loader.a,{inline:!0,active:state.showMoreModels,size:"tiny"})]})})]})};EventsContainer_EventsContainer.displayName="EventsContainer";var containers_EventsContainer_EventsContainer=EventsContainer_EventsContainer;try{EventsContainer_EventsContainer.displayName="EventsContainer",EventsContainer_EventsContainer.__docgenInfo={description:"",displayName:"EventsContainer",props:{initialSelectedBodies:{defaultValue:null,description:"",name:"initialSelectedBodies",required:!0,type:{name:"Record<string, boolean>"}},bodies:{defaultValue:null,description:"",name:"bodies",required:!0,type:{name:"Body[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/EventsContainer/EventsContainer.tsx#EventsContainer"]={docgenInfo:EventsContainer_EventsContainer.__docgenInfo,name:"EventsContainer",path:"src/containers/EventsContainer/EventsContainer.tsx#EventsContainer"})}catch(__react_docgen_typescript_loader_error){}function EventsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventsPage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventsPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var EventsPage_EventsPage=function EventsPage(){var firebaseConfig=AppConfigContext_useAppConfigContext().firebaseConfig;Object(useDocumentTitle.a)(LocalizedStrings.a.events);var location=Object(react_router.h)(),eventsState=Object(react.useMemo)((function(){if(location.state)return location.state;var body=query_string_default.a.parse(location.search).body,committees={};return body&&"string"==typeof body&&(committees[body]=!0),{committees:committees}}),[location]),fetchEventsData=Object(react.useCallback)(EventsPage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var bodyService,bodies;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return bodyService=new BodyService_BodyService(firebaseConfig),_context.next=3,bodyService.getAllBodies();case 3:return bodies=_context.sent,_context.abrupt("return",Promise.resolve({bodies:bodies}));case 5:case"end":return _context.stop()}}),_callee)}))),[firebaseConfig]),eventsDataState=Object(useFetchData.b)({isLoading:!1,error:null,hasFetchRequest:!0},fetchEventsData).state;return Object(jsx_runtime.jsx)(containers_FetchDataContainer_FetchDataContainer,{isLoading:eventsDataState.isLoading,error:eventsDataState.error,children:eventsDataState.data&&Object(jsx_runtime.jsx)(containers_EventsContainer_EventsContainer,Object.assign({},eventsDataState.data,{initialSelectedBodies:eventsState.committees}))})};EventsPage_EventsPage.displayName="EventsPage";try{EventsPage_EventsPage.displayName="EventsPage",EventsPage_EventsPage.__docgenInfo={description:"",displayName:"EventsPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/EventsPage/EventsPage.tsx#EventsPage"]={docgenInfo:EventsPage_EventsPage.__docgenInfo,name:"EventsPage",path:"src/pages/EventsPage/EventsPage.tsx#EventsPage"})}catch(__react_docgen_typescript_loader_error){}var FileService=__webpack_require__("./src/networking/FileService.ts"),Person=__webpack_require__("./src/models/Person.ts");function PersonService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PersonService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PersonService_setPrototypeOf(o,p){return PersonService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},PersonService_setPrototypeOf(o,p)}function PersonService_createSuper(Derived){var hasNativeReflectConstruct=function PersonService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=PersonService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=PersonService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return PersonService_possibleConstructorReturn(this,result)}}function PersonService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function PersonService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function PersonService_getPrototypeOf(o){return PersonService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},PersonService_getPrototypeOf(o)}var PersonService_PersonService=function(_ModelService){!function PersonService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&PersonService_setPrototypeOf(subClass,superClass)}(PersonService,_ModelService);var _getPersonById,_super=PersonService_createSuper(PersonService);function PersonService(firebaseConfig){return function PersonService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PersonService),_super.call(this,PopulationOptions.a.Person,firebaseConfig)}return function PersonService_createClass(Constructor,protoProps,staticProps){return protoProps&&PersonService_defineProperties(Constructor.prototype,protoProps),staticProps&&PersonService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(PersonService,[{key:"getPersonById",value:(_getPersonById=function PersonService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PersonService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PersonService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(personId){var populatePersonAvatar,networkResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return populatePersonAvatar=new PopulationOptions.b(PopulationOptions.a.File,PopulationOptions.d.PersonPictureRef),networkResponse=this.networkService.getDocument(personId,PopulationOptions.a.Person,new PopulationOptions.c([populatePersonAvatar])),_context.abrupt("return",this.createModel(networkResponse,Person.a,"getPersonById("+personId+")"));case 3:case"end":return _context.stop()}}),_callee,this)}))),function getPersonById(_x){return _getPersonById.apply(this,arguments)})}]),PersonService}(ModelService.a),models_constants=__webpack_require__("./src/models/constants.ts");function Seat_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Seat_createClass(Constructor,protoProps,staticProps){return protoProps&&Seat_defineProperties(Constructor.prototype,protoProps),staticProps&&Seat_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Seat_Seat=Seat_createClass((function Seat(jsonData){!function Seat_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Seat),this.id=void 0,this.name=void 0,this.external_source_id=void 0,this.electoral_area=void 0,this.electoral_type=void 0,this.image_ref=void 0,this.image=void 0,this.id=jsonData.id,this.name=jsonData.name,jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),jsonData.electoral_area&&(this.electoral_area=jsonData.electoral_area),jsonData.electoral_type&&(this.electoral_type=jsonData.electoral_type),jsonData.image_ref&&(jsonData.image_ref instanceof index_esm2017.a?this.image_ref=jsonData.image_ref.id:"object"==typeof jsonData.image_ref&&(this.image=new File.a(jsonData.image_ref)))}));function Role_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Role_createClass(Constructor,protoProps,staticProps){return protoProps&&Role_defineProperties(Constructor.prototype,protoProps),staticProps&&Role_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Role_Role=Role_createClass((function Role(jsonData){!function Role_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Role),this.id=void 0,this.title=void 0,this.start_datetime=void 0,this.end_datetime=void 0,this.person=void 0,this.person_ref=void 0,this.body=void 0,this.body_ref=void 0,this.seat=void 0,this.seat_ref=void 0,this.external_source_id=void 0,this.id=jsonData.id,this.title=jsonData.title,this.person_ref=jsonData.person_ref.id,this.seat_ref=jsonData.seat_ref.id,this.start_datetime=Object(firestoreTimestampToDate.a)(jsonData.start_datetime),jsonData.end_datetime&&(this.end_datetime=Object(firestoreTimestampToDate.a)(jsonData.end_datetime)),"object"!=typeof jsonData.person_ref||jsonData.person_ref instanceof index_esm2017.a||(this.person=new Person.a(jsonData.person_ref)),jsonData.body_ref&&(jsonData.body_ref instanceof index_esm2017.a?this.body_ref=jsonData.body_ref.id:"object"==typeof jsonData.body_ref&&(this.body=new Body.a(jsonData.body_ref))),"object"!=typeof jsonData.seat_ref||jsonData.seat_ref instanceof index_esm2017.a||(this.seat=new Seat_Seat(jsonData.seat_ref)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id)}));function RoleService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function RoleService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){RoleService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){RoleService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function RoleService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function RoleService_setPrototypeOf(o,p){return RoleService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},RoleService_setPrototypeOf(o,p)}function RoleService_createSuper(Derived){var hasNativeReflectConstruct=function RoleService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=RoleService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=RoleService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return RoleService_possibleConstructorReturn(this,result)}}function RoleService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function RoleService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function RoleService_getPrototypeOf(o){return RoleService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},RoleService_getPrototypeOf(o)}var RoleService_RoleService=function(_ModelService){!function RoleService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&RoleService_setPrototypeOf(subClass,superClass)}(RoleService,_ModelService);var _getMostRecentCouncilMemberRoleBySeat,_getCouncilMemberRolesByPersonId,_getPopulatedRolesByPersonId,_super=RoleService_createSuper(RoleService);function RoleService(firebaseConfig){return function RoleService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RoleService),_super.call(this,PopulationOptions.a.Role,firebaseConfig)}return function RoleService_createClass(Constructor,protoProps,staticProps){return protoProps&&RoleService_defineProperties(Constructor.prototype,protoProps),staticProps&&RoleService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(RoleService,[{key:"getPopulatedRolesByPersonId",value:(_getPopulatedRolesByPersonId=RoleService_asyncToGenerator(regeneratorRuntime.mark((function _callee(personId){var populateBodyRef,networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return populateBodyRef=new PopulationOptions.b(PopulationOptions.a.Body,PopulationOptions.d.RoleBodyRef),networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Role,[Object(index_esm2017.m)(PopulationOptions.d.RolePersonRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Person,personId)),Object(index_esm2017.j)("start_datetime",constants.a.desc)],new PopulationOptions.c([populateBodyRef])),_context.abrupt("return",this.createModels(networkQueryResponse,Role_Role,"getPopulatedRolesByPersonId("+personId+")"));case 3:case"end":return _context.stop()}}),_callee,this)}))),function getPopulatedRolesByPersonId(_x){return _getPopulatedRolesByPersonId.apply(this,arguments)})},{key:"getCouncilMemberRolesByPersonId",value:(_getCouncilMemberRolesByPersonId=RoleService_asyncToGenerator(regeneratorRuntime.mark((function _callee2(personId){var populateSeatRef,networkQueryResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return populateSeatRef=new PopulationOptions.b(PopulationOptions.a.Seat,PopulationOptions.d.RoleSeatRef),networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Role,[Object(index_esm2017.m)(PopulationOptions.d.RolePersonRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Person,personId)),Object(index_esm2017.m)("title",constants.c.eq,models_constants.c.COUNCILMEMBER),Object(index_esm2017.j)("start_datetime",constants.a.desc)],new PopulationOptions.c([populateSeatRef])),_context2.abrupt("return",this.createModels(networkQueryResponse,Role_Role,"getCouncilMemberRolesByPersonId("+personId+")"));case 3:case"end":return _context2.stop()}}),_callee2,this)}))),function getCouncilMemberRolesByPersonId(_x2){return _getCouncilMemberRolesByPersonId.apply(this,arguments)})},{key:"getMostRecentCouncilMemberRoleBySeat",value:(_getMostRecentCouncilMemberRoleBySeat=RoleService_asyncToGenerator(regeneratorRuntime.mark((function _callee3(seatId){var populatePersonRef,openRolesNetworkResponse,openEnddateRoles,networkQueryResponse,roles;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return populatePersonRef=new PopulationOptions.b(PopulationOptions.a.Person,PopulationOptions.d.RolePersonRef),openRolesNetworkResponse=this.networkService.getDocuments(PopulationOptions.a.Role,[Object(index_esm2017.m)(PopulationOptions.d.RoleSeatRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Seat,seatId)),Object(index_esm2017.m)("end_datetime",constants.c.eq,null),Object(index_esm2017.i)(1),Object(index_esm2017.j)("start_datetime",constants.a.desc)],new PopulationOptions.c([populatePersonRef])),_context3.next=4,this.createModels(openRolesNetworkResponse,Role_Role,"getMostRecentCouncilMemberRoleBySeatWithNullEndDates");case 4:if(!(openEnddateRoles=_context3.sent)[0]){_context3.next=7;break}return _context3.abrupt("return",Promise.resolve(openEnddateRoles[0]));case 7:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Role,[Object(index_esm2017.m)(PopulationOptions.d.RoleSeatRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Seat,seatId)),Object(index_esm2017.i)(1),Object(index_esm2017.j)("end_datetime",constants.a.desc)],new PopulationOptions.c([populatePersonRef])),_context3.next=10,this.createModels(networkQueryResponse,Role_Role,"getMostRecentCouncilMemberRoleBySeat");case 10:if(!(roles=_context3.sent)[0]){_context3.next=15;break}return _context3.abrupt("return",Promise.resolve(roles[0]));case 15:return _context3.abrupt("return",Promise.resolve(null));case 16:case"end":return _context3.stop()}}),_callee3,this)}))),function getMostRecentCouncilMemberRoleBySeat(_x3){return _getMostRecentCouncilMemberRoleBySeat.apply(this,arguments)})}]),RoleService}(ModelService.a),PersonContainer_PersonContainer=__webpack_require__("./src/containers/PersonContainer/PersonContainer.tsx");function PersonPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PersonPage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PersonPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PersonPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var PersonPage_PersonPage=function PersonPage(){var id=Object(react_router.i)().id,firebaseConfig=AppConfigContext_useAppConfigContext().firebaseConfig,fetchPerson=Object(react.useCallback)(PersonPage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var personService,person;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return personService=new PersonService_PersonService(firebaseConfig),_context.next=3,personService.getPersonById(id);case 3:return person=_context.sent,_context.abrupt("return",Promise.resolve(person));case 5:case"end":return _context.stop()}}),_callee)}))),[id,firebaseConfig]),personDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchPerson).state,fetchPersonPicture=Object(react.useCallback)(PersonPage_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _personDataState$data,fileService,networkService,personPictureSrc;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(fileService=new FileService.a(firebaseConfig),networkService=fileService.networkService,null===(_personDataState$data=personDataState.data)||void 0===_personDataState$data||!_personDataState$data.picture){_context2.next=7;break}return _context2.next=5,networkService.getDownloadUrl(personDataState.data.picture.uri);case 5:return personPictureSrc=_context2.sent,_context2.abrupt("return",Promise.resolve(personPictureSrc));case 7:return _context2.abrupt("return",Promise.resolve(null));case 8:case"end":return _context2.stop()}}),_callee2)}))),[personDataState.data,firebaseConfig]),_useFetchData2=Object(useFetchData.b)(Object.assign({},useFetchData.c,{hasFetchRequest:!1}),fetchPersonPicture),personPictureDataState=_useFetchData2.state,personPictureDataDispatch=_useFetchData2.dispatch;Object(react.useEffect)((function(){personDataState.data&&personPictureDataDispatch({type:useFetchData.a.FETCH})}),[personDataState.data,personPictureDataDispatch]);var fetchCouncilmemberRoles=Object(react.useCallback)(PersonPage_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var roleService,roles;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return roleService=new RoleService_RoleService(firebaseConfig),_context3.next=3,roleService.getCouncilMemberRolesByPersonId(id);case 3:return roles=_context3.sent,_context3.abrupt("return",Promise.resolve(roles));case 5:case"end":return _context3.stop()}}),_callee3)}))),[id,firebaseConfig]),councilmemberRolesDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchCouncilmemberRoles).state,fetchSeatPicture=Object(react.useCallback)(PersonPage_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var fileService,networkService,seatImage,seatImageSrc;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(fileService=new FileService.a(firebaseConfig),networkService=fileService.networkService,!(councilmemberRolesDataState.data&&councilmemberRolesDataState.data.length>0&&councilmemberRolesDataState.data[0].seat&&councilmemberRolesDataState.data[0].seat.image_ref)){_context4.next=10;break}return _context4.next=5,fileService.getFileById(councilmemberRolesDataState.data[0].seat.image_ref);case 5:return seatImage=_context4.sent,_context4.next=8,networkService.getDownloadUrl(seatImage.uri);case 8:return seatImageSrc=_context4.sent,_context4.abrupt("return",Promise.resolve(seatImageSrc));case 10:return _context4.abrupt("return",Promise.resolve(null));case 11:case"end":return _context4.stop()}}),_callee4)}))),[councilmemberRolesDataState.data,firebaseConfig]),_useFetchData4=Object(useFetchData.b)(Object.assign({},useFetchData.c,{hasFetchRequest:!1}),fetchSeatPicture),seatPictureDataState=_useFetchData4.state,seatPictureDataDispatch=_useFetchData4.dispatch;Object(react.useEffect)((function(){councilmemberRolesDataState.data&&seatPictureDataDispatch({type:useFetchData.a.FETCH})}),[councilmemberRolesDataState.data,seatPictureDataDispatch]);var fetchRoles=Object(react.useCallback)(PersonPage_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var roleService,roles;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return roleService=new RoleService_RoleService(firebaseConfig),_context5.next=3,roleService.getPopulatedRolesByPersonId(id);case 3:return roles=_context5.sent,_context5.abrupt("return",Promise.resolve(roles));case 5:case"end":return _context5.stop()}}),_callee5)}))),[id,firebaseConfig]),rolesDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchRoles).state,isFetchingPersonData=Object(react.useMemo)((function(){return personDataState.isLoading||councilmemberRolesDataState.isLoading||rolesDataState.isLoading}),[personDataState.isLoading,councilmemberRolesDataState.isLoading,rolesDataState.isLoading]),personData=Object(react.useMemo)((function(){if(personDataState.data&&councilmemberRolesDataState.data&&rolesDataState.data)return{person:personDataState.data,councilMemberRoles:councilmemberRolesDataState.data,roles:rolesDataState.data}}),[personDataState.data,councilmemberRolesDataState.data,rolesDataState.data]),fetchPersonDataError=Object(react.useMemo)((function(){var errorMsgs=[personDataState.error,councilmemberRolesDataState.error,rolesDataState.error].map((function(error){return(null==error?void 0:error.message)||""})).filter((function(errorMsg){return errorMsg.length>0}));return errorMsgs.length>0?new Error(errorMsgs.join("\n")):null}),[personDataState.error,councilmemberRolesDataState.error,rolesDataState.error]);return Object(jsx_runtime.jsx)(containers_FetchDataContainer_FetchDataContainer,{isLoading:isFetchingPersonData,error:fetchPersonDataError,children:personData&&Object(jsx_runtime.jsx)(PersonContainer_PersonContainer.a,Object.assign({},personData,{personPictureSrc:personPictureDataState,seatPictureSrc:seatPictureDataState}))})};PersonPage_PersonPage.displayName="PersonPage";try{PersonPage_PersonPage.displayName="PersonPage",PersonPage_PersonPage.__docgenInfo={description:"",displayName:"PersonPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/PersonPage/PersonPage.tsx#PersonPage"]={docgenInfo:PersonPage_PersonPage.__docgenInfo,name:"PersonPage",path:"src/pages/PersonPage/PersonPage.tsx#PersonPage"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.splice.js");var PersonCard=__webpack_require__("./src/components/Cards/PersonCard/PersonCard.tsx"),PeopleContainer_PersonContainer=function PersonContainer(_ref){var roles=_ref.roles,seats=_ref.seats,cards=roles.reduce((function(filtered,optionalPersonRole,index){return optionalPersonRole.person&&filtered.push({link:"/people/"+optionalPersonRole.person.id,jsx:Object(jsx_runtime.jsx)(PersonCard.a,{person:optionalPersonRole.person,seat:seats[index]},"person-card-"+optionalPersonRole.person.name)}),filtered}),[]);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("h1",{className:"mzp-u-title-sm",children:"Current Councilmembers"}),Object(jsx_runtime.jsx)(containers_CardsContainer_CardsContainer,{cards:cards})]})};PeopleContainer_PersonContainer.displayName="PersonContainer";var PeopleContainer_PeopleContainer=PeopleContainer_PersonContainer;try{PeopleContainer.displayName="PeopleContainer",PeopleContainer.__docgenInfo={description:"",displayName:"PeopleContainer",props:{searchQuery:{defaultValue:null,description:"Any extra info",name:"searchQuery",required:!1,type:{name:"string"}},roles:{defaultValue:null,description:"all current councilor roles (with Person populated)",name:"roles",required:!0,type:{name:"Role[]"}},seats:{defaultValue:null,description:"the seats associated with the above councilmembers (ordered)",name:"seats",required:!0,type:{name:"Seat[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PeopleContainer/PeopleContainer.tsx#PeopleContainer"]={docgenInfo:PeopleContainer.__docgenInfo,name:"PeopleContainer",path:"src/containers/PeopleContainer/PeopleContainer.tsx#PeopleContainer"})}catch(__react_docgen_typescript_loader_error){}function SeatService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function SeatService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SeatService_setPrototypeOf(o,p){return SeatService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},SeatService_setPrototypeOf(o,p)}function SeatService_createSuper(Derived){var hasNativeReflectConstruct=function SeatService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SeatService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SeatService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SeatService_possibleConstructorReturn(this,result)}}function SeatService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function SeatService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function SeatService_getPrototypeOf(o){return SeatService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},SeatService_getPrototypeOf(o)}var SeatService_SeatService=function(_ModelService){!function SeatService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&SeatService_setPrototypeOf(subClass,superClass)}(SeatService,_ModelService);var _getAllSeats,_super=SeatService_createSuper(SeatService);function SeatService(firebaseConfig){return function SeatService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SeatService),_super.call(this,PopulationOptions.a.Seat,firebaseConfig)}return function SeatService_createClass(Constructor,protoProps,staticProps){return protoProps&&SeatService_defineProperties(Constructor.prototype,protoProps),staticProps&&SeatService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SeatService,[{key:"getAllSeats",value:(_getAllSeats=function SeatService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SeatService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SeatService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var networkResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkResponse=this.networkService.getDocuments(PopulationOptions.a.Seat,[Object(index_esm.i)("name")]),_context.abrupt("return",this.createModels(networkResponse,Seat_Seat,"getAllSeats"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getAllSeats(){return _getAllSeats.apply(this,arguments)})}]),SeatService}(ModelService.a);function PeoplePage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PeoplePage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PeoplePage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PeoplePage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var PeoplePage_PeoplePage=function PeoplePage(){var firebaseConfig=AppConfigContext_useAppConfigContext().firebaseConfig,fetchAllCouncilors=Object(react.useCallback)(PeoplePage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var seatService,roleService,seats,rolePromises,roles,badRoles,goodRoles,i;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return seatService=new SeatService_SeatService(firebaseConfig),roleService=new RoleService_RoleService(firebaseConfig),_context.next=4,seatService.getAllSeats();case 4:return seats=_context.sent,rolePromises=seats.map((function(seat){return roleService.getMostRecentCouncilMemberRoleBySeat(seat.id)})),_context.next=8,Promise.all(rolePromises);case 8:for(roles=_context.sent,badRoles=roles.reduce((function(filtered,optional,index){return null===optional&&filtered.push(index),filtered}),[]),goodRoles=roles.reduce((function(filtered,optional){return null!==optional&&filtered.push(optional),filtered}),[]),i=badRoles.length-1;i>=0;i--)seats.splice(badRoles[i],1);return _context.abrupt("return",{seats:seats,roles:goodRoles});case 13:case"end":return _context.stop()}}),_callee)}))),[firebaseConfig]),peopleDataState=Object(useFetchData.b)({isLoading:!1,error:null,hasFetchRequest:!0},fetchAllCouncilors).state;return Object(jsx_runtime.jsx)(containers_FetchDataContainer_FetchDataContainer,{isLoading:peopleDataState.isLoading,error:peopleDataState.error,children:peopleDataState.data&&Object(jsx_runtime.jsx)(PeopleContainer_PeopleContainer,{roles:peopleDataState.data.roles,seats:peopleDataState.data.seats})})};PeoplePage_PeoplePage.displayName="PeoplePage";try{PeoplePage_PeoplePage.displayName="PeoplePage",PeoplePage_PeoplePage.__docgenInfo={description:"",displayName:"PeoplePage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/PeoplePage/PeoplePage.tsx#PeoplePage"]={docgenInfo:PeoplePage_PeoplePage.__docgenInfo,name:"PeoplePage",path:"src/pages/PeoplePage/PeoplePage.tsx#PeoplePage"})}catch(__react_docgen_typescript_loader_error){}var LegislationIntroduction=__webpack_require__("./src/components/Details/Legislation/LegislationIntroduction.tsx"),LegislationOverview=__webpack_require__("./src/components/Details/Legislation/LegislationOverview.tsx"),LegislationLatestVote=__webpack_require__("./src/components/Details/Legislation/LegislationLatestVote.tsx"),LegislationHistory=__webpack_require__("./src/components/Details/Legislation/LegislationHistory.tsx"),Matter=styled_browser_esm.a.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),MatterContainer_MatterContainer=function MatterContainer(_ref){var matterStatus=_ref.matterStatus,indexedMatterGrams=_ref.indexedMatterGrams,event=_ref.event,sponsors=_ref.sponsors,votes=_ref.votes,legislationHistory=_ref.legislationHistory;return Object(jsx_runtime.jsxs)(Matter,{children:[Object(jsx_runtime.jsx)(LegislationIntroduction.a,{matterStatus:matterStatus,indexedMatterGrams:indexedMatterGrams}),Object(jsx_runtime.jsx)(LegislationOverview.a,{matterStatus:matterStatus,event:event,sponsors:sponsors}),votes&&Object(jsx_runtime.jsx)(LegislationLatestVote.a,{votes:votes}),legislationHistory&&Object(jsx_runtime.jsx)(LegislationHistory.a,{eventMinutesItems:legislationHistory})]})};MatterContainer_MatterContainer.displayName="MatterContainer";var containers_MatterContainer_MatterContainer=MatterContainer_MatterContainer;try{MatterContainer_MatterContainer.displayName="MatterContainer",MatterContainer_MatterContainer.__docgenInfo={description:"",displayName:"MatterContainer",props:{matterStatus:{defaultValue:null,description:"",name:"matterStatus",required:!0,type:{name:"MatterStatus"}},indexedMatterGrams:{defaultValue:null,description:"",name:"indexedMatterGrams",required:!0,type:{name:"IndexedMatterGram[]"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"Event"}},sponsors:{defaultValue:null,description:"",name:"sponsors",required:!0,type:{name:"Person[]"}},votes:{defaultValue:null,description:"",name:"votes",required:!1,type:{name:"Vote[]"}},legislationHistory:{defaultValue:null,description:"",name:"legislationHistory",required:!1,type:{name:"EventMinutesItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/MatterContainer/MatterContainer.tsx#MatterContainer"]={docgenInfo:MatterContainer_MatterContainer.__docgenInfo,name:"MatterContainer",path:"src/containers/MatterContainer/MatterContainer.tsx#MatterContainer"})}catch(__react_docgen_typescript_loader_error){}var models_Matter=__webpack_require__("./src/models/Matter.ts");function MatterStatus_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MatterStatus_createClass(Constructor,protoProps,staticProps){return protoProps&&MatterStatus_defineProperties(Constructor.prototype,protoProps),staticProps&&MatterStatus_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var MatterStatus_MatterStatus=MatterStatus_createClass((function MatterStatus(jsonData){!function MatterStatus_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MatterStatus),this.id=void 0,this.event_minutes_item_ref=void 0,this.event_minutes_item=void 0,this.external_source_id=void 0,this.matter_ref=void 0,this.matter=void 0,this.status=void 0,this.update_datetime=void 0,this.id=jsonData.id,this.matter_ref=jsonData.matter_ref.id,this.status=jsonData.status,this.update_datetime=Object(firestoreTimestampToDate.a)(jsonData.update_datetime),jsonData.event_minutes_item_ref&&(jsonData.event_minutes_item_ref instanceof index_esm2017.a?this.event_minutes_item_ref=jsonData.event_minutes_item_ref.id:"object"==typeof jsonData.event_minutes_item_ref&&(this.event_minutes_item=new EventMinutesItem.a(jsonData.event_minutes_item_ref))),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),"object"!=typeof jsonData.matter_ref||jsonData.matter_ref instanceof index_esm2017.a||(this.matter=new models_Matter.a(jsonData.matter_ref))}));function MatterStatusService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function MatterStatusService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MatterStatusService_setPrototypeOf(o,p){return MatterStatusService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},MatterStatusService_setPrototypeOf(o,p)}function MatterStatusService_createSuper(Derived){var hasNativeReflectConstruct=function MatterStatusService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MatterStatusService_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MatterStatusService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MatterStatusService_possibleConstructorReturn(this,result)}}function MatterStatusService_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function MatterStatusService_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function MatterStatusService_getPrototypeOf(o){return MatterStatusService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},MatterStatusService_getPrototypeOf(o)}var MatterStatusService_MatterStatusService=function(_ModelService){!function MatterStatusService_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&MatterStatusService_setPrototypeOf(subClass,superClass)}(MatterStatusService,_ModelService);var _getMatterStatusesByMatterId,_super=MatterStatusService_createSuper(MatterStatusService);function MatterStatusService(firebaseConfig){return function MatterStatusService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MatterStatusService),_super.call(this,PopulationOptions.a.MatterStatus,firebaseConfig)}return function MatterStatusService_createClass(Constructor,protoProps,staticProps){return protoProps&&MatterStatusService_defineProperties(Constructor.prototype,protoProps),staticProps&&MatterStatusService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(MatterStatusService,[{key:"getMatterStatusesByMatterId",value:(_getMatterStatusesByMatterId=function MatterStatusService_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){MatterStatusService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){MatterStatusService_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(matterId){var populateEventMinutesItems,networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return populateEventMinutesItems=new PopulationOptions.b(PopulationOptions.a.MatterStatus,PopulationOptions.d.MatterStatusEventMinutesItemRef),networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.MatterStatus,[Object(index_esm2017.m)(PopulationOptions.d.MatterStatusMatterRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Matter,matterId)),Object(index_esm2017.j)("update_datetime",constants.a.desc)],new PopulationOptions.c([populateEventMinutesItems])),_context.abrupt("return",this.createModels(networkQueryResponse,MatterStatus_MatterStatus,"getMatterStatusByMatterId("+matterId+")"));case 3:case"end":return _context.stop()}}),_callee,this)}))),function getMatterStatusesByMatterId(_x){return _getMatterStatusesByMatterId.apply(this,arguments)})}]),MatterStatusService}(ModelService.a),MatterSponsorService=__webpack_require__("./src/networking/MatterSponsorService.ts");function MatterPage_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=MatterPage_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function MatterPage_slicedToArray(arr,i){return function MatterPage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MatterPage_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||MatterPage_unsupportedIterableToArray(arr,i)||function MatterPage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MatterPage_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return MatterPage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MatterPage_arrayLikeToArray(o,minLen):void 0}}function MatterPage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function MatterPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function MatterPage_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){MatterPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){MatterPage_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var MatterPage_MatterPage=function MatterPage(){var firebaseConfig=AppConfigContext_useAppConfigContext().firebaseConfig,id=Object(react_router.i)().id,fetchMatterDetails=Object(react.useCallback)(MatterPage_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var matterStatusService,matterSponsorService,eventService,matterSponsorPromises,matterStatusPromises,responses,_responses,matterSponsors,matterStatuses,sponsors,legislationHistory,latestStatus,matterContainerData,latestEventMinutesItem,_iterator,_step,matterStatus,votesService,eventResponses;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return matterStatusService=new MatterStatusService_MatterStatusService(firebaseConfig),matterSponsorService=new MatterSponsorService.a(firebaseConfig),eventService=new EventService_EventService(firebaseConfig),matterSponsorPromises=matterSponsorService.getMatterSponsorByMatterId(id),matterStatusPromises=matterStatusService.getMatterStatusesByMatterId(id),_context.next=7,Promise.all([matterSponsorPromises,matterStatusPromises]);case 7:responses=_context.sent,_responses=MatterPage_slicedToArray(responses,2),matterSponsors=_responses[0],matterStatuses=_responses[1],sponsors=matterSponsors.filter((function(matterSponsor){return matterSponsor.person})).map((function(matterSponsor){return matterSponsor.person})),legislationHistory=matterStatuses.reduce((function(filtered,optional){return optional.event_minutes_item&&filtered.push(optional.event_minutes_item),filtered}),[]),latestStatus=matterStatuses[0],matterContainerData={matterStatus:latestStatus,indexedMatterGrams:[],sponsors:sponsors,legislationHistory:legislationHistory},_iterator=MatterPage_createForOfIteratorHelper(matterStatuses),_context.prev=14,_iterator.s();case 16:if((_step=_iterator.n()).done){_context.next=23;break}if(!(matterStatus=_step.value).event_minutes_item){_context.next=21;break}return latestEventMinutesItem=matterStatus.event_minutes_item,_context.abrupt("break",23);case 21:_context.next=16;break;case 23:_context.next=28;break;case 25:_context.prev=25,_context.t0=_context.catch(14),_iterator.e(_context.t0);case 28:return _context.prev=28,_iterator.f(),_context.finish(28);case 31:if(!latestEventMinutesItem){_context.next=38;break}return votesService=new VoteService.a(firebaseConfig),_context.next=35,Promise.all([votesService.getVotesByEventMinutesItemId(latestEventMinutesItem.id),eventService.getEventById(latestEventMinutesItem.event_ref)]);case 35:eventResponses=_context.sent,matterContainerData.votes=eventResponses[0],matterContainerData.event=eventResponses[1];case 38:return _context.abrupt("return",matterContainerData);case 39:case"end":return _context.stop()}}),_callee,null,[[14,25,28,31]])}))),[firebaseConfig,id]),matterDetailsState=Object(useFetchData.b)({isLoading:!1,error:null,hasFetchRequest:!0},fetchMatterDetails).state;return Object(jsx_runtime.jsx)(containers_FetchDataContainer_FetchDataContainer,{isLoading:matterDetailsState.isLoading,error:matterDetailsState.error,children:matterDetailsState.data&&Object(jsx_runtime.jsx)(containers_MatterContainer_MatterContainer,{indexedMatterGrams:matterDetailsState.data.indexedMatterGrams,matterStatus:matterDetailsState.data.matterStatus,sponsors:matterDetailsState.data.sponsors,event:matterDetailsState.data.event,votes:matterDetailsState.data.votes,legislationHistory:matterDetailsState.data.legislationHistory})})};MatterPage_MatterPage.displayName="MatterPage";try{MatterPage_MatterPage.displayName="MatterPage",MatterPage_MatterPage.__docgenInfo={description:"",displayName:"MatterPage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/MatterPage/MatterPage.tsx#MatterPage"]={docgenInfo:MatterPage_MatterPage.__docgenInfo,name:"MatterPage",path:"src/pages/MatterPage/MatterPage.tsx#MatterPage"})}catch(__react_docgen_typescript_loader_error){}var _styled$main;__webpack_require__("./node_modules/@councildataproject/cdp-design/dist/images.css"),__webpack_require__("./node_modules/@councildataproject/cdp-design/dist/colors.css"),__webpack_require__("./node_modules/@mozilla-protocol/core/protocol/css/protocol.css"),__webpack_require__("./node_modules/@mozilla-protocol/core/protocol/css/protocol-components.css"),__webpack_require__("./node_modules/semantic-ui-css/semantic.min.css");styled_browser_esm.a.div({minHeight:"100vh",display:"flex",flexDirection:"column"}),styled_browser_esm.a.main(((_styled$main={boxSizing:"border-box",width:"100%",padding:"16px",flex:1,alignSelf:"center",display:"flex",flexDirection:"column"})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={padding:"32px",maxWidth:"1280px"},_styled$main))},"./src/assets/LocalizedStrings.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return strings}));var strings_de={number_approved:"{number} Genehmigt",number_rejected:"{number} Abgelehnt",number_non_voting:"{number} Nicht-Abstimmen",meeting_votes_caption:"Klicken Sie auf jede Zeile, um zu sehen, wie die Ratsmitglieder abgestimmt haben",legislation:"Gesetzgebung",council_decision:"Beschluss des Rates",votes:"Stimmen",meeting:"Treffen",persons_vote:"{name}s Stimee",en:"English",es:"EspaÃ±ol",de:"Deutsche",keywords:"SchlÃ¼sselwÃ¶rter",select_language:"Sprache auswÃ¤hlen",same:"gleich",committee:"Komitee",chair:"Vorsitzende",tenure:"Amtszeit",bills_sponsored:"Rechnung(en) gesponsert",see_documents:"Siehe Dokumente",jump_to_sentence_video:"Zum Satz im Video springen",jump_to_sentence_transcript:"Zum Satz im Transkript springen",search_transcript:"Transkript suchen",search_transcript_placeholder:"Transkript suchen...",number_of_results:"{number} Ergebnis(e)",clear:"LÃ¶schen",save:"Speichern",about:"Ãœber",search:"Suche",advanced_options:"Erweiterte Optionen",copyright_notice:"Urheberrechte Â© Einzelne mitwirkende, {date_range}",content_license_prefix:"Inhalt verfÃ¼gbar unter a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.en",content_license_link_text:"Creative Commons Namensnennung 4.0 International License",tools_license_prefix:"Council Data Project werkzeuge sind lizenziert unter ",styled_using_prefix:"Gestylt mit ",artwork_provided_by_prefix:"Kunstwerk zur VerfÃ¼gung gestellt von ",passed:"Bestanden",failed:"Fehlgeschlagen",approve:"Genehmigen",reject:"Ablehnen",abstain_approve:"Verzichten (Genehmigt)",abstain_non_voting:"Verzichten (Nicht-Abstimmen)",abstain_reject:"Verzichten (Abgelehnt)",absent_approve:"Abwesend (Genehmigt)",absent_non_voting:"Abwesend (Nicht-Abstimmen)",absent_reject:"Abwesend (Abgelehnt)",rejected:"Abgelehnt",adopted:"Angenommen",in_progress:"In Bearbeitung",example_prefix:"Beispiel:",search_topic_placeholder:"Thema suchen...",search_municipality_name:"{municipality_name} suchen",events:"Veranstaltungen",links:"Links",people:"Menschen",council_data_project:"Council Data Project",transcript:"Transkript",agenda:"Agenda",session:"Sitzung",date:"Datum",newest_first:"Neusten zuerst",oldest_first:"Ã„ltesten zuerst",most_relevant_first:"Das Wichtigste zuerst",closest_match_first:"NÃ¤chste Ãœbereinstimmung zuerst",most_relevant:"Relevanteste",search_results:"Suchergebnisse",event_search_results:"Ergebnisse der Suche nach Ereignissen",no_results_found:"Keine Ergebnisse",show_more:"Zeig mehr...",legislation_sponsored:"Gesetzgebung gesponsert",menu:"Speisekarte",persons_voting_record:"{person_name}s Abstimmungsprotokoll",contact:"Kontakt",terms:"Begriffe",committee_membership:"Ausschussmitgliedschaft",former_committee_membership:"Ehemalige Ausschussmitgliedschaft",committees:"AusschÃ¼sse",visit_persons_website:"Besuchen Sie {person_name}s Website",alternate:"Wechseln",councilmember:"Stadtrat/in",member:"Mitglied",council_president:"PrÃ¤sident des Rates",vice_chair:"Stellvertretender Vorsitzender",supervisor:"Supervisor/in",active:"aktiv",inactive:"inaktiv",latest_vote:"Letzte Abstimmung",history:"Geschichte",minutes:"Protokoll",go_to_matter_details:"Gehen Sie zu den vollstÃ¤ndigen Rechtsvorschriften"},strings_en={number_approved:"{number} Approved",number_rejected:"{number} Rejected",number_non_voting:"{number} Non-Voting",meeting_votes_caption:"Click each row to see how council members voted",legislation:"Legislation",council_decision:"Council Decision",votes:"Votes",meeting:"Meeting",persons_vote:"{name}'s Vote",en:"English",es:"EspaÃ±ol",de:"Deutsche",keywords:"Keywords",select_language:"Select Language",same:"same",committee:"Committee",chair:"Chair",tenure:"Tenure",bills_sponsored:"bill(s) sponsored",see_documents:"See Documents",jump_to_sentence_video:"Jump to sentence in video",jump_to_sentence_transcript:"Jump to sentence in transcript",search_transcript:"Search transcript",search_transcript_placeholder:"Search transcript...",number_of_results:"{number} result(s)",clear:"Clear",save:"Save",about:"About",search:"Search",advanced_options:"Advanced Options",copyright_notice:"Copyright Â© Individual contributors, {date_range}.",content_license_prefix:"Content available under a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/",content_license_link_text:"Creative Commons Attribution 4.0 International License",tools_license_prefix:"Council Data Project tools are licensed under ",styled_using_prefix:"Styled using ",artwork_provided_by_prefix:"Artwork provided by ",passed:"Passed",failed:"Failed",approve:"Approve",reject:"Reject",abstain_approve:"Abstain (Approve)",abstain_non_voting:"Abstain (Non-Voting)",abstain_reject:"Abstain (Reject)",absent_approve:"Absent (Approve)",absent_non_voting:"Absent (Non-Voting)",absent_reject:"Absent (Reject)",rejected:"Rejected",adopted:"Adopted",in_progress:"In Progress",example_prefix:"Example: ",search_topic_placeholder:"Search for a topic...",search_municipality_name:"Search {municipality_name}",events:"Events",links:"Links",people:"People",council_data_project:"Council Data Project",transcript:"Transcript",agenda:"Agenda",session:"Session",date:"Date",newest_first:"Newest First",oldest_first:"Oldest First",most_relevant_first:"Most relevant first",closest_match_first:"Closest match first",most_relevant:"Most relevant",search_results:"Search Results",event_search_results:"Event search results",no_results_found:"No results found",show_more:"Show more...",legislation_sponsored:"Legislation Sponsored",menu:"Menu",persons_voting_record:"{person_name}'s Voting Record",contact:"Contact",terms:"Terms",committee_membership:"Committee Membership",former_committee_membership:"Former Committee Membership",committees:"Committees",visit_persons_website:"Visit {person_name}'s website",alternate:"Alternate",councilmember:"Councilmember",member:"Member",council_president:"Council President",vice_chair:"Vice Chair",supervisor:"Supervisor",active:"active",inactive:"inactive",latest_vote:"Latest Vote",history:"History",minutes:"Minutes",go_to_matter_details:"Go to Full Legislation Details"},strings_es={number_approved:"{number} Aprobado",number_rejected:"{number} Rechazado",number_non_voting:"{number} sin derecho a voto",meeting_votes_caption:"Haga clic en cada fila para ver cÃ³mo votaron los miembros del consejo",legislation:"LegislaciÃ³n",council_decision:"DecisiÃ³n del Consejo",votes:"Votos",meeting:"Cita",persons_vote:"Voto de {name}",en:"English",es:"EspaÃ±ol",de:"Deutsche",keywords:"Palabras clave",select_language:"Seleccione el Idioma",same:"Mismo",committee:"ComitÃ©",chair:"presidente",tenure:"Tenencia",bills_sponsored:"factura (s) patrocinada",see_documents:"Ver Documentos",jump_to_sentence_video:"Saltar a la oraciÃ³n en el video",jump_to_sentence_transcript:"Saltar a la oraciÃ³n en la transcripciÃ³n",search_transcript:"Buscar transcripciÃ³n",search_transcript_placeholder:"Buscar transcripciÃ³n ...",number_of_results:"{number} resultado (s)",clear:"Despejar",save:"Ahorrar",about:"Acerca de",search:"Buscar",advanced_options:"Opciones Avanzadas",copyright_notice:"Derechos de autor Â© Contribuyentes individuales, {date_range}.",content_license_prefix:"Contenido disponible bajo un ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.es",content_license_link_text:"Creative Commons AtribuciÃ³n 4.0 Internacional License",tools_license_prefix:"Council Data Project las herramientas tienen licencia bajo ",styled_using_prefix:"DiseÃ±ado usando ",artwork_provided_by_prefix:"Obra proporcionada por ",passed:"PasÃ³",failed:"FracasÃ³",approve:"Aprobar",reject:"Rechazar",abstain_approve:"Abstenerse (Aprobado)",abstain_non_voting:"Abstenerse (sin derecho a voto)",abstain_reject:"Abstenerse (Rechazado)",absent_approve:"Ausente (Aprobado)",absent_non_voting:"Ausente (sin derecho a voto)",absent_reject:"Ausente (Rechazado)",rejected:"Rechazado",adopted:"Adoptado",in_progress:"En curso",example_prefix:"Ejemplo:",search_topic_placeholder:"Buscar un tema ...",search_municipality_name:"Buscar {municipality_name}",events:"Eventos",links:"Enlaces",people:"Gente",council_data_project:"Council Data Project",transcript:"TranscripciÃ³n",agenda:"Agenda",session:"SesiÃ³n",date:"Fecha",newest_first:"MÃ¡s nuevos primero",oldest_first:"MÃ¡s viejos primero",most_relevant_first:"MÃ¡s relevante primero",closest_match_first:"Coincidencia mÃ¡s cercana primero",most_relevant:"MÃ¡s relevante",search_results:"Resultados de la BÃºsqueda",event_search_results:"Resultados de Busqueda de Eventos",no_results_found:"No hay resultados",show_more:"Mostrar mÃ¡s...",legislation_sponsored:"LegislaciÃ³n patrocinada",menu:"MenÃº",persons_voting_record:"Registro de votos de {person_name}",contact:"Contacto",terms:"TÃ©rminos",committee_membership:"MembresÃ­a del ComitÃ©",former_committee_membership:"MembresÃ­a Anterior del ComitÃ©",committees:"ComitÃ©s",visit_persons_website:"Visite el sitio web de {person_name}",alternate:"Alterno/a",councilmember:"Concejal/a",member:"Miembro",council_president:"Presidente/a del Consejo",vice_chair:"Vicepresidente/a",supervisor:"Supervisor/a",active:"activo/a",inactive:"inactivo/a",latest_vote:"Ãšltimo Voto",history:"Historia",minutes:"Protocolo",go_to_matter_details:"Ir a los detalles completos de la legislaciÃ³n"},LocalizedStrings=__webpack_require__("./node_modules/react-localization/lib/LocalizedStrings.js"),strings=new(__webpack_require__.n(LocalizedStrings).a)({en:strings_en,de:strings_de,es:strings_es})},"./src/assets/images/dave-hoefler-reduced-1.jpg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/dave-hoefler-reduced-1.9fcf41c4.jpg"},"./src/assets/images/dave-hoefler-reduced-2.jpg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/dave-hoefler-reduced-2.cd127db2.jpg"},"./src/assets/images/dave-hoefler-reduced-3.jpg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/dave-hoefler-reduced-3.82d87fca.jpg"},"./src/assets/images/dave-hoefler-reduced-4.jpg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/dave-hoefler-reduced-4.4d0b7e96.jpg"},"./src/assets/images/dave-hoefler-reduced-5.jpg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/dave-hoefler-reduced-5.088cf482.jpg"},"./src/components/Cards/LegislationCard/LegislationCard.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"adopted",(function(){return adopted})),__webpack_require__.d(__webpack_exports__,"rejected",(function(){return rejected})),__webpack_require__.d(__webpack_exports__,"inProgress",(function(){return inProgress})),__webpack_require__.d(__webpack_exports__,"withSearchQuery",(function(){return withSearchQuery}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),constants=__webpack_require__("./src/models/constants.ts"),styled_browser_esm=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js")),main=__webpack_require__("./node_modules/react-highlight-words/dist/main.js"),main_default=__webpack_require__.n(main),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),stopword=__webpack_require__("./node_modules/stopword/lib/stopword.js"),Shared=__webpack_require__("./src/components/Shared/index.ts"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),StyleConstants=__webpack_require__("./src/constants/StyleConstants.ts"),cleanText=__webpack_require__("./src/utils/cleanText.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),SponsorLinks=styled_browser_esm.a.div({display:"flex",flexWrap:"wrap","& > span":{whiteSpace:"pre-wrap"}}),LegislationCard_LegislationCard=function LegislationCard(_ref){var name=_ref.name,excerpt=_ref.excerpt,status=_ref.status,date=_ref.date,tags=_ref.tags,sponsors=_ref.sponsors,query=_ref.query,tagString=tags.map((function(tag){return tag.toLowerCase()})).join(StyleConstants.b),excerptStr=Object(react.useMemo)((function(){return query?'"'+excerpt+'"':excerpt.length>140?excerpt.substring(0,140)+" ...":excerpt}),[query,excerpt]),searchWords=Object(react.useMemo)((function(){var cleanedQuery=Object(cleanText.a)(query||""),phrases=Object(stopword.removeStopwords)(cleanedQuery.split(" "));return 0===phrases.length?[]:[new RegExp("\\b("+phrases.join("|")+")","g")]}),[query]);return Object(jsx_runtime.jsx)("section",{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:Object(jsx_runtime.jsx)("div",{className:"mzp-c-card-block-link",children:Object(jsx_runtime.jsxs)("div",{className:"mzp-c-card-content",children:[Object(jsx_runtime.jsx)("h2",{className:"mzp-c-card-title",children:name}),Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",style:{fontWeight:500,fontStyle:"italic"},children:Object(jsx_runtime.jsx)(main_default.a,{caseSensitive:!1,searchWords:searchWords,textToHighlight:excerptStr})}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsxs)(SponsorLinks,{className:"mzp-c-card-desc",children:[Object(jsx_runtime.jsx)("span",{children:"Sponsored by "}),sponsors.map((function(sponsor,i){return[i>0&&Object(jsx_runtime.jsx)("span",{children:",  "}),Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/people/"+sponsor.id,children:sponsor.name},sponsor.id)]}))]}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",children:Object(jsx_runtime.jsx)(Shared.a,{result:status})}),date&&Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",children:"Last Updated: "+date}),Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-meta",children:LocalizedStrings.a.keywords}),Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",children:tagString})]})})})};LegislationCard_LegislationCard.displayName="LegislationCard";var Cards_LegislationCard_LegislationCard=LegislationCard_LegislationCard;try{LegislationCard_LegislationCard.displayName="LegislationCard",LegislationCard_LegislationCard.__docgenInfo={description:"",displayName:"LegislationCard",props:{name:{defaultValue:null,description:"The name of the legislation",name:"name",required:!0,type:{name:"string"}},excerpt:{defaultValue:null,description:"The description of the legislation, or a context span of legislaton",name:"excerpt",required:!0,type:{name:"string"}},status:{defaultValue:null,description:"The status of legislation. If legislation is in progress then the status is Next Meeting",name:"status",required:!0,type:{name:"enum",value:[{value:'"Adopted"'},{value:'"In Progress"'},{value:'"Rejected"'}]}},date:{defaultValue:null,description:"The legislation status's date or the date of the next meeting",name:"date",required:!1,type:{name:"string"}},tags:{defaultValue:null,description:"List of legislation keywords",name:"tags",required:!0,type:{name:"string[]"}},sponsors:{defaultValue:null,description:"The sponsors of the legislation",name:"sponsors",required:!0,type:{name:"Person[]"}},query:{defaultValue:null,description:"The query used to find the legislation",name:"query",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Cards/LegislationCard/LegislationCard.tsx#LegislationCard"]={docgenInfo:LegislationCard_LegislationCard.__docgenInfo,name:"LegislationCard",path:"src/components/Cards/LegislationCard/LegislationCard.tsx#LegislationCard"})}catch(__react_docgen_typescript_loader_error){}var person=__webpack_require__("./src/stories/model-mocks/person.ts"),LegislationCard_stories_Template=(__webpack_exports__.default={component:Cards_LegislationCard_LegislationCard,title:"Library/Cards/Legislation"},function Template(args){return Object(jsx_runtime.jsx)(Cards_LegislationCard_LegislationCard,Object.assign({},args))});LegislationCard_stories_Template.displayName="Template";var exampleLegislation={name:"Council Budget Action SPD-4-A-1",excerpt:"Add $175,000 GF (ongoing) in 2020 to SPD to contract with an Indigenous led organization that can assist the City with its efforts to end the Missing and Murdered Indigenous Women and Girls Crisis, and impose a proviso",status:constants.b.ADOPTED,date:"January 22nd, 2020",tags:["barbara bailey boulevard","ADU","single-family","cottage"],sponsors:Array.from({length:5}).map((function(_,i){return Object.assign({},person.a,{id:person.a.id+"-"+i,name:person.a.name+" "+i})}))},adopted=LegislationCard_stories_Template.bind({});adopted.args=exampleLegislation;var rejected=LegislationCard_stories_Template.bind({});rejected.args=Object.assign({},exampleLegislation,{status:constants.b.REJECTED});var inProgress=LegislationCard_stories_Template.bind({});inProgress.args=Object.assign({},exampleLegislation,{status:constants.b.IN_PROGRESS});var withSearchQuery=LegislationCard_stories_Template.bind({});withSearchQuery.args=Object.assign({},exampleLegislation,{excerpt:"... contract with an Indigenous led organization that can assist the City with its efforts ...",query:"indigenous"}),adopted.parameters=Object.assign({storySource:{source:"(args) => <LegislationCard {...args} />"}},adopted.parameters),rejected.parameters=Object.assign({storySource:{source:"(args) => <LegislationCard {...args} />"}},rejected.parameters),inProgress.parameters=Object.assign({storySource:{source:"(args) => <LegislationCard {...args} />"}},inProgress.parameters),withSearchQuery.parameters=Object.assign({storySource:{source:"(args) => <LegislationCard {...args} />"}},withSearchQuery.parameters)},"./src/components/Cards/MeetingCard/MeetingCard.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"meeting",(function(){return meeting})),__webpack_require__.d(__webpack_exports__,"meetingSearchResult",(function(){return meetingSearchResult}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _MeetingCard__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Cards/MeetingCard/MeetingCard.tsx"),_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/stories/model-mocks/event.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_MeetingCard__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Cards/Event"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MeetingCard__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var meeting=Template.bind({});meeting.args={event:_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_4__.b,tags:["bike","adu","accessories","rental"]};var meetingSearchResult=Template.bind({});meetingSearchResult.args={event:_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_4__.b,tags:["bike","adu","accessories","rental"],excerpt:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce interdum, lorem eget vestibulum tincidunt, augue eros gravida lectus, ut efficitur neque nisi eu metus.",gram:"ipsum"},meeting.parameters=Object.assign({storySource:{source:"(args) => <MeetingCard {...args} />"}},meeting.parameters),meetingSearchResult.parameters=Object.assign({storySource:{source:"(args) => <MeetingCard {...args} />"}},meetingSearchResult.parameters)},"./src/components/Cards/MeetingCard/MeetingCard.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/index.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),react_highlight_words__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react-highlight-words/dist/main.js"),react_highlight_words__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react_highlight_words__WEBPACK_IMPORTED_MODULE_20__),stopword__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/stopword/lib/stopword.js"),_app__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/app/index.ts"),_networking_FileService__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/networking/FileService.ts"),_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),_Shared_AbsoluteBox__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/components/Shared/AbsoluteBox.tsx"),_Shared_PlaceHolder__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/components/Shared/PlaceHolder.tsx"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),_constants_StyleConstants__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/constants/StyleConstants.ts"),_utils_cleanText__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/utils/cleanText.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Meeting=_emotion_styled__WEBPACK_IMPORTED_MODULE_19__.a.section({marginBottom:0}),Images=_emotion_styled__WEBPACK_IMPORTED_MODULE_19__.a.div({position:"relative","& > img":{position:"absolute",inset:0},"& > img:first-of-type":{zIndex:1},"& > img:last-of-type":{zIndex:2,opacity:0},"& > img:last-of-type:hover":{opacity:1}}),MeetingCard=function MeetingCard(_ref){var _event$event_datetime,_event$body,_event$body2,_eventThumbNailsState,_eventThumbNailsState2,event=_ref.event,tags=_ref.tags,excerpt=_ref.excerpt,gram=_ref.gram,query=_ref.query,language=Object(_app__WEBPACK_IMPORTED_MODULE_22__.b)().language,_useAppConfigContext=Object(_app__WEBPACK_IMPORTED_MODULE_22__.a)(),firebaseConfig=_useAppConfigContext.firebaseConfig,municipality=_useAppConfigContext.municipality,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(!0),2),staticThumbNailIsLoading=_useState2[0],setStaticThumbNailIsLoading=_useState2[1],fetchEventThumbNails=Object(react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var fileService,networkService,thumbNailPromises,_yield$Promise$all,_yield$Promise$all2,staticThumbNailUrl,hoverThumbNailUrl;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return fileService=new _networking_FileService__WEBPACK_IMPORTED_MODULE_23__.a(firebaseConfig),networkService=fileService.networkService,thumbNailPromises=[Promise.resolve(void 0),Promise.resolve(void 0)],event.static_thumbnail_ref&&(thumbNailPromises[0]=fileService.getFileById(event.static_thumbnail_ref).then((function(file){return networkService.getDownloadUrl(file.uri)})).catch((function(){return Promise.resolve(void 0)}))),event.hover_thumbnail_ref&&(thumbNailPromises[1]=fileService.getFileById(event.hover_thumbnail_ref).then((function(file){return networkService.getDownloadUrl(file.uri)})).catch((function(){return Promise.resolve(void 0)}))),_context.next=7,Promise.all(thumbNailPromises);case 7:return _yield$Promise$all=_context.sent,_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2),staticThumbNailUrl=_yield$Promise$all2[0],hoverThumbNailUrl=_yield$Promise$all2[1],_context.abrupt("return",Promise.resolve({staticThumbNailUrl:staticThumbNailUrl,hoverThumbNailUrl:hoverThumbNailUrl}));case 12:case"end":return _context.stop()}}),_callee)}))),[firebaseConfig,event.static_thumbnail_ref,event.hover_thumbnail_ref]),eventThumbNailsState=Object(_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_24__.b)({isLoading:!1,error:null,hasFetchRequest:!0},fetchEventThumbNails).state,meetingDate=null===(_event$event_datetime=event.event_datetime)||void 0===_event$event_datetime?void 0:_event$event_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone,month:"long",day:"numeric",year:"numeric"}),committee=null===(_event$body=event.body)||void 0===_event$body?void 0:_event$body.name,searchWords=Object(react__WEBPACK_IMPORTED_MODULE_18__.useMemo)((function(){var cleanedQuery=Object(_utils_cleanText__WEBPACK_IMPORTED_MODULE_29__.a)(query||""),phrases=Object(stopword__WEBPACK_IMPORTED_MODULE_21__.removeStopwords)(cleanedQuery.split(" "));return gram&&gram.length>0&&phrases.push(gram),0===phrases.length?[]:[new RegExp("\\b("+phrases.join("|")+")","g")]}),[query,gram]),imgAlt=(null===(_event$body2=event.body)||void 0===_event$body2?void 0:_event$body2.name)+" - "+meetingDate,tagString=tags.map((function(tag){return tag.toLowerCase()})).join(_constants_StyleConstants__WEBPACK_IMPORTED_MODULE_28__.b);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)(Meeting,{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsxs)("div",{className:"mzp-c-card-block-link",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("div",{className:"mzp-c-card-media-wrapper",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)(_Shared_AbsoluteBox__WEBPACK_IMPORTED_MODULE_25__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)(_Shared_PlaceHolder__WEBPACK_IMPORTED_MODULE_26__.a,{contentIsLoading:staticThumbNailIsLoading,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsxs)(Images,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("img",{className:"mzp-c-card-image",src:null===(_eventThumbNailsState=eventThumbNailsState.data)||void 0===_eventThumbNailsState?void 0:_eventThumbNailsState.staticThumbNailUrl,alt:imgAlt,onLoad:function onLoad(){return setStaticThumbNailIsLoading(!1)}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("img",{className:"mzp-c-card-image",src:null===(_eventThumbNailsState2=eventThumbNailsState.data)||void 0===_eventThumbNailsState2?void 0:_eventThumbNailsState2.hoverThumbNailUrl,alt:imgAlt})]})})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsxs)("div",{className:"mzp-c-card-content",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("div",{className:"mzp-c-card-tag",children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_27__.a.committee}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("h2",{className:"mzp-c-card-title",children:meetingDate}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("p",{className:"mzp-c-card-desc",children:committee}),excerpt&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("p",{className:"mzp-c-card-desc",style:{fontStyle:"italic",marginTop:"1rem"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)(react_highlight_words__WEBPACK_IMPORTED_MODULE_20___default.a,{caseSensitive:!1,searchWords:searchWords,textToHighlight:'"'+excerpt+'"'})}),tags.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("p",{className:"mzp-c-card-meta",children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_27__.a.keywords}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_30__.jsx)("p",{className:"mzp-c-card-desc",children:tagString})]})]})]})})};MeetingCard.displayName="MeetingCard",__webpack_exports__.a=MeetingCard;try{MeetingCard.displayName="MeetingCard",MeetingCard.__docgenInfo={description:"",displayName:"MeetingCard",props:{event:{defaultValue:null,description:"The event for the meeting",name:"event",required:!0,type:{name:"Event"}},tags:{defaultValue:null,description:"Tags for the event",name:"tags",required:!0,type:{name:"string[]"}},excerpt:{defaultValue:null,description:"A context span if the event was found through searching",name:"excerpt",required:!1,type:{name:"string"}},gram:{defaultValue:null,description:"The highest value gram of the context span",name:"gram",required:!1,type:{name:"string"}},query:{defaultValue:null,description:"The query used to find this meeting",name:"query",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Cards/MeetingCard/MeetingCard.tsx#MeetingCard"]={docgenInfo:MeetingCard.__docgenInfo,name:"MeetingCard",path:"src/components/Cards/MeetingCard/MeetingCard.tsx#MeetingCard"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Cards/PersonCard/PersonCard.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"withSeatPicture",(function(){return withSeatPicture})),__webpack_require__.d(__webpack_exports__,"withoutSeatPicture",(function(){return withoutSeatPicture}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _PersonCard__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Cards/PersonCard/PersonCard.tsx"),_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/stories/model-mocks/person.ts"),_stories_model_mocks_seat__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/stories/model-mocks/seat.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_PersonCard__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Cards/Person"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_PersonCard__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var withSeatPicture=Template.bind({});withSeatPicture.args={person:_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_4__.b,seat:_stories_model_mocks_seat__WEBPACK_IMPORTED_MODULE_5__.b};var withoutSeatPicture=Template.bind({});withoutSeatPicture.args={person:_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_4__.b,seat:_stories_model_mocks_seat__WEBPACK_IMPORTED_MODULE_5__.c},withSeatPicture.parameters=Object.assign({storySource:{source:"(args) => <PersonCard {...args} />"}},withSeatPicture.parameters),withoutSeatPicture.parameters=Object.assign({storySource:{source:"(args) => <PersonCard {...args} />"}},withoutSeatPicture.parameters)},"./src/components/Cards/PersonCard/PersonCard.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react/index.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_app__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/app/index.ts"),_networking_FileService__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/networking/FileService.ts"),_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),_Shared_AbsoluteBox__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/components/Shared/AbsoluteBox.tsx"),_Shared_PlaceHolder__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/components/Shared/PlaceHolder.tsx"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),_constants_ProjectConstants__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/constants/ProjectConstants.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var EXAMPLE_COVER_VIEW=_constants_ProjectConstants__WEBPACK_IMPORTED_MODULE_20__.a[Math.floor(Math.random()*_constants_ProjectConstants__WEBPACK_IMPORTED_MODULE_20__.a.length)],PersonStatus=_emotion_styled__WEBPACK_IMPORTED_MODULE_13__.a.div({float:"right",marginRight:8,marginBottom:8,borderRadius:"10%",padding:"0 4px"}),Img=_emotion_styled__WEBPACK_IMPORTED_MODULE_13__.a.img((function(props){return{objectFit:"cover",left:props.left+" !important",width:props.width+" !important",height:"100%"}})),PersonCard=function PersonCard(_ref){var _pictureDataState$dat2,_pictureDataState$dat3,_pictureDataState$dat4,_pictureDataState$dat5,_pictureDataState$dat6,_pictureDataState$dat7,person=_ref.person,seat=_ref.seat,firebaseConfig=Object(_app__WEBPACK_IMPORTED_MODULE_14__.a)().firebaseConfig,fetchPictures=Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var fileService,networkService,srcPromises,_yield$Promise$all,_yield$Promise$all2,seatPictureSrc,personPictureSrc;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return fileService=new _networking_FileService__WEBPACK_IMPORTED_MODULE_15__.a(firebaseConfig),networkService=fileService.networkService,srcPromises=[Promise.resolve(void 0),Promise.resolve(void 0)],seat.image_ref&&(srcPromises[0]=fileService.getFileById(seat.image_ref).then((function(file){return networkService.getDownloadUrl(file.uri)})).catch((function(){return Promise.resolve(void 0)}))),person.picture_ref&&(srcPromises[1]=fileService.getFileById(person.picture_ref).then((function(file){return networkService.getDownloadUrl(file.uri)})).catch((function(){return Promise.resolve(void 0)}))),_context.next=7,Promise.all(srcPromises);case 7:return _yield$Promise$all=_context.sent,_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2),seatPictureSrc=_yield$Promise$all2[0],personPictureSrc=_yield$Promise$all2[1],_context.abrupt("return",Promise.resolve({seatPictureSrc:seatPictureSrc,personPictureSrc:personPictureSrc}));case 12:case"end":return _context.stop()}}),_callee)}))),[person.picture_ref,seat.image_ref,firebaseConfig]),pictureDataState=Object(_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_16__.b)({isLoading:!1,error:null,hasFetchRequest:!0},fetchPictures).state,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!0),2),personPictureIsLoading=_useState2[0],setPersonPictureIsLoading=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!0),2),seatPictureIsLoading=_useState4[0],setSeatPictureIsLoading=_useState4[1];return Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){var _pictureDataState$dat;pictureDataState.isLoading||void 0!==(null===(_pictureDataState$dat=pictureDataState.data)||void 0===_pictureDataState$dat?void 0:_pictureDataState$dat.personPictureSrc)||setPersonPictureIsLoading(!1)}),[pictureDataState]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("section",{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"mzp-c-card-block-link",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"mzp-c-card-media-wrapper",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_Shared_AbsoluteBox__WEBPACK_IMPORTED_MODULE_17__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(_Shared_PlaceHolder__WEBPACK_IMPORTED_MODULE_18__.a,{contentIsLoading:personPictureIsLoading||seatPictureIsLoading,children:[(null===(_pictureDataState$dat2=pictureDataState.data)||void 0===_pictureDataState$dat2?void 0:_pictureDataState$dat2.personPictureSrc)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Img,{className:"mzp-c-card-image",src:pictureDataState.data.personPictureSrc,width:null!==(_pictureDataState$dat3=pictureDataState.data)&&void 0!==_pictureDataState$dat3&&_pictureDataState$dat3.seatPictureSrc?"40%":"100%",left:"0",alt:person.name,onLoad:function onLoad(){return setPersonPictureIsLoading(!1)}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(Img,{className:"mzp-c-card-image",src:pictureDataState.isLoading||void 0!==(null===(_pictureDataState$dat4=pictureDataState.data)||void 0===_pictureDataState$dat4?void 0:_pictureDataState$dat4.seatPictureSrc)?null===(_pictureDataState$dat5=pictureDataState.data)||void 0===_pictureDataState$dat5?void 0:_pictureDataState$dat5.seatPictureSrc:EXAMPLE_COVER_VIEW,width:null!==(_pictureDataState$dat6=pictureDataState.data)&&void 0!==_pictureDataState$dat6&&_pictureDataState$dat6.personPictureSrc?"60%":"100%",left:null!==(_pictureDataState$dat7=pictureDataState.data)&&void 0!==_pictureDataState$dat7&&_pictureDataState$dat7.personPictureSrc?"40%":"0",alt:seat.name+" - "+seat.electoral_area,onLoad:function onLoad(){return setSeatPictureIsLoading(!1)}})]})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"mzp-c-card-content",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("h2",{className:"mzp-c-card-title",children:person.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(PersonStatus,{className:person.is_active?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:person.is_active?_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_19__.a.active:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_19__.a.inactive}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{className:"mzp-c-card-desc",children:[seat.name," â€¢ ",seat.electoral_area]})]})]})})};PersonCard.displayName="PersonCard",__webpack_exports__.a=PersonCard;try{PersonCard.displayName="PersonCard",PersonCard.__docgenInfo={description:"",displayName:"PersonCard",props:{person:{defaultValue:null,description:"the person represented",name:"person",required:!0,type:{name:"Person"}},seat:{defaultValue:null,description:"the seat of the person represented",name:"seat",required:!0,type:{name:"Seat"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Cards/PersonCard/PersonCard.tsx#PersonCard"]={docgenInfo:PersonCard.__docgenInfo,name:"PersonCard",path:"src/components/Cards/PersonCard/PersonCard.tsx#PersonCard"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/EventVideo/EventVideo.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"eventVideo",(function(){return eventVideo}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_EventVideo__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Details/EventVideo/EventVideo.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_EventVideo__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Details/Event Video"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_EventVideo__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var eventVideo=Template.bind({});eventVideo.args={uri:"https://video.seattle.gov/media/council/council_113020_2022091V.mp4",componentRef:Object(react__WEBPACK_IMPORTED_MODULE_2__.createRef)(),sessionIndex:0},eventVideo.parameters=Object.assign({storySource:{source:"(args) => <EventVideo {...args} />"}},eventVideo.parameters)},"./src/components/Details/EventVideo/EventVideo.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var TimePointActionType,react=__webpack_require__("./node_modules/react/index.js"),video_es=__webpack_require__("./node_modules/video.js/dist/video.es.js"),LanguageConfigContext=(__webpack_require__("./node_modules/videojs-youtube/dist/Youtube.min.js"),__webpack_require__("./src/app/LanguageConfigContext.tsx")),styled_browser_esm=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js")),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),Modal=__webpack_require__("./node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js"),padNumWithZero=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.parse-float.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./src/utils/padNumWithZero.ts")),timePointToSeconds=function timePointToSeconds(timePointInputStr){var nums=timePointInputStr.trim().split(":").reverse(),totalSeconds=0;return nums.forEach((function(n,i){var num=parseFloat(n);isNaN(num)||n.includes("-")?totalSeconds+=NaN:totalSeconds+=num*Math.pow(60,i)})),totalSeconds&&(totalSeconds=Math.floor(totalSeconds)),totalSeconds},utils_secondsToTimePointStr=function secondsToTimePointStr(totalSeconds){if(isNaN(totalSeconds))return"NaN";var totalSecondsInt=Math.floor(totalSeconds),hours=Math.floor(totalSecondsInt/3600),minutes=Math.floor((totalSecondsInt-3600*hours)/60),seconds=totalSecondsInt-3600*hours-60*minutes,secondsStr=Object(padNumWithZero.a)(seconds);return hours>0?hours+":"+Object(padNumWithZero.a)(minutes)+":"+secondsStr:minutes+":"+secondsStr};!function(TimePointActionType){TimePointActionType[TimePointActionType.UPDATE_VALUE=0]="UPDATE_VALUE",TimePointActionType[TimePointActionType.VALIDATE_VALUE=1]="VALIDATE_VALUE",TimePointActionType[TimePointActionType.OPEN=2]="OPEN",TimePointActionType[TimePointActionType.CLOSE=3]="CLOSE"}(TimePointActionType||(TimePointActionType={}));var initialTimePoint={value:"",isDisabled:!1,isActive:!1,isOpen:!1},state_timePointReducer=function timePointReducer(state,action){switch(action.type){case TimePointActionType.UPDATE_VALUE:return Object.assign({},state,{value:action.payload});case TimePointActionType.VALIDATE_VALUE:var newValue=utils_secondsToTimePointStr(timePointToSeconds(state.value));return void 0!==action.payload?Object.assign({},state,{value:newValue,isDisabled:!action.payload,isActive:action.payload}):Object.assign({},state,{value:newValue});case TimePointActionType.OPEN:var _newValue=utils_secondsToTimePointStr(action.payload);return Object.assign({},state,{isOpen:!0,value:_newValue,isDisabled:!1,isActive:!1});case TimePointActionType.CLOSE:return Object.assign({},state,{isOpen:!1});default:return state}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ShareIcon_ShareIcon=function ShareIcon(){return Object(jsx_runtime.jsx)("svg",{transform:"scale(-1,1)",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})};ShareIcon_ShareIcon.displayName="ShareIcon";var Shared_ShareIcon=ShareIcon_ShareIcon,colors=__webpack_require__("./src/styles/colors.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ShareBtn=styled_browser_esm.a.button({display:"flex",justifyContent:"center",alignItems:"center",columnGap:4,border:0,padding:"8px 16px",fontWeight:600,"& > svg":{width:"1rem",height:"1rem"}}),ShareLink=styled_browser_esm.a.div({border:"1px solid "+colors.a.lightgrey,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:24,"& > input":{flex:1,border:0,marginLeft:16},"& > .mzp-c-button":{padding:"8px 16px",fontWeight:600,border:0},"& > .mzp-c-button, & > .mzp-c-button:hover":{color:colors.a.dark_blue}}),TimePoint=styled_browser_esm.a.div({display:"flex",alignItems:"center",columnGap:8,"& > label":{padding:0}}),TimePointInput=styled_browser_esm.a.input((function(props){return{border:0,borderBottomColor:props.disabled?"white":"black",borderBottomStyle:"solid",borderBottomWidth:"1.5px",width:64}})),ShareVideoModal=Object(styled_browser_esm.a)(Modal.a)({"i.close.icon":{top:0,right:0,color:"black"},"i.close::before":{content:'"âœ–"'}}),ShareVideo_ShareVideo=function ShareVideo(_ref){var sessionIndex=_ref.sessionIndex,getCurrentTime=_ref.getCurrentTime,mountNodeRef=Object(react.useRef)(null),shareLinkInputRef=Object(react.useRef)(null),timePointInputRef=Object(react.useRef)(null),location=Object(react_router.h)(),_useReducer2=_slicedToArray(Object(react.useReducer)(state_timePointReducer,initialTimePoint),2),timePointState=_useReducer2[0],timePointDispatch=_useReducer2[1],handleOpen=Object(react.useCallback)((function(){var currentTime=getCurrentTime();timePointDispatch({type:TimePointActionType.OPEN,payload:currentTime})}),[getCurrentTime]),onCopyShareLink=function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var _shareLinkInputRef$cu;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null===(_shareLinkInputRef$cu=shareLinkInputRef.current)||void 0===_shareLinkInputRef$cu||_shareLinkInputRef$cu.select(),!navigator.clipboard){_context.next=6;break}return _context.next=4,navigator.clipboard.writeText(getShareLink());case 4:_context.next=7;break;case 6:document.execCommand("copy");case 7:case"end":return _context.stop()}}),_callee)})));return function onCopyShareLink(){return _ref2.apply(this,arguments)}}(),getShareLink=Object(react.useCallback)((function(){var totalSeconds=timePointToSeconds(timePointState.value),shareLink=document.location.href.split("#")[0]+"#"+location.pathname+"?s="+sessionIndex;return timePointState.isActive&&totalSeconds?shareLink+"&t="+totalSeconds:""+shareLink}),[timePointState.value,timePointState.isActive,sessionIndex,location]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(ShareVideoModal,{closeIcon:!0,trigger:Object(jsx_runtime.jsxs)(ShareBtn,{className:"mzp-c-button mzp-t-secondary",onClick:handleOpen,children:[Object(jsx_runtime.jsx)(Shared_ShareIcon,{}),"SHARE"]}),open:timePointState.isOpen,onClose:function handleClose(){timePointDispatch({type:TimePointActionType.CLOSE})},mountNode:mountNodeRef.current,size:"small",children:[Object(jsx_runtime.jsx)(Modal.a.Header,{children:"Share"}),Object(jsx_runtime.jsxs)(Modal.a.Content,{children:[Object(jsx_runtime.jsxs)(ShareLink,{children:[Object(jsx_runtime.jsx)("input",{readOnly:!0,"aria-readonly":!0,ref:shareLinkInputRef,value:getShareLink()}),Object(jsx_runtime.jsx)("button",{className:"mzp-c-button mzp-t-secondary",onClick:onCopyShareLink,children:"COPY"})]}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsxs)(TimePoint,{children:[Object(jsx_runtime.jsx)("input",{id:"share-with-time-point",type:"checkbox",checked:timePointState.isActive,onChange:function onShareWithTimePointChange(e){timePointDispatch({type:TimePointActionType.VALIDATE_VALUE,payload:e.target.checked})}}),Object(jsx_runtime.jsx)("label",{htmlFor:"share-with-time-point",children:"Start at"}),Object(jsx_runtime.jsx)(TimePointInput,{disabled:timePointState.isDisabled,value:timePointState.value,onChange:function onTimePointInputChange(e){timePointDispatch({type:TimePointActionType.UPDATE_VALUE,payload:e.target.value})},onBlur:function onExitTimePointInput(){timePointDispatch({type:TimePointActionType.VALIDATE_VALUE})},onKeyUp:function onSubmitTimePointInput(e){"Enter"===e.key&&timePointDispatch({type:TimePointActionType.VALIDATE_VALUE})},ref:timePointInputRef})]})]})]}),Object(jsx_runtime.jsx)("div",{ref:mountNodeRef})]})},EventVideo_ShareVideo_ShareVideo=ShareVideo_ShareVideo;try{ShareVideo_ShareVideo.displayName="ShareVideo",ShareVideo_ShareVideo.__docgenInfo={description:"",displayName:"ShareVideo",props:{sessionIndex:{defaultValue:null,description:"",name:"sessionIndex",required:!0,type:{name:"number"}},getCurrentTime:{defaultValue:null,description:"",name:"getCurrentTime",required:!0,type:{name:"() => number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/EventVideo/ShareVideo/ShareVideo.tsx#ShareVideo"]={docgenInfo:ShareVideo_ShareVideo.__docgenInfo,name:"ShareVideo",path:"src/components/Details/EventVideo/ShareVideo/ShareVideo.tsx#ShareVideo"})}catch(__react_docgen_typescript_loader_error){}var VideoMediaType;__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.to-string.js");function getSource(uri){var mediaType=function getMediaTypeFromUri(uri){var type;if(uri.match(/youtu?.be/))type=VideoMediaType.youtube;else{var matches=uri.match(new RegExp("("+VideoMediaType.webm+"|"+VideoMediaType.mp4+")$"));matches&&(type=matches[0])}return type}(uri),source={src:uri};return mediaType&&(source.type="video/"+mediaType),source}!function(VideoMediaType){VideoMediaType.mp4="mp4",VideoMediaType.webm="webm",VideoMediaType.youtube="youtube"}(VideoMediaType||(VideoMediaType={}));var KeyBoardKey;__webpack_require__("./node_modules/video.js/dist/video-js.css"),__webpack_require__("./src/components/Details/EventVideo/vjs-theme-cdp.css");!function(KeyBoardKey){KeyBoardKey[KeyBoardKey.SPACE=32]="SPACE",KeyBoardKey[KeyBoardKey.ARROW_LEFT=37]="ARROW_LEFT",KeyBoardKey[KeyBoardKey.ARROW_RIGHT=39]="ARROW_RIGHT",KeyBoardKey[KeyBoardKey.F=70]="F",KeyBoardKey[KeyBoardKey.K=75]="K",KeyBoardKey[KeyBoardKey.M=77]="M"}(KeyBoardKey||(KeyBoardKey={}));var EventVideo_EventVideo=function EventVideo(_ref){var sessionIndex=_ref.sessionIndex,uri=_ref.uri,componentRef=_ref.componentRef,initialSeconds=_ref.initialSeconds,language=Object(LanguageConfigContext.b)().language,videoRef=Object(react.useRef)(null),videoJsPlayerRef=Object(react.useRef)();Object(react.useImperativeHandle)(componentRef,(function(){return{seekTo:function seekTo(seconds){var _videoJsPlayerRef$cur,_videoJsPlayerRef$cur2,_videoJsPlayerRef$cur3;(null===(_videoJsPlayerRef$cur=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur||_videoJsPlayerRef$cur.currentTime(seconds),null!==(_videoJsPlayerRef$cur2=videoJsPlayerRef.current)&&void 0!==_videoJsPlayerRef$cur2&&_videoJsPlayerRef$cur2.paused())&&(null===(_videoJsPlayerRef$cur3=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur3||_videoJsPlayerRef$cur3.play())},pause:function pause(){var _videoJsPlayerRef$cur4;return null===(_videoJsPlayerRef$cur4=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur4?void 0:_videoJsPlayerRef$cur4.pause()}}}));var getCurrentTime=Object(react.useCallback)((function(){return videoJsPlayerRef.current?videoJsPlayerRef.current.currentTime():0}),[]),VideoHtml=function VideoHtml(){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:4},children:Object(jsx_runtime.jsx)(EventVideo_ShareVideo_ShareVideo,{sessionIndex:sessionIndex,getCurrentTime:getCurrentTime})}),Object(jsx_runtime.jsx)("div",{"data-vjs-player":!0,children:Object(jsx_runtime.jsx)("video",{ref:videoRef,className:"video-js vjs-big-play-centered vjs-theme-cdp"})})]})};return Object(react.useEffect)((function(){var player,videoElement=videoRef.current;return videoElement&&(player=Object(video_es.default)(videoElement,{autoplay:!1,controls:!0,controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,customControlSpacer:!0,remainingTimeDisplay:!1},preload:initialSeconds?"auto":"metadata",aspectRatio:"16:9",fluid:!0,language:language,playbackRates:[2,1.5,1,.75,.5],responsive:!0,techOrder:["youtube","html5"],sources:[getSource(uri)],userActions:{hotkeys:function hotkeys(event){var _videoJsPlayerRef$cur5,_videoJsPlayerRef$cur6,_videoJsPlayerRef$cur7;if(event.which===KeyBoardKey.K||event.which===KeyBoardKey.SPACE)null!==(_videoJsPlayerRef$cur5=videoJsPlayerRef.current)&&void 0!==_videoJsPlayerRef$cur5&&_videoJsPlayerRef$cur5.paused()?null===(_videoJsPlayerRef$cur6=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur6||_videoJsPlayerRef$cur6.play():null===(_videoJsPlayerRef$cur7=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur7||_videoJsPlayerRef$cur7.pause();else if(event.which===KeyBoardKey.M){var _videoJsPlayerRef$cur8,_videoJsPlayerRef$cur9;null===(_videoJsPlayerRef$cur8=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur8||_videoJsPlayerRef$cur8.muted(!(null!==(_videoJsPlayerRef$cur9=videoJsPlayerRef.current)&&void 0!==_videoJsPlayerRef$cur9&&_videoJsPlayerRef$cur9.muted()))}else if(event.which===KeyBoardKey.F){var _videoJsPlayerRef$cur10,_videoJsPlayerRef$cur11,_videoJsPlayerRef$cur12;if(null!==(_videoJsPlayerRef$cur10=videoJsPlayerRef.current)&&void 0!==_videoJsPlayerRef$cur10&&_videoJsPlayerRef$cur10.isFullscreen())null===(_videoJsPlayerRef$cur11=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur11||_videoJsPlayerRef$cur11.exitFullscreen();else null===(_videoJsPlayerRef$cur12=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur12||_videoJsPlayerRef$cur12.requestFullscreen()}else if(event.which===KeyBoardKey.ARROW_LEFT){var _videoJsPlayerRef$cur13,_videoJsPlayerRef$cur14;null===(_videoJsPlayerRef$cur13=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur13||_videoJsPlayerRef$cur13.currentTime((null===(_videoJsPlayerRef$cur14=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur14?void 0:_videoJsPlayerRef$cur14.currentTime())-10)}else if(event.which===KeyBoardKey.ARROW_RIGHT){var _videoJsPlayerRef$cur15,_videoJsPlayerRef$cur16;null===(_videoJsPlayerRef$cur15=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur15||_videoJsPlayerRef$cur15.currentTime((null===(_videoJsPlayerRef$cur16=videoJsPlayerRef.current)||void 0===_videoJsPlayerRef$cur16?void 0:_videoJsPlayerRef$cur16.currentTime())+10)}}}},(function(){initialSeconds&&initialSeconds>0&&this.currentTime(initialSeconds),videoJsPlayerRef.current=this}))),function(){player&&player.dispose()}}),[uri,initialSeconds,language]),Object(jsx_runtime.jsx)(VideoHtml,{})};EventVideo_EventVideo.displayName="EventVideo";__webpack_exports__.a=EventVideo_EventVideo;try{EventVideo_EventVideo.displayName="EventVideo",EventVideo_EventVideo.__docgenInfo={description:"",displayName:"EventVideo",props:{sessionIndex:{defaultValue:null,description:"The session index of the video",name:"sessionIndex",required:!0,type:{name:"number"}},uri:{defaultValue:null,description:"The source uri of the video",name:"uri",required:!0,type:{name:"string"}},componentRef:{defaultValue:null,description:"Event video Transcript reference",name:"componentRef",required:!0,type:{name:"RefObject<EventVideoRef>"}},initialSeconds:{defaultValue:null,description:"The initial seconds to seek to.",name:"initialSeconds",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/EventVideo/EventVideo.tsx#EventVideo"]={docgenInfo:EventVideo_EventVideo.__docgenInfo,name:"EventVideo",path:"src/components/Details/EventVideo/EventVideo.tsx#EventVideo"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/EventVideo/vjs-theme-cdp.css":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./src/components/Details/EventVideo/vjs-theme-cdp.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/components/Details/Legislation/LegislationHistory.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"history",(function(){return history}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _LegislationHistory__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Details/Legislation/LegislationHistory.tsx"),_stories_model_mocks_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/stories/model-mocks/eventMinutesItem.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_LegislationHistory__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Details/Legislation/History"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_LegislationHistory__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var history=Template.bind({});history.args={eventMinutesItems:[_stories_model_mocks_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.a,_stories_model_mocks_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.c,_stories_model_mocks_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.b,_stories_model_mocks_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.a,_stories_model_mocks_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.c]},history.parameters=Object.assign({storySource:{source:"(args) => <LegislationHistory {...args} />"}},history.parameters)},"./src/components/Details/Legislation/LegislationHistory.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LegislationHistory_LegislationHistory}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var react=__webpack_require__("./node_modules/react/index.js"),H2=__webpack_require__("./src/components/Shared/H2.tsx"),Details=__webpack_require__("./src/components/Shared/Details.tsx"),react_responsive=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js")),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),app=__webpack_require__("./src/app/index.ts"),VoteService=__webpack_require__("./src/networking/VoteService.ts"),EventMinutesItemFileService=__webpack_require__("./src/networking/EventMinutesItemFileService.ts"),VoteDistributionGraphic=__webpack_require__("./src/components/Details/Legislation/VoteDistributionGraphic.tsx"),Dot=__webpack_require__("./src/components/Shared/Dot.tsx"),DocumentsList=__webpack_require__("./src/components/Details/MinutesItemsList/DocumentsList.tsx"),useFetchData=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),LazyFetchDataContainer=__webpack_require__("./src/containers/FetchDataContainer/LazyFetchDataContainer.tsx"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),Shared=__webpack_require__("./src/components/Shared/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var LegislativeHistoryNode_LegislativeHistoryNode=function LegislativeHistoryNode(_ref){var _eventMinutesItem$eve,_eventMinutesItem$eve2,_votesDataState$data,_votesDataState$data2,_votesDataState$data3,_votesDataState$data4,_votesDataState$data5,_votesDataState$data6,eventMinutesItem=_ref.eventMinutesItem,isLastIndex=_ref.isLastIndex,municipality=Object(app.a)().municipality,isMobile=Object(react_responsive.useMediaQuery)({query:"(max-width: "+mediaBreakpoints.a.tablet+")"}),MARGIN=isMobile?4:12,ReferenceFrame=styled_browser_esm.a.div({position:"relative"}),ExpandingContainer=styled_browser_esm.a.div({margin:MARGIN,display:"flex",flexDirection:"row",gap:3*MARGIN}),TextContainer=styled_browser_esm.a.div({flex:1}),SummaryInfo=styled_browser_esm.a.div({display:"flex",flexDirection:"row"}),VotingGraphicContainer=styled_browser_esm.a.div((function(){return{flex:1,marginTop:MARGIN,marginLeft:isMobile?0:2*MARGIN}})),ConnectBar=styled_browser_esm.a.div({position:"absolute",top:MARGIN+Dot.b,left:Dot.b/2+MARGIN,height:"100%",width:2,zIndex:0,backgroundColor:"grey"}),firebaseConfig=Object(app.a)().firebaseConfig,language=Object(app.b)().language,localizedDateString=null===(_eventMinutesItem$eve=eventMinutesItem.event)||void 0===_eventMinutesItem$eve?void 0:_eventMinutesItem$eve.event_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone,month:"long",day:"numeric",year:"numeric"}),fetchDataForNode=Object(react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var data,eventMinutesItemFileService,minutesItemFiles,votesService;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return data={votes:[],files:[]},eventMinutesItemFileService=new EventMinutesItemFileService.a(firebaseConfig),_context.next=4,eventMinutesItemFileService.getEventMinutesItemFilesByEventMinutesItemId(eventMinutesItem.id);case 4:if(minutesItemFiles=_context.sent,data.files=minutesItemFiles.map((function(_ref3){return{label:_ref3.name,url:_ref3.uri}})),!eventMinutesItem.decision){_context.next=11;break}return votesService=new VoteService.a(firebaseConfig),_context.next=10,votesService.getVotesByEventMinutesItemId(eventMinutesItem.id);case 10:data.votes=_context.sent;case 11:return _context.abrupt("return",Promise.resolve(data));case 12:case"end":return _context.stop()}}),_callee)}))),[eventMinutesItem.id,eventMinutesItem.decision,firebaseConfig]),votesDataState=Object(useFetchData.b)(Object.assign({},useFetchData.c),fetchDataForNode).state;return Object(jsx_runtime.jsxs)(ReferenceFrame,{children:[Object(jsx_runtime.jsxs)(ExpandingContainer,{children:[Object(jsx_runtime.jsx)(Dot.c,{className:"cdp-bg-neutral-grey"}),Object(jsx_runtime.jsxs)(TextContainer,{children:[Object(jsx_runtime.jsxs)(SummaryInfo,{children:[Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/events/"+(null===(_eventMinutesItem$eve2=eventMinutesItem.event)||void 0===_eventMinutesItem$eve2?void 0:_eventMinutesItem$eve2.id),children:localizedDateString}),eventMinutesItem.decision&&Object(jsx_runtime.jsx)(Shared.a,{result:eventMinutesItem.decision,style:{marginLeft:MARGIN,display:"flex",flex:1,alignItems:"center"}})]}),Object(jsx_runtime.jsxs)(LazyFetchDataContainer.a,{data:"votes and documents associated with this event",isLoading:votesDataState.isLoading,error:votesDataState.error,notFound:!votesDataState.data,children:[(null===(_votesDataState$data=votesDataState.data)||void 0===_votesDataState$data?void 0:_votesDataState$data.votes)&&(null===(_votesDataState$data2=votesDataState.data)||void 0===_votesDataState$data2?void 0:_votesDataState$data2.votes.length)>0&&Object(jsx_runtime.jsx)(Details.a,{summaryContent:LocalizedStrings.a.votes,hiddenContent:Object(jsx_runtime.jsx)(VotingGraphicContainer,{children:Object(jsx_runtime.jsx)(VoteDistributionGraphic.a,{votes:null===(_votesDataState$data3=votesDataState.data)||void 0===_votesDataState$data3?void 0:_votesDataState$data3.votes})}),defaultOpen:!1,hasBorderBottom:!1}),(null===(_votesDataState$data4=votesDataState.data)||void 0===_votesDataState$data4?void 0:_votesDataState$data4.files)&&(null===(_votesDataState$data5=votesDataState.data)||void 0===_votesDataState$data5?void 0:_votesDataState$data5.files.length)>0&&Object(jsx_runtime.jsx)(DocumentsList.a,{documents:null===(_votesDataState$data6=votesDataState.data)||void 0===_votesDataState$data6?void 0:_votesDataState$data6.files})]})]})]}),!isLastIndex&&Object(jsx_runtime.jsx)(ConnectBar,{})]})};LegislativeHistoryNode_LegislativeHistoryNode.displayName="LegislativeHistoryNode";try{LegislativeHistoryNode_LegislativeHistoryNode.displayName="LegislativeHistoryNode",LegislativeHistoryNode_LegislativeHistoryNode.__docgenInfo={description:"",displayName:"LegislativeHistoryNode",props:{eventMinutesItem:{defaultValue:null,description:"event in the matter's timeline",name:"eventMinutesItem",required:!0,type:{name:"EventMinutesItem"}},isLastIndex:{defaultValue:null,description:"this node is the last index on the timeline",name:"isLastIndex",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/LegislativeHistoryNode.tsx#LegislativeHistoryNode"]={docgenInfo:LegislativeHistoryNode_LegislativeHistoryNode.__docgenInfo,name:"LegislativeHistoryNode",path:"src/components/Details/Legislation/LegislativeHistoryNode.tsx#LegislativeHistoryNode"})}catch(__react_docgen_typescript_loader_error){}var SpacerContainer=styled_browser_esm.a.div({marginTop:16}),ColumnMakingContainer=styled_browser_esm.a.div({display:"flex",flexDirection:"column"}),LegislationHistory_LegislationHistory=function LegislationHistory(_ref){var eventMinutesItems=_ref.eventMinutesItems;return Object(jsx_runtime.jsx)(SpacerContainer,{children:Object(jsx_runtime.jsx)(Details.a,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:Object(jsx_runtime.jsx)(H2.a,{className:"mzp-u-title-xs",isInline:!0,children:LocalizedStrings.a.history}),hiddenContent:Object(jsx_runtime.jsx)(ColumnMakingContainer,{children:eventMinutesItems.map((function(eventMinutesItem,index){return Object(jsx_runtime.jsx)(LegislativeHistoryNode_LegislativeHistoryNode,{isLastIndex:index===eventMinutesItems.length-1,eventMinutesItem:eventMinutesItem},"leg_hist_node_"+eventMinutesItem.id+"_"+index)}))})})})};LegislationHistory_LegislationHistory.displayName="LegislationHistory";try{LegislationHistory_LegislationHistory.displayName="LegislationHistory",LegislationHistory_LegislationHistory.__docgenInfo={description:"",displayName:"LegislationHistory",props:{eventMinutesItems:{defaultValue:null,description:"the timeline of a matter as represented by an ordered series of EventMinutesItem",name:"eventMinutesItems",required:!0,type:{name:"EventMinutesItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/LegislationHistory.tsx#LegislationHistory"]={docgenInfo:LegislationHistory_LegislationHistory.__docgenInfo,name:"LegislationHistory",path:"src/components/Details/Legislation/LegislationHistory.tsx#LegislationHistory"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/Legislation/LegislationIntroduction.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"approvalStory",(function(){return approvalStory})),__webpack_require__.d(__webpack_exports__,"rejectedStory",(function(){return rejectedStory})),__webpack_require__.d(__webpack_exports__,"inProgressStory",(function(){return inProgressStory}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var matter=__webpack_require__("./src/stories/model-mocks/matter.ts"),basicIndexMatterGram={id:"test-basicIndexMatterGram",matter_ref:"ref_to_test_event",matter:matter.a,unstemmed_gram:"housing",stemmed_gram:"hous",context_span:"We believe that housing should be affordable.",value:1.23,datetime_weighted_value:1.234},rentBasicMatterGram={id:"test-basicIndexMatterGram",matter_ref:"ref_to_test_event",matter:matter.a,unstemmed_gram:"rent",stemmed_gram:"ren",context_span:"The rent is too damn high.",value:1.23,datetime_weighted_value:1.234},matterStatus=__webpack_require__("./src/stories/model-mocks/matterStatus.ts"),LegislationIntroduction=__webpack_require__("./src/components/Details/Legislation/LegislationIntroduction.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),approvalProps=(__webpack_exports__.default={component:LegislationIntroduction.a,title:"Library/Details/Legislation/Introduction"},{matterStatus:matterStatus.a,indexedMatterGrams:[basicIndexMatterGram,rentBasicMatterGram]}),rejectedProps={matterStatus:matterStatus.c,indexedMatterGrams:[basicIndexMatterGram,rentBasicMatterGram]},inProgressProps={matterStatus:matterStatus.b,indexedMatterGrams:[basicIndexMatterGram,rentBasicMatterGram]},LegislationIntroduction_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(LegislationIntroduction.a,Object.assign({},args))};LegislationIntroduction_stories_Template.displayName="Template";var approvalStory=LegislationIntroduction_stories_Template.bind({});approvalStory.args=approvalProps;var rejectedStory=LegislationIntroduction_stories_Template.bind({});rejectedStory.args=rejectedProps;var inProgressStory=LegislationIntroduction_stories_Template.bind({});inProgressStory.args=inProgressProps,approvalStory.parameters=Object.assign({storySource:{source:"(args) => (\n  <LegislationIntroduction {...args} />\n)"}},approvalStory.parameters),rejectedStory.parameters=Object.assign({storySource:{source:"(args) => (\n  <LegislationIntroduction {...args} />\n)"}},rejectedStory.parameters),inProgressStory.parameters=Object.assign({storySource:{source:"(args) => (\n  <LegislationIntroduction {...args} />\n)"}},inProgressStory.parameters)},"./src/components/Details/Legislation/LegislationIntroduction.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/index.js");var _Shared__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Shared/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LegislationIntroduction=function LegislationIntroduction(_ref){var _matterStatus$matter,_matterStatus$matter2,matterStatus=_ref.matterStatus,indexedMatterGrams=_ref.indexedMatterGrams;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h1",{className:"mzp-u-title-sm",children:null===(_matterStatus$matter=matterStatus.matter)||void 0===_matterStatus$matter?void 0:_matterStatus$matter.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:null===(_matterStatus$matter2=matterStatus.matter)||void 0===_matterStatus$matter2?void 0:_matterStatus$matter2.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:12,marginBottom:12},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Shared__WEBPACK_IMPORTED_MODULE_3__.a,{result:matterStatus.status,style:{display:"flex",alignItems:"center",flex:0,whiteSpace:"nowrap"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center",flex:1},children:indexedMatterGrams&&indexedMatterGrams.map((function(indexedMatterGram){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{style:{display:"inline",paddingLeft:11,paddingRight:11},children:"â€¢"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{style:{display:"inline"},children:indexedMatterGram.unstemmed_gram})]},indexedMatterGram.id)}))})]})]})};LegislationIntroduction.displayName="LegislationIntroduction",__webpack_exports__.a=LegislationIntroduction;try{LegislationIntroduction.displayName="LegislationIntroduction",LegislationIntroduction.__docgenInfo={description:"",displayName:"LegislationIntroduction",props:{matterStatus:{defaultValue:null,description:"",name:"matterStatus",required:!0,type:{name:"MatterStatus"}},indexedMatterGrams:{defaultValue:null,description:"",name:"indexedMatterGrams",required:!0,type:{name:"IndexedMatterGram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/LegislationIntroduction.tsx#LegislationIntroduction"]={docgenInfo:LegislationIntroduction.__docgenInfo,name:"LegislationIntroduction",path:"src/components/Details/Legislation/LegislationIntroduction.tsx#LegislationIntroduction"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/Legislation/LegislationLatestVote.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"adopted",(function(){return adopted})),__webpack_require__.d(__webpack_exports__,"rejected",(function(){return rejected}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/stories/model-mocks/vote.ts"),_LegislationLatestVote__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Details/Legislation/LegislationLatestVote.tsx"),_models_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/models/constants.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_LegislationLatestVote__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Details/Legislation/LatestVote"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_LegislationLatestVote__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var adopted=Template.bind({});adopted.args={votes:Object(_stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__.a)(_models_constants__WEBPACK_IMPORTED_MODULE_5__.d.APPROVE)};var rejected=Template.bind({});rejected.args={votes:Object(_stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__.a)(_models_constants__WEBPACK_IMPORTED_MODULE_5__.d.REJECT)},adopted.parameters=Object.assign({storySource:{source:"(args) => <LegislationLatestVote {...args} />"}},adopted.parameters),rejected.parameters=Object.assign({storySource:{source:"(args) => <LegislationLatestVote {...args} />"}},rejected.parameters)},"./src/components/Details/Legislation/LegislationLatestVote.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LegislationLatestVote}));__webpack_require__("./node_modules/react/index.js");var _Shared_H2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Shared/H2.tsx"),_Shared_Details__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Shared/Details.tsx"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),_VoteDistributionGraphic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Details/Legislation/VoteDistributionGraphic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LegislationLatestVote=function LegislationLatestVote(_ref){var votes=_ref.votes;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{marginTop:16},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Shared_Details__WEBPACK_IMPORTED_MODULE_2__.a,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Shared_H2__WEBPACK_IMPORTED_MODULE_1__.a,{className:"mzp-u-title-xs",isInline:!0,children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_3__.a.latest_vote}),hiddenContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_VoteDistributionGraphic__WEBPACK_IMPORTED_MODULE_4__.a,{votes:votes})})})};LegislationLatestVote.displayName="LegislationLatestVote";try{LegislationLatestVote.displayName="LegislationLatestVote",LegislationLatestVote.__docgenInfo={description:"",displayName:"LegislationLatestVote",props:{votes:{defaultValue:null,description:"votes on the matter",name:"votes",required:!0,type:{name:"Vote[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/LegislationLatestVote.tsx#LegislationLatestVote"]={docgenInfo:LegislationLatestVote.__docgenInfo,name:"LegislationLatestVote",path:"src/components/Details/Legislation/LegislationLatestVote.tsx#LegislationLatestVote"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/Legislation/LegislationOverview.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"adopted",(function(){return adopted})),__webpack_require__.d(__webpack_exports__,"rejected",(function(){return rejected})),__webpack_require__.d(__webpack_exports__,"inProgress",(function(){return inProgress}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react/index.js");var _LegislationOverview__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Details/Legislation/LegislationOverview.tsx"),_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/stories/model-mocks/event.ts"),_stories_model_mocks_matterStatus__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/stories/model-mocks/matterStatus.ts"),_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/stories/model-mocks/person.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js"),basicDocument={name:"Legislation Summary",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"};__webpack_exports__.default={component:_LegislationOverview__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Details/Legislation/Overview"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_LegislationOverview__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var adopted=Template.bind({});adopted.args={matterStatus:_stories_model_mocks_matterStatus__WEBPACK_IMPORTED_MODULE_6__.a,event:_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_5__.a,sponsors:[_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({},_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__.a,{id:_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__.a.id+"-2",name:_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__.a.name+" 2"})],document:basicDocument};var rejected=Template.bind({});rejected.args={matterStatus:_stories_model_mocks_matterStatus__WEBPACK_IMPORTED_MODULE_6__.c,event:_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_5__.a,sponsors:[_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__.a],document:basicDocument};var inProgress=Template.bind({});inProgress.args={matterStatus:_stories_model_mocks_matterStatus__WEBPACK_IMPORTED_MODULE_6__.b,event:_stories_model_mocks_event__WEBPACK_IMPORTED_MODULE_5__.a,sponsors:[_stories_model_mocks_person__WEBPACK_IMPORTED_MODULE_7__.a],document:basicDocument},adopted.parameters=Object.assign({storySource:{source:"(args) => <LegislationOverview {...args} />"}},adopted.parameters),rejected.parameters=Object.assign({storySource:{source:"(args) => <LegislationOverview {...args} />"}},rejected.parameters),inProgress.parameters=Object.assign({storySource:{source:"(args) => <LegislationOverview {...args} />"}},inProgress.parameters)},"./src/components/Details/Legislation/LegislationOverview.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/index.js");var _MATTER_STATUS_DECISI,styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),app=__webpack_require__("./src/app/index.ts"),Shared=__webpack_require__("./src/components/Shared/index.ts"),H2=__webpack_require__("./src/components/Shared/H2.tsx"),constants=__webpack_require__("./src/models/constants.ts"),Dot=__webpack_require__("./src/components/Shared/Dot.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MID_POINT="calc(50% + "+Dot.b/2+"px + "+(Dot.a+2)+"px)",Progress=styled_browser_esm.a.div({height:29,position:"relative"}),Steps=styled_browser_esm.a.div((function(props){return{position:"absolute",top:0,left:0,height:29,width:props.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:props.zIndex,"& > div:first-of-type":{marginLeft:Dot.a},"& > div:last-of-type":{marginRight:Dot.a}}})),Checkpoints=styled_browser_esm.a.div({display:"flex",justifyContent:"space-between","& > div":{fontWeight:500}}),MATTER_STATUS_DECISION_COLOR=((_MATTER_STATUS_DECISI={})[constants.b.ADOPTED]=["cdp-bg-acceptance-green","cdp-bg-light-acceptance_green"],_MATTER_STATUS_DECISI[constants.b.REJECTED]=["cdp-bg-rejected-red","cdp-bg-light-rejected_red"],_MATTER_STATUS_DECISI[constants.b.IN_PROGRESS]=["cdp-bg-in-progress_orange","cdp-bg-light-in_progress_orange"],_MATTER_STATUS_DECISI),ProgressBar_ProgressBar=function ProgressBar(_ref){var status=_ref.status,completedColor=MATTER_STATUS_DECISION_COLOR[status],inProgress=status===constants.b.IN_PROGRESS;return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)(Progress,{children:[Object(jsx_runtime.jsxs)(Steps,{className:completedColor[1],width:inProgress?MID_POINT:"100%",zIndex:2,children:[Object(jsx_runtime.jsx)(Dot.c,{className:completedColor[0]}),Object(jsx_runtime.jsx)(Dot.c,{className:completedColor[0]}),!inProgress&&Object(jsx_runtime.jsx)(Dot.c,{className:completedColor[0]})]}),Object(jsx_runtime.jsxs)(Steps,{className:"cdp-bg-light-neutral_grey",width:"100%",zIndex:1,children:[Object(jsx_runtime.jsx)(Dot.c,{className:"cdp-bg-neutral-grey"}),Object(jsx_runtime.jsx)(Dot.c,{className:"cdp-bg-neutral-grey"}),Object(jsx_runtime.jsx)(Dot.c,{className:"cdp-bg-neutral-grey"})]})]}),Object(jsx_runtime.jsxs)(Checkpoints,{children:[Object(jsx_runtime.jsx)("div",{children:"Introduced"}),Object(jsx_runtime.jsx)("div",{children:constants.b.IN_PROGRESS}),Object(jsx_runtime.jsx)("div",{style:{opacity:inProgress?"0.75":"1"},children:inProgress?constants.b.ADOPTED:status})]})]})};ProgressBar_ProgressBar.displayName="ProgressBar";var Legislation_ProgressBar=ProgressBar_ProgressBar;try{ProgressBar_ProgressBar.displayName="ProgressBar",ProgressBar_ProgressBar.__docgenInfo={description:"",displayName:"ProgressBar",props:{status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"Adopted"'},{value:'"In Progress"'},{value:'"Rejected"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/ProgressBar.tsx#ProgressBar"]={docgenInfo:ProgressBar_ProgressBar.__docgenInfo,name:"ProgressBar",path:"src/components/Details/Legislation/ProgressBar.tsx#ProgressBar"})}catch(__react_docgen_typescript_loader_error){}var fonts=__webpack_require__("./src/styles/fonts.ts"),Title=Object(styled_browser_esm.a)(H2.a)({display:"flex",justifyContent:"space-between",alignItems:"flex-end","& > em":{fontSize:fonts.a.font_size_6,fontWeight:400}}),SponsorLinks=styled_browser_esm.a.div({display:"flex",flexWrap:"wrap"}),Dl=styled_browser_esm.a.dl({fontSize:fonts.a.font_size_6,display:"flex",flexDirection:"column",rowGap:16,"& > div:not(:nth-of-type(2))":{display:"flex",columnGap:4,flexWrap:"wrap"},"& > div:nth-of-type(2)":{margin:"16px 0"},"& > div:nth-of-type(2) > dt":{width:0,height:0,overflow:"hidden"},"& dt":{fontWeight:600},"& dd":{fontWeight:400}}),LegislationOverview_LegislationOverview=function LegislationOverview(_ref){var matterStatus=_ref.matterStatus,event=_ref.event,sponsors=_ref.sponsors,document=_ref.document,municipality=Object(app.a)().municipality,language=Object(app.b)().language;return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)(Title,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:[Object(jsx_runtime.jsx)("span",{children:"Legislation Overview"}),Object(jsx_runtime.jsx)("em",{children:"Last Updated "+matterStatus.update_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone,month:"long",day:"numeric",year:"numeric"})})]}),Object(jsx_runtime.jsxs)(Dl,{children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Legislation Status:"}),Object(jsx_runtime.jsx)("dd",{children:Object(jsx_runtime.jsx)(Shared.a,{result:matterStatus.status})})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Progress bar"}),Object(jsx_runtime.jsx)("dd",{children:Object(jsx_runtime.jsx)(Legislation_ProgressBar,{status:matterStatus.status})})]}),event&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Latest Meeting:"}),Object(jsx_runtime.jsx)("dd",{children:Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/events/"+event.id,children:event.event_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone,month:"short",day:"numeric",year:"numeric"})})})]}),document&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Latest Document:"}),Object(jsx_runtime.jsx)("dd",{children:Object(jsx_runtime.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:document.url,children:document.name})})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Sponsored by:"}),Object(jsx_runtime.jsx)("dd",{children:Object(jsx_runtime.jsx)(SponsorLinks,{children:sponsors.map((function(sponsor,i){return[i>0&&Object(jsx_runtime.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:",  "}),Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/people/"+sponsor.id,children:sponsor.name},sponsor.id)]}))})})]})]})]})};LegislationOverview_LegislationOverview.displayName="LegislationOverview";__webpack_exports__.a=LegislationOverview_LegislationOverview;try{LegislationOverview_LegislationOverview.displayName="LegislationOverview",LegislationOverview_LegislationOverview.__docgenInfo={description:"",displayName:"LegislationOverview",props:{matterStatus:{defaultValue:null,description:"The latest matter status of the matter",name:"matterStatus",required:!0,type:{name:"MatterStatus"}},event:{defaultValue:null,description:"The latest event where the matter was a minutes item",name:"event",required:!1,type:{name:"Event"}},sponsors:{defaultValue:null,description:"The persons who sponsored the matter",name:"sponsors",required:!0,type:{name:"Person[]"}},document:{defaultValue:null,description:"The latest document of  the matter",name:"document",required:!1,type:{name:"{ name: string; url: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/LegislationOverview.tsx#LegislationOverview"]={docgenInfo:LegislationOverview_LegislationOverview.__docgenInfo,name:"LegislationOverview",path:"src/components/Details/Legislation/LegislationOverview.tsx#LegislationOverview"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/Legislation/VoteDistributionGraphic.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return VoteDistributionGraphic_VoteDistributionGraphic}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js");var react=__webpack_require__("./node_modules/react/index.js"),styled_browser_esm=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js")),react_responsive=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),Shared=__webpack_require__("./src/components/Shared/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Spacer=styled_browser_esm.a.div({flex:4}),ColorBar=styled_browser_esm.a.div((function(props){return{position:"absolute",top:0,left:0,height:props.height,width:props.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",zIndex:props.zIndex}})),VoteBar_VoteBar=function VoteBar(_ref){var statusColor=_ref.statusColor,percentage=_ref.percentage,height=_ref.height,votes=_ref.votes,label=_ref.label,_useState2=_slicedToArray(Object(react.useState)(!1),2),expanded=_useState2[0],setExpanded=_useState2[1],compactForm=Object(react_responsive.useMediaQuery)({query:"(max-width: "+mediaBreakpoints.a.tablet+")"}),votesLinks=votes.map((function(vote,i){var _vote$person;return Object(jsx_runtime.jsxs)("div",{style:{marginTop:4,display:"flex"},children:[Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/people/"+vote.id,style:{marginLeft:12,flex:1},children:null===(_vote$person=vote.person)||void 0===_vote$person?void 0:_vote$person.name}),Object(jsx_runtime.jsx)(Shared.a,{result:vote.decision}),!compactForm&&Object(jsx_runtime.jsx)(Spacer,{style:{flex:4}})]},i+"_"+vote.id+"_vote")})),directionality=compactForm?"column":"row",barSize=compactForm?"100%":"80%",textSize=compactForm?"100%":"20%";return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:16},children:[Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:directionality,flex:1,alignItems:"center"},children:[Object(jsx_runtime.jsxs)("div",{style:{height:height,position:"relative",width:barSize,cursor:"pointer"},onClick:function onClick(){setExpanded(!expanded)},children:[Object(jsx_runtime.jsx)(ColorBar,{className:statusColor,width:percentage+"%",height:height,zIndex:2}),Object(jsx_runtime.jsx)(ColorBar,{className:"cdp-bg-neutral-grey",width:"100%",height:height,zIndex:1})]}),Object(jsx_runtime.jsx)("b",{style:{marginLeft:16,width:textSize},children:label})]}),expanded&&votesLinks]})};VoteBar_VoteBar.displayName="VoteBar";var Legislation_VoteBar=VoteBar_VoteBar;try{VoteBar_VoteBar.displayName="VoteBar",VoteBar_VoteBar.__docgenInfo={description:"",displayName:"VoteBar",props:{statusColor:{defaultValue:null,description:"",name:"statusColor",required:!0,type:{name:"string"}},votes:{defaultValue:null,description:"",name:"votes",required:!0,type:{name:"Vote[]"}},percentage:{defaultValue:null,description:"",name:"percentage",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/VoteBar.tsx#VoteBar"]={docgenInfo:VoteBar_VoteBar.__docgenInfo,name:"VoteBar",path:"src/components/Details/Legislation/VoteBar.tsx#VoteBar"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.includes.js");var constants=__webpack_require__("./src/models/constants.ts");var LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),VoteDistributionGraphic_VoteDistributionGraphic=function VoteDistributionGraphic(_ref){var votes=_ref.votes,_getVoteDistribution=function getVoteDistribution(votes){var inFavor=[],against=[],abstained=[];return votes.forEach((function(vote){[constants.d.ABSENT_APPROVE,constants.d.ABSTAIN_APPROVE,constants.d.APPROVE].includes(vote.decision)&&inFavor.push(vote),[constants.d.ABSENT_REJECT,constants.d.ABSTAIN_REJECT,constants.d.REJECT].includes(vote.decision)&&against.push(vote),[constants.d.ABSENT_NON_VOTING,constants.d.ABSTAIN_NON_VOTING].includes(vote.decision)&&abstained.push(vote)})),{inFavor:inFavor,against:against,abstained:abstained}}(votes),inFavor=_getVoteDistribution.inFavor,against=_getVoteDistribution.against,abstained=_getVoteDistribution.abstained,votesForLabel=LocalizedStrings.a.number_approved.replace("{number}",""+inFavor.length),votesAgainstLabel=LocalizedStrings.a.number_rejected.replace("{number}",""+against.length),votesAbstainedLabel=LocalizedStrings.a.number_non_voting.replace("{number}",""+abstained.length),voteBars=[Object(jsx_runtime.jsx)(Legislation_VoteBar,{statusColor:"cdp-bg-acceptance-green",votes:inFavor,percentage:inFavor.length/votes.length*100,height:16,label:votesForLabel},"inFavorVoteBar"),Object(jsx_runtime.jsx)(Legislation_VoteBar,{statusColor:"cdp-bg-rejected-red",votes:against,percentage:against.length/votes.length*100,height:16,label:votesAgainstLabel},"againstVoteBar"),Object(jsx_runtime.jsx)(Legislation_VoteBar,{statusColor:"cdp-bg-light-purple",votes:abstained,percentage:abstained.length/votes.length*100,height:16,label:votesAbstainedLabel},"abstainedVoteBar")];return Object(jsx_runtime.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:voteBars})};VoteDistributionGraphic_VoteDistributionGraphic.displayName="VoteDistributionGraphic";try{VoteDistributionGraphic_VoteDistributionGraphic.displayName="VoteDistributionGraphic",VoteDistributionGraphic_VoteDistributionGraphic.__docgenInfo={description:"",displayName:"VoteDistributionGraphic",props:{votes:{defaultValue:null,description:"votes on the matter",name:"votes",required:!0,type:{name:"Vote[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/Legislation/VoteDistributionGraphic.tsx#VoteDistributionGraphic"]={docgenInfo:VoteDistributionGraphic_VoteDistributionGraphic.__docgenInfo,name:"VoteDistributionGraphic",path:"src/components/Details/Legislation/VoteDistributionGraphic.tsx#VoteDistributionGraphic"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/MinutesItemsList/DocumentsList.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MinusIcon_MinusIcon=function MinusIcon(){return Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})})};MinusIcon_MinusIcon.displayName="MinusIcon";var Shared_MinusIcon=MinusIcon_MinusIcon,PlusIcon_PlusIcon=function PlusIcon(){return Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})};PlusIcon_PlusIcon.displayName="PlusIcon";var Shared_PlusIcon=PlusIcon_PlusIcon,LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),colors=__webpack_require__("./src/styles/colors.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Summary=styled_browser_esm.a.summary({color:colors.a.dark_blue,display:"flex",alignItems:"center","&::before, &::marker":{content:"none"},"& svg":{marginLeft:4,width:"1rem",height:"1rem"}}),DocumentsList_DocumentsList=function DocumentsList(_ref){var documents=_ref.documents,_useState2=_slicedToArray(Object(react.useState)(!1),2),isExpanded=_useState2[0],setIsExpanded=_useState2[1];return documents&&0!==documents.length?Object(jsx_runtime.jsxs)("details",{onToggle:function onToggleIsExpanded(){return setIsExpanded((function(prev){return!prev}))},children:[Object(jsx_runtime.jsxs)(Summary,{children:[LocalizedStrings.a.see_documents,isExpanded?Object(jsx_runtime.jsx)(Shared_MinusIcon,{}):Object(jsx_runtime.jsx)(Shared_PlusIcon,{})]}),Object(jsx_runtime.jsx)("ul",{children:documents.map((function(doc){return Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)("a",{href:doc.url,target:"_blank",rel:"noopener noreferrer",children:doc.label})},doc.label)}))})]}):null};DocumentsList_DocumentsList.displayName="DocumentsList";__webpack_exports__.a=DocumentsList_DocumentsList;try{DocumentsList_DocumentsList.displayName="DocumentsList",DocumentsList_DocumentsList.__docgenInfo={description:"",displayName:"DocumentsList",props:{documents:{defaultValue:null,description:"",name:"documents",required:!1,type:{name:"Document[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/MinutesItemsList/DocumentsList.tsx#DocumentsList"]={docgenInfo:DocumentsList_DocumentsList.__docgenInfo,name:"DocumentsList",path:"src/components/Details/MinutesItemsList/DocumentsList.tsx#DocumentsList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/MinutesItemsList/MinutesItemsList.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"minutesItemsList",(function(){return minutesItemsList}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _MinutesItemsList__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Details/MinutesItemsList/MinutesItemsList.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_MinutesItemsList__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Details/Minutes Items List"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_MinutesItemsList__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var minutesItemsList=Template.bind({});minutesItemsList.args={minutesItems:[{name:"Approval of the minutes"},{name:"Council briefing minutes (2019)",documents:[{url:"http://google.com",label:"Meeting transcript"},{url:"http://google.com",label:"2nd Meeting transcript"}]},{name:"President's report"},{name:"Preview of today's city council actions, council and regional committees"},{name:"Inf 1579",description:"Inf 1579 description",documents:[{url:"http://google.com",label:"A document"}]},{name:"Executive session on Pending, Potential, or Actual Litigation"}]},minutesItemsList.parameters=Object.assign({storySource:{source:"(args) => <MinutesItemsList {...args} />"}},minutesItemsList.parameters)},"./src/components/Details/MinutesItemsList/MinutesItemsList.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/react/index.js");var _emotion_styled__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),_DocumentsList__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Details/MinutesItemsList/DocumentsList.tsx"),_Shared_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Shared/ChevronDownIcon.tsx"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react/jsx-runtime.js"),ListItem=_emotion_styled__WEBPACK_IMPORTED_MODULE_5__.a.li({"& > div:first-of-type":{fontWeight:600},"& > a":{display:"flex",alignItems:"center"},"& > a > svg":{width:"1rem",height:"1rem",transform:"rotate(-90deg)"}}),MinutesItemsList=function MinutesItemsList(_ref){var minutesItems=_ref.minutesItems;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("ol",{className:"mzp-u-list-styled",children:minutesItems.map((function(elem){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(ListItem,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:elem.name}),elem.matter_ref&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.b,{to:"/matters/"+elem.matter_ref,children:[_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_9__.a.go_to_matter_details," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_Shared_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_8__.a,{})]}),elem.description&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:elem.description}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_DocumentsList__WEBPACK_IMPORTED_MODULE_7__.a,{documents:elem.documents})]},elem.name)}))})};MinutesItemsList.displayName="MinutesItemsList",__webpack_exports__.a=MinutesItemsList;try{MinutesItemsList.displayName="MinutesItemsList",MinutesItemsList.__docgenInfo={description:"",displayName:"MinutesItemsList",props:{minutesItems:{defaultValue:null,description:"List of minutes items headlines, each of which may have a list of associated documents",name:"minutesItems",required:!0,type:{name:"Item[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/MinutesItemsList/MinutesItemsList.tsx#MinutesItemsList"]={docgenInfo:MinutesItemsList.__docgenInfo,name:"MinutesItemsList",path:"src/components/Details/MinutesItemsList/MinutesItemsList.tsx#MinutesItemsList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/TranscriptFull/TranscriptFull.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"transcriptFull",(function(){return transcriptFull}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_TranscriptFull__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Details/TranscriptFull/TranscriptFull.tsx"),_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/stories/model-mocks/sentence.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_TranscriptFull__WEBPACK_IMPORTED_MODULE_5__.a,title:"Library/Details/Transcript Full"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_TranscriptFull__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},args))};Template.displayName="Template";var exampleSentences=Object(_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_6__.a)(2,10),transcriptFull=Template.bind({});transcriptFull.args={sentences:exampleSentences,transcriptItemsRefs:exampleSentences.map((function(){return Object(react__WEBPACK_IMPORTED_MODULE_3__.createRef)()})),jumpToVideoClip:function jumpToVideoClip(_,startTime){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__.action)("jump to video clip at "+startTime)}},transcriptFull.parameters=Object.assign({storySource:{source:"(args) => <TranscriptFull {...args} />"}},transcriptFull.parameters)},"./src/components/Details/TranscriptFull/TranscriptFull.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/index.js");var _emotion_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_TranscriptItem_TranscriptItem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Details/TranscriptItem/TranscriptItem.tsx"),_utils_secondsToHHMMSS__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/secondsToHHMMSS.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),TranscripItems=_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.a.div({maxHeight:"100vh",overflowY:"auto"}),TranscriptFull=function TranscriptFull(_ref){var sentences=_ref.sentences,transcriptItemsRefs=_ref.transcriptItemsRefs,jumpToVideoClip=_ref.jumpToVideoClip,handleJumpToVideoClip=function handleJumpToVideoClip(sessionIndex,startTime){return function(){return jumpToVideoClip(sessionIndex,startTime)}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(TranscripItems,{children:sentences.map((function(sentence,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_TranscriptItem_TranscriptItem__WEBPACK_IMPORTED_MODULE_3__.a,{sessionIndex:sentence.session_index,speakerName:sentence.speaker_name,text:sentence.text,startTime:Object(_utils_secondsToHHMMSS__WEBPACK_IMPORTED_MODULE_4__.a)(sentence.start_time),handleJumpToVideoClip:handleJumpToVideoClip(sentence.session_index,sentence.start_time),searchQuery:"",speakerId:sentence.speaker_id,speakerPictureSrc:sentence.speaker_pictureSrc,componentRef:transcriptItemsRefs[i]},sentence.index)}))})};TranscriptFull.displayName="TranscriptFull",__webpack_exports__.a=TranscriptFull;try{TranscriptFull.displayName="TranscriptFull",TranscriptFull.__docgenInfo={description:"Full view of transcript",displayName:"TranscriptFull",props:{sentences:{defaultValue:null,description:"The sentences of the transcript",name:"sentences",required:!0,type:{name:"ECSentence[]"}},transcriptItemsRefs:{defaultValue:null,description:"List of transcript item React references",name:"transcriptItemsRefs",required:!0,type:{name:"RefObject<TranscriptItemRef>[]"}},jumpToVideoClip:{defaultValue:null,description:"Callback to play video clip",name:"jumpToVideoClip",required:!0,type:{name:"(sessionIndex: number, startTime: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/TranscriptFull/TranscriptFull.tsx#TranscriptFull"]={docgenInfo:TranscriptFull.__docgenInfo,name:"TranscriptFull",path:"src/components/Details/TranscriptFull/TranscriptFull.tsx#TranscriptFull"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/TranscriptItem/TranscriptItem.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"withPictureSrc",(function(){return withPictureSrc})),__webpack_require__.d(__webpack_exports__,"withoutPictureSrc",(function(){return withoutPictureSrc})),__webpack_require__.d(__webpack_exports__,"withSearchQuery",(function(){return withSearchQuery}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_TranscriptItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Details/TranscriptItem/TranscriptItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_TranscriptItem__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Details/Transcript Item"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_TranscriptItem__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var withPictureSrc=Template.bind({});withPictureSrc.args={sessionIndex:0,speakerId:"speaker-id-1",speakerName:"Lisa Herbold",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",startTime:"05:00:45",speakerPictureSrc:"https://www.seattle.gov/images/Council/Members/Herbold/Herbold_225x225.jpg",handleJumpToTranscript:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("handleJumpToTranscript")};var withoutPictureSrc=Template.bind({});withoutPictureSrc.args={sessionIndex:0,speakerId:"speaker-id-1",speakerName:"Lisa Herbold",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",startTime:"05:00:45",handleJumpToTranscript:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("handleJumpToTranscript")};var withSearchQuery=Template.bind({});withSearchQuery.args={sessionIndex:0,speakerId:"speaker-id-1",speakerName:"Lisa Herbold",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",startTime:"05:00:45",speakerPictureSrc:"https://www.seattle.gov/images/Council/Members/Herbold/Herbold_225x225.jpg",searchQuery:"ipsum dolor sit",handleJumpToTranscript:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("handleJumpToTranscript")},withPictureSrc.parameters=Object.assign({storySource:{source:"(args) => <TranscriptItem {...args} />"}},withPictureSrc.parameters),withoutPictureSrc.parameters=Object.assign({storySource:{source:"(args) => <TranscriptItem {...args} />"}},withoutPictureSrc.parameters),withSearchQuery.parameters=Object.assign({storySource:{source:"(args) => <TranscriptItem {...args} />"}},withSearchQuery.parameters)},"./src/components/Details/TranscriptItem/TranscriptItem.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),main=__webpack_require__("./node_modules/react-highlight-words/dist/main.js"),main_default=__webpack_require__.n(main),Popup=__webpack_require__("./node_modules/semantic-ui-react/dist/es/modules/Popup/Popup.js"),dist_module=__webpack_require__("./node_modules/stemr/dist/module/index.js"),stopword=__webpack_require__("./node_modules/stopword/lib/stopword.js"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),DefaultAvatar_DefaultAvatar=function DefaultAvatar(){return Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})};DefaultAvatar_DefaultAvatar.displayName="DefaultAvatar";var Shared_DefaultAvatar=DefaultAvatar_DefaultAvatar,DocumentTextIcon_DocumentTextIcon=function DocumentTextIcon(){return Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})};DocumentTextIcon_DocumentTextIcon.displayName="DocumentTextIcon";var Shared_DocumentTextIcon=DocumentTextIcon_DocumentTextIcon,PlayIcon_PlayIcon=function PlayIcon(){return Object(jsx_runtime.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:[Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})};PlayIcon_PlayIcon.displayName="PlayIcon";var Shared_PlayIcon=PlayIcon_PlayIcon,colors=__webpack_require__("./src/styles/colors.ts"),fonts=__webpack_require__("./src/styles/fonts.ts"),cleanText=__webpack_require__("./src/utils/cleanText.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Item=styled_browser_esm.a.div((function(props){return{display:"grid",gridTemplateColumns:"1fr",rowGap:8,padding:"8px 16px",backgroundColor:"white",borderLeft:"4px solid "+(props.isJumpedTo?colors.a.dark_blue:"transparent")}})),Text=styled_browser_esm.a.div({fontSize:fonts.a.font_size_5}),Container=styled_browser_esm.a.div((function(props){return{display:"grid",columnGap:4,gridTemplateColumns:props.hasMultipleActions?"1fr auto auto":"1fr auto",justifyContent:"start",alignItems:"center"}})),Speaker=styled_browser_esm.a.div({display:"grid",columnGap:4,gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",fontSize:fonts.a.font_size_2,overflowWrap:"anywhere","& p":{margin:0}}),SpeakerPicture=styled_browser_esm.a.img({objectFit:"cover",objectPosition:"center",borderRadius:"50%",width:24,height:24}),DefaultAvatarContainer=styled_browser_esm.a.div({width:24,height:24}),Button=styled_browser_esm.a.button({padding:"2px 8px !important",display:"flex",justifyContent:"center",alignItems:"center"}),TranscriptItem_TranscriptItem=function TranscriptItem(_ref){var sessionIndex=_ref.sessionIndex,speakerName=_ref.speakerName,text=_ref.text,startTime=_ref.startTime,speakerId=_ref.speakerId,speakerPictureSrc=_ref.speakerPictureSrc,searchQuery=_ref.searchQuery,handleJumpToVideoClip=_ref.handleJumpToVideoClip,handleJumpToTranscript=_ref.handleJumpToTranscript,componentRef=_ref.componentRef,_useState2=_slicedToArray(Object(react.useState)(!1),2),isJumpedTo=_useState2[0],setIsJumpedTo=_useState2[1],transcriptItemRef=Object(react.useRef)(null);Object(react.useImperativeHandle)(componentRef,(function(){return{scrollIntoView:function scrollIntoView(){var _transcriptItemRef$cu;null===(_transcriptItemRef$cu=transcriptItemRef.current)||void 0===_transcriptItemRef$cu||_transcriptItemRef$cu.scrollIntoView({behavior:"smooth",block:"center"}),setIsJumpedTo(!0),setTimeout((function(){setIsJumpedTo(!1)}),5e3)}}}));var name=speakerId?Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/people/"+speakerId,children:speakerName}):Object(jsx_runtime.jsx)("div",{children:speakerName}),avatar=speakerPictureSrc?Object(jsx_runtime.jsx)(SpeakerPicture,{src:speakerPictureSrc,alt:speakerName}):Object(jsx_runtime.jsx)(DefaultAvatarContainer,{children:Object(jsx_runtime.jsx)(Shared_DefaultAvatar,{})}),searchWords=Object(react.useMemo)((function(){var cleanedQuery=Object(cleanText.a)(searchQuery||""),tokenizedQuery=Object(stopword.removeStopwords)(cleanedQuery.split(" "));if(!cleanedQuery||0===tokenizedQuery.length)return[];var stemmedQuery=tokenizedQuery.map((function(token){return Object(dist_module.a)(token)})),regExps=tokenizedQuery.map((function(token,i){return new RegExp("\\b("+token+"|"+stemmedQuery[i]+")","g")}));return searchQuery&&searchQuery.trim().length>0&&regExps.push(new RegExp(searchQuery.trim(),"g")),regExps}),[searchQuery]);return Object(jsx_runtime.jsxs)(Item,{isJumpedTo:isJumpedTo,ref:transcriptItemRef,children:[Object(jsx_runtime.jsx)(Text,{children:Object(jsx_runtime.jsx)(main_default.a,{caseSensitive:!1,searchWords:searchWords,textToHighlight:text})}),Object(jsx_runtime.jsxs)(Container,{hasMultipleActions:void 0!==handleJumpToTranscript,children:[Object(jsx_runtime.jsxs)(Speaker,{children:[avatar,Object(jsx_runtime.jsxs)("div",{children:[name,Object(jsx_runtime.jsx)("p",{children:LocalizedStrings.a.session+" "+(sessionIndex+1)}),Object(jsx_runtime.jsx)("p",{children:startTime})]})]}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(Popup.a,{position:"top right",content:LocalizedStrings.a.jump_to_sentence_video,size:"mini",trigger:Object(jsx_runtime.jsx)(Button,{"aria-label":LocalizedStrings.a.jump_to_sentence_video,className:"mzp-c-button mzp-t-neutral",onClick:handleJumpToVideoClip,children:Object(jsx_runtime.jsx)(Shared_PlayIcon,{})})})}),handleJumpToTranscript&&Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(Popup.a,{position:"top right",content:LocalizedStrings.a.jump_to_sentence_transcript,size:"mini",trigger:Object(jsx_runtime.jsx)(Button,{"aria-label":LocalizedStrings.a.jump_to_sentence_transcript,className:"mzp-c-button mzp-t-neutral",onClick:handleJumpToTranscript,children:Object(jsx_runtime.jsx)(Shared_DocumentTextIcon,{})})})})]})]})};TranscriptItem_TranscriptItem.displayName="TranscriptItem";__webpack_exports__.a=TranscriptItem_TranscriptItem;try{TranscriptItem_TranscriptItem.displayName="TranscriptItem",TranscriptItem_TranscriptItem.__docgenInfo={description:"",displayName:"TranscriptItem",props:{sessionIndex:{defaultValue:null,description:"The session index of the transcript item",name:"sessionIndex",required:!0,type:{name:"number"}},speakerName:{defaultValue:null,description:"The speaker's name",name:"speakerName",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"The transcript item's text",name:"text",required:!0,type:{name:"string"}},startTime:{defaultValue:null,description:"The start time of transcript item",name:"startTime",required:!0,type:{name:"string"}},handleJumpToVideoClip:{defaultValue:null,description:"Callback to handle user clicking `Jump to sentence in video clip`",name:"handleJumpToVideoClip",required:!0,type:{name:"() => void"}},speakerId:{defaultValue:null,description:"The speaker's id",name:"speakerId",required:!1,type:{name:"string"}},speakerPictureSrc:{defaultValue:null,description:"The speaker's picture src",name:"speakerPictureSrc",required:!1,type:{name:"string"}},searchQuery:{defaultValue:null,description:"A search query",name:"searchQuery",required:!1,type:{name:"string"}},handleJumpToTranscript:{defaultValue:null,description:"Callback to handle user clicking `Jump to sentence in transcript`",name:"handleJumpToTranscript",required:!1,type:{name:"(() => void)"}},componentRef:{defaultValue:null,description:"Transcript item React reference",name:"componentRef",required:!1,type:{name:"RefObject<TranscriptItemRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/TranscriptItem/TranscriptItem.tsx#TranscriptItem"]={docgenInfo:TranscriptItem_TranscriptItem.__docgenInfo,name:"TranscriptItem",path:"src/components/Details/TranscriptItem/TranscriptItem.tsx#TranscriptItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Details/TranscriptSearch/TranscriptSearch.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"manySentences",(function(){return manySentences}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),_TranscriptSearch__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Details/TranscriptSearch/TranscriptSearch.tsx"),_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/stories/model-mocks/sentence.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_TranscriptSearch__WEBPACK_IMPORTED_MODULE_5__.a,title:"Library/Details/Transcript Search",decorators:[function(Story){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{style:{height:600},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Story,{})})}]};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_TranscriptSearch__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={searchQuery:"sentence",sentences:Object.assign({},_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_4__.c,{data:Object(_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_6__.a)(1,2)}),jumpToVideoClip:function jumpToVideoClip(sessionIndex,startTime){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("jump to video clip")},jumpToTranscript:function jumpToTranscript(sentenceIndex){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("jump to transcript")}};var manySentences=Template.bind({});manySentences.args={searchQuery:"sentence",sentences:Object.assign({},_containers_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_4__.c,{data:Object(_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_6__.a)(2,100)}),jumpToVideoClip:function jumpToVideoClip(sessionIndex,startTime){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("jump to video clip")},jumpToTranscript:function jumpToTranscript(sentenceIndex){return Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("jump to transcript")}},Default.parameters=Object.assign({storySource:{source:"(args) => <TranscriptSearch {...args} />"}},Default.parameters),manySentences.parameters=Object.assign({storySource:{source:"(args) => <TranscriptSearch {...args} />"}},manySentences.parameters)},"./src/components/Details/TranscriptSearch/TranscriptSearch.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js");var react=__webpack_require__("./node_modules/react/index.js"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),dist_module=__webpack_require__("./node_modules/stemr/dist/module/index.js"),stopword=__webpack_require__("./node_modules/stopword/lib/stopword.js"),LazyFetchDataContainer=__webpack_require__("./src/containers/FetchDataContainer/LazyFetchDataContainer.tsx"),es=__webpack_require__("./node_modules/react-virtualized/dist/es/index.js"),TranscriptItem_TranscriptItem=__webpack_require__("./src/components/Details/TranscriptItem/TranscriptItem.tsx");try{TranscriptItem.displayName="TranscriptItem",TranscriptItem.__docgenInfo={description:"",displayName:"TranscriptItem",props:{sessionIndex:{defaultValue:null,description:"The session index of the transcript item",name:"sessionIndex",required:!0,type:{name:"number"}},speakerName:{defaultValue:null,description:"The speaker's name",name:"speakerName",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"The transcript item's text",name:"text",required:!0,type:{name:"string"}},startTime:{defaultValue:null,description:"The start time of transcript item",name:"startTime",required:!0,type:{name:"string"}},handleJumpToVideoClip:{defaultValue:null,description:"Callback to handle user clicking `Jump to sentence in video clip`",name:"handleJumpToVideoClip",required:!0,type:{name:"() => void"}},speakerId:{defaultValue:null,description:"The speaker's id",name:"speakerId",required:!1,type:{name:"string"}},speakerPictureSrc:{defaultValue:null,description:"The speaker's picture src",name:"speakerPictureSrc",required:!1,type:{name:"string"}},searchQuery:{defaultValue:null,description:"A search query",name:"searchQuery",required:!1,type:{name:"string"}},handleJumpToTranscript:{defaultValue:null,description:"Callback to handle user clicking `Jump to sentence in transcript`",name:"handleJumpToTranscript",required:!1,type:{name:"(() => void)"}},componentRef:{defaultValue:null,description:"Transcript item React reference",name:"componentRef",required:!1,type:{name:"RefObject<TranscriptItemRef>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/TranscriptItem/index.tsx#TranscriptItem"]={docgenInfo:TranscriptItem.__docgenInfo,name:"TranscriptItem",path:"src/components/Details/TranscriptItem/index.tsx#TranscriptItem"})}catch(__react_docgen_typescript_loader_error){}var secondsToHHMMSS=__webpack_require__("./src/utils/secondsToHHMMSS.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TranscriptItems_TranscriptItems=function TranscriptItems(_ref){var searchQuery=_ref.searchQuery,sentences=_ref.sentences,jumpToVideoClip=_ref.jumpToVideoClip,jumpToTranscript=_ref.jumpToTranscript,handleJumpToVideoClip=function handleJumpToVideoClip(sessionIndex,startTime){return function(){return jumpToVideoClip(sessionIndex,startTime)}},handleJumpToTranscript=function handleJumpToTranscript(sentenceIndex){return function(){jumpToTranscript(sentenceIndex)}},cache=new es.c({fixedWidth:!0,defaultHeight:100}),Row=function Row(_ref2){var index=_ref2.index,parent=_ref2.parent,key=_ref2.key,style=_ref2.style;return Object(jsx_runtime.jsx)(es.b,{cache:cache,parent:parent,columnIndex:0,rowIndex:index,children:Object(jsx_runtime.jsx)("div",{style:style,role:"row",children:Object(jsx_runtime.jsx)("div",{style:{margin:"0 0 16px 0"},role:"cell",children:Object(jsx_runtime.jsx)(TranscriptItem_TranscriptItem.a,{sessionIndex:sentences[index].session_index,speakerName:sentences[index].speaker_name,text:sentences[index].text,startTime:Object(secondsToHHMMSS.a)(sentences[index].start_time),handleJumpToVideoClip:handleJumpToVideoClip(sentences[index].session_index,sentences[index].start_time),searchQuery:searchQuery,speakerId:sentences[index].speaker_id,speakerPictureSrc:sentences[index].speaker_pictureSrc,handleJumpToTranscript:handleJumpToTranscript(sentences[index].index)})})})},key)};return Object(jsx_runtime.jsx)(es.a,{onResize:function onResize(){cache.clearAll()},children:function children(_ref3){var width=_ref3.width,height=_ref3.height;return Object(jsx_runtime.jsx)(es.d,{deferredMeasurementCache:cache,height:height,rowCount:sentences.length,rowHeight:cache.rowHeight,rowRenderer:Row,scrollToIndex:0,style:{willChange:""},width:width})}})};TranscriptItems_TranscriptItems.displayName="TranscriptItems";var TranscriptSearch_TranscriptItems=TranscriptItems_TranscriptItems;try{TranscriptItems_TranscriptItems.displayName="TranscriptItems",TranscriptItems_TranscriptItems.__docgenInfo={description:"",displayName:"TranscriptItems",props:{searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"string"}},sentences:{defaultValue:null,description:"",name:"sentences",required:!0,type:{name:"ECSentence[]"}},jumpToVideoClip:{defaultValue:null,description:"",name:"jumpToVideoClip",required:!0,type:{name:"(sessionIndex: number, startTime: number) => void"}},jumpToTranscript:{defaultValue:null,description:"",name:"jumpToTranscript",required:!0,type:{name:"(sentenceIndex: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/TranscriptSearch/TranscriptItems.tsx#TranscriptItems"]={docgenInfo:TranscriptItems_TranscriptItems.__docgenInfo,name:"TranscriptItems",path:"src/components/Details/TranscriptSearch/TranscriptItems.tsx#TranscriptItems"})}catch(__react_docgen_typescript_loader_error){}var _styled$div,LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),fonts=__webpack_require__("./src/styles/fonts.ts"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),cleanText=__webpack_require__("./src/utils/cleanText.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Container=styled_browser_esm.a.div({display:"flex",flexDirection:"column",height:"100%"}),TitleContainer=styled_browser_esm.a.div(((_styled$div={display:"flex",flexDirection:"column",justifyContent:"start",marginBottom:"16px","div:first-of-type":{fontSize:fonts.a.font_size_7,fontWeight:600}})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={flexDirection:"row",justifyContent:"space-between",alignItems:"center"},_styled$div)),TranscriptContainer=styled_browser_esm.a.div((function(props){var _ref;return(_ref={minHeight:props.hasSearchResults?"80vh":0})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={minHeight:props.hasSearchResults?"50vh":0},_ref["@media (min-aspect-ratio:5/4), (min-width:"+mediaBreakpoints.a.desktop+")"]={flex:"1 1 auto",minHeight:0},_ref})),TranscriptSearch_TranscriptSearch=function TranscriptSearch(_ref2){var searchQuery=_ref2.searchQuery,sentences=_ref2.sentences,jumpToVideoClip=_ref2.jumpToVideoClip,jumpToTranscript=_ref2.jumpToTranscript,_useState2=_slicedToArray(Object(react.useState)(searchQuery),2),searchTerm=_useState2[0],setSearchTerm=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(searchQuery),2),searchedTerm=_useState4[0],setSearchedTerm=_useState4[1],stemmedSentences=Object(react.useMemo)((function(){return sentences.data?sentences.data.map((function(_ref3){var text=_ref3.text,cleanedText=Object(cleanText.a)(text),stems=Object(stopword.removeStopwords)(cleanedText.split(" ")).map((function(token){return Object(dist_module.a)(token).toLowerCase()}));return new Set(stems)})):[]}),[sentences.data]),visibleSentences=Object(react.useMemo)((function(){if(sentences.data){if(!searchedTerm.trim())return sentences.data;var cleanedQuery=Object(cleanText.a)(searchedTerm),tokenizedQuery=Object(stopword.removeStopwords)(cleanedQuery.split(" "));if(!cleanedQuery||0===tokenizedQuery.length)return[];var stemmedQuery=tokenizedQuery.map((function(token){return Object(dist_module.a)(token).toLowerCase()}));return sentences.data.filter((function(_,i){return stemmedQuery.some((function(q){return stemmedSentences[i].has(q)}))}))}return[]}),[sentences.data,stemmedSentences,searchedTerm]);return Object(jsx_runtime.jsxs)(Container,{children:[Object(jsx_runtime.jsxs)(TitleContainer,{children:[Object(jsx_runtime.jsx)("div",{children:LocalizedStrings.a.search_transcript}),Object(jsx_runtime.jsx)("div",{children:sentences.data&&LocalizedStrings.a.number_of_results.replace("{number}",""+visibleSentences.length)})]}),Object(jsx_runtime.jsx)("form",{className:"mzp-c-form",role:"search",onSubmit:function onSearch(event){event.preventDefault(),setSearchedTerm(searchTerm)},children:Object(jsx_runtime.jsx)("input",{style:{width:"100%"},type:"search",placeholder:LocalizedStrings.a.search_transcript_placeholder,value:searchTerm,onChange:function onSearchChange(event){setSearchTerm(event.target.value)}})}),Object(jsx_runtime.jsx)(LazyFetchDataContainer.a,{data:"transcript",isLoading:sentences.isLoading,error:sentences.error,notFound:!sentences.data||0===sentences.data.length,children:sentences.data&&Object(jsx_runtime.jsx)(TranscriptContainer,{hasSearchResults:0!==visibleSentences.length,children:Object(jsx_runtime.jsx)(TranscriptSearch_TranscriptItems,{searchQuery:searchedTerm,sentences:visibleSentences,jumpToVideoClip:jumpToVideoClip,jumpToTranscript:jumpToTranscript})})})]})};TranscriptSearch_TranscriptSearch.displayName="TranscriptSearch";__webpack_exports__.a=TranscriptSearch_TranscriptSearch;try{TranscriptSearch_TranscriptSearch.displayName="TranscriptSearch",TranscriptSearch_TranscriptSearch.__docgenInfo={description:"Transcript search. Note: On deskop, the parent of this component should have enough height\nto accomodatea a window view of the list of sentences.",displayName:"TranscriptSearch",props:{searchQuery:{defaultValue:null,description:"The search query",name:"searchQuery",required:!0,type:{name:"string"}},sentences:{defaultValue:null,description:"The sentences of the transcript",name:"sentences",required:!0,type:{name:"FetchDataState<ECSentence[]>"}},jumpToVideoClip:{defaultValue:null,description:"Callback to play video clip",name:"jumpToVideoClip",required:!0,type:{name:"(sessionIndex: number, startTime: number) => void"}},jumpToTranscript:{defaultValue:null,description:"Callback to jump to sentence in the full transcript component",name:"jumpToTranscript",required:!0,type:{name:"(sentenceIndex: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Details/TranscriptSearch/TranscriptSearch.tsx#TranscriptSearch"]={docgenInfo:TranscriptSearch_TranscriptSearch.__docgenInfo,name:"TranscriptSearch",path:"src/components/Details/TranscriptSearch/TranscriptSearch.tsx#TranscriptSearch"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Filters/FilterPopup/FilterPopup.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"selectDateRange",(function(){return selectDateRange})),__webpack_require__.d(__webpack_exports__,"selectSorting",(function(){return selectSorting})),__webpack_require__.d(__webpack_exports__,"selectCommittees",(function(){return selectCommittees}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_networking_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/networking/constants.ts"),_FilterPopup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Filters/FilterPopup/FilterPopup.tsx"),_SelectDateRange__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Filters/SelectDateRange/index.ts"),_SelectSorting__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Filters/SelectSorting/index.ts"),_SelectTextFilterOptions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Filters/SelectTextFilterOptions/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_FilterPopup__WEBPACK_IMPORTED_MODULE_5__.a,title:"Library/Filters/Filter Popup"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_FilterPopup__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},args,{children:args.children}))};Template.displayName="Template";var selectDateRange=Template.bind({});selectDateRange.args={popupIsOpen:!1,closeOnChange:!1,clear:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("clear-filter"),getTextRep:function getTextRep(){return"Date"},isActive:function isActive(){return!0},setPopupIsOpen:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-popup-is-open"),handlePopupClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("handle-popup-close"),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_SelectDateRange__WEBPACK_IMPORTED_MODULE_6__.a,{state:{start:"",end:""},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-date-range-state")})};var selectSorting=Template.bind({});selectSorting.args={popupIsOpen:!1,closeOnChange:!1,clear:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("clear-filter"),getTextRep:function getTextRep(){return"Most relevant"},isActive:function isActive(){return!0},setPopupIsOpen:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-popup-is-open"),handlePopupClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("handle-popup-close"),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_SelectSorting__WEBPACK_IMPORTED_MODULE_7__.a,{state:{by:"value",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.desc,label:"Most relevant"},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-sorting-state"),sortOptions:[{by:"value",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.desc,label:"Most relevant"},{by:"date",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.desc,label:"Newest first"},{by:"date",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.asc,label:"Oldest first"}],onPopupClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("on-popup-close")})};var selectCommittees=Template.bind({});selectCommittees.args={popupIsOpen:!1,closeOnChange:!1,clear:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("clear-filter"),getTextRep:function getTextRep(){return"Committee"},isActive:function isActive(){return!0},setPopupIsOpen:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-popup-is-open"),handlePopupClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("handle-popup-close"),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_SelectTextFilterOptions__WEBPACK_IMPORTED_MODULE_8__.a,{name:"Committee",state:{},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-filter-options-state"),options:[{name:"city-council",label:"City Council",disabled:!1},{name:"council-briefing",label:"Council Briefing",disabled:!1},{name:"finance-housing",label:"Finance and Housing Committee",disabled:!1},{name:"finance-neighborhood",label:"Finance and Neighborhoods Committee",disabled:!1},{name:"select-budget",label:"Select Budget Committee",disabled:!1},{name:"transportation-utilities",label:"Transportation and Utilities Committee",disabled:!1}],optionQuery:"",setOptionQuery:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-option-query")})},selectDateRange.parameters=Object.assign({storySource:{source:"(args) => (\n  <FilterPopup {...args}>{args.children}</FilterPopup>\n)"}},selectDateRange.parameters),selectSorting.parameters=Object.assign({storySource:{source:"(args) => (\n  <FilterPopup {...args}>{args.children}</FilterPopup>\n)"}},selectSorting.parameters),selectCommittees.parameters=Object.assign({storySource:{source:"(args) => (\n  <FilterPopup {...args}>{args.children}</FilterPopup>\n)"}},selectCommittees.parameters)},"./src/components/Filters/FilterPopup/FilterPopup.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash/lodash.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/semantic-ui-react/dist/es/modules/Popup/Popup.js"),_Shared_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Shared/ChevronDownIcon.tsx"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js"),TriggerButton=_emotion_styled__WEBPACK_IMPORTED_MODULE_3__.a.button({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%","& > svg":{marginLeft:24,width:16,height:16}});TriggerButton.displayName="TriggerButton";var StyledPopup=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_3__.a)(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.a)({maxWidth:"100% !important",boxShadow:"none !important",border:"2px solid #9595a2 !important"});StyledPopup.displayName="StyledPopup";var ContentContainer=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_3__.a)(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.a.Content)({flexGrow:1,overflowY:"auto",paddingLeft:"10px",paddingRight:"10px"});ContentContainer.displayName="ContentContainer";var PopupContainer=_emotion_styled__WEBPACK_IMPORTED_MODULE_3__.a.div({maxHeight:"45vh",display:"flex",flexDirection:"column"});PopupContainer.displayName="PopupContainer";var ButtonContainer=_emotion_styled__WEBPACK_IMPORTED_MODULE_3__.a.div({display:"flex",justifyContent:"space-between",padding:".833em 0 0",minWidth:"256px"});ButtonContainer.displayName="ButtonContainer";var FilterPopup=function FilterPopup(_ref){var name=_ref.name,clear=_ref.clear,getTextRep=_ref.getTextRep,isActive=_ref.isActive,popupIsOpen=_ref.popupIsOpen,setPopupIsOpen=_ref.setPopupIsOpen,handlePopupClose=_ref.handlePopupClose,closeOnChange=_ref.closeOnChange,children=_ref.children,hasRequiredError=_ref.hasRequiredError,hasLimitError=_ref.hasLimitError,limit=_ref.limit,mountNodeRef=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),hasError=Object(lodash__WEBPACK_IMPORTED_MODULE_4__.some)([hasRequiredError,hasLimitError]),errors=Object(react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var errors=[];return hasRequiredError&&errors.push("Please select at least one "+name.toLowerCase()+"."),hasLimitError&&errors.push("Please select only "+limit+" or fewer "+name.toLowerCase()+"s."),errors}),[hasRequiredError,hasLimitError,name,limit]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(StyledPopup,{basic:!0,flowing:!0,context:mountNodeRef.current||void 0,on:"click",open:popupIsOpen,onClose:function onClose(){return setPopupIsOpen(!1)},pinned:!0,offset:[0,-5],position:"bottom left",positionFixed:!0,trigger:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(TriggerButton,{className:"mzp-c-button mzp-t-lg mzp-t-neutral",onClick:function togglePopupIsOpen(){setPopupIsOpen((function(prev){return!prev}))},children:[getTextRep(),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Shared_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_6__.a,{})]}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(PopupContainer,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ContentContainer,{children:children}),hasError&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"mzp-c-form-errors",style:{margin:"24px 0"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("ul",{className:"mzp-u-list-styled",children:errors.map((function(error){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("li",{children:error},error)}))})}),!closeOnChange&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(ButtonContainer,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("button",{className:"mzp-c-button mzp-t-md mzp-t-neutral",disabled:!isActive(),onClick:function onClearFilter(){clear()},children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_7__.a.clear}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("button",{className:"mzp-c-button mzp-t-md mzp-t-product",disabled:hasError,onClick:function onPopupClose(){setPopupIsOpen(!1),!hasError&&handlePopupClose&&handlePopupClose()},children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_7__.a.save})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{ref:mountNodeRef})]})};FilterPopup.displayName="FilterPopup",__webpack_exports__.a=FilterPopup;try{TriggerButton.displayName="TriggerButton",TriggerButton.__docgenInfo={description:"Display a button to trigger the opening of filter popup containing filtering React components such as\nSelectDateRange, SelectTextFilterOptions, SelectSorting.",displayName:"TriggerButton",props:{name:{defaultValue:null,description:"The name of the filter.",name:"name",required:!0,type:{name:"string"}},clear:{defaultValue:null,description:"Callback to reset the filter state.",name:"clear",required:!0,type:{name:"() => void"}},getTextRep:{defaultValue:null,description:"Get the text representation of the filter state.",name:"getTextRep",required:!0,type:{name:"() => string"}},isActive:{defaultValue:null,description:"Whether the filter state is active.",name:"isActive",required:!0,type:{name:"() => boolean"}},popupIsOpen:{defaultValue:null,description:"Whether the filter popup is open.",name:"popupIsOpen",required:!0,type:{name:"boolean"}},setPopupIsOpen:{defaultValue:null,description:"React Dispatch callback to update the popupIsOpen state.",name:"setPopupIsOpen",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},handlePopupClose:{defaultValue:null,description:"Callback to handle filter popup closing.",name:"handlePopupClose",required:!1,type:{name:"(() => void)"}},closeOnChange:{defaultValue:null,description:"Whether or not the popup should close when a value is selected.",name:"closeOnChange",required:!0,type:{name:"boolean"}},children:{defaultValue:null,description:"React Child Node. One of the filter components such as SelectDateRange, SelectTextFilterOptions, SelectSorting.",name:"children",required:!1,type:{name:"ReactNode"}},hasRequiredError:{defaultValue:null,description:"At least one option is selected regarding the filter?",name:"hasRequiredError",required:!1,type:{name:"boolean"}},hasLimitError:{defaultValue:null,description:"The number of selected options exceeded the allowed limit of selected options?",name:"hasLimitError",required:!1,type:{name:"boolean"}},limit:{defaultValue:null,description:"The number of allowed selected options.",name:"limit",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/FilterPopup/FilterPopup.tsx#TriggerButton"]={docgenInfo:TriggerButton.__docgenInfo,name:"TriggerButton",path:"src/components/Filters/FilterPopup/FilterPopup.tsx#TriggerButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Filters/SelectDateRange/SelectDateRange.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"selectDateRange",(function(){return selectDateRange}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_SelectDateRange__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Filters/SelectDateRange/SelectDateRange.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_SelectDateRange__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Filters/Select Date Range"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SelectDateRange__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var selectDateRange=Template.bind({});selectDateRange.args={state:{start:"",end:""},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-date-range-state")},selectDateRange.parameters=Object.assign({storySource:{source:"(args) => <SelectDateRange {...args} />"}},selectDateRange.parameters)},"./src/components/Filters/SelectDateRange/SelectDateRange.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react/index.js");var _Shared_Form__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Filters/Shared/Form.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),SelectDateRange=function SelectDateRange(_ref){var state=_ref.state,update=_ref.update,onChange=function onChange(e){var dateInputName=e.currentTarget.name,dateInputValue=e.currentTarget.value;update(dateInputName,dateInputValue)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_Shared_Form__WEBPACK_IMPORTED_MODULE_2__.a,{className:"mzp-c-form",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"mzp-c-field",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-start-date",children:"From"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{className:"mzp-c-field-control",type:"date",name:"start",id:"form-input-control-start-date",value:state.start,onChange:onChange})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"mzp-c-field",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-end-date",children:"To"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{className:"mzp-c-field-control",type:"date",name:"end",id:"form-input-control-end-date",value:state.end,onChange:onChange})]})]})};SelectDateRange.displayName="SelectDateRange",__webpack_exports__.a=SelectDateRange;try{SelectDateRange.displayName="SelectDateRange",SelectDateRange.__docgenInfo={description:"Two input fields to select start and end dates.",displayName:"SelectDateRange",props:{state:{defaultValue:null,description:"The date range state.",name:"state",required:!0,type:{name:"FilterState<string>"}},update:{defaultValue:null,description:"Callback to update the date range state.",name:"update",required:!0,type:{name:"(keyName: string, dataValue: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/SelectDateRange/SelectDateRange.tsx#SelectDateRange"]={docgenInfo:SelectDateRange.__docgenInfo,name:"SelectDateRange",path:"src/components/Filters/SelectDateRange/SelectDateRange.tsx#SelectDateRange"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Filters/SelectDateRange/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return SelectDateRange_getDateText})),__webpack_require__.d(__webpack_exports__,"a",(function(){return SelectDateRange.a}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js");var getTimeZoneName=__webpack_require__("./src/utils/getTimeZoneName.ts"),SelectDateRange_getDateText=function getDateText(language,timeZone){return function(dateRange,defaultText){var timeZoneStartDate=Object(getTimeZoneName.a)(new Date(dateRange.start),timeZone),timeZoneEndDate=Object(getTimeZoneName.a)(new Date(dateRange.end),timeZone),startString=null==timeZoneStartDate?void 0:timeZoneStartDate.toLocaleDateString(language,{timeZone:timeZone,month:"short",day:"numeric",year:timeZoneStartDate.getUTCFullYear()===(null==timeZoneEndDate?void 0:timeZoneEndDate.getUTCFullYear())?void 0:"numeric"}),endString=null==timeZoneEndDate?void 0:timeZoneEndDate.toLocaleDateString(language,{timeZone:timeZone,month:"short",day:"numeric",year:"numeric"});return timeZoneStartDate&&timeZoneEndDate?startString+" - "+endString:timeZoneStartDate?startString+" -":timeZoneEndDate?"- "+endString:defaultText}},SelectDateRange=__webpack_require__("./src/components/Filters/SelectDateRange/SelectDateRange.tsx")},"./src/components/Filters/SelectSorting/SelectSorting.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"selectSorting",(function(){return selectSorting}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_networking_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/networking/constants.ts"),_SelectSorting__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Filters/SelectSorting/SelectSorting.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_SelectSorting__WEBPACK_IMPORTED_MODULE_5__.a,title:"Library/Filters/Select Sorting"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_SelectSorting__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},args))};Template.displayName="Template";var selectSorting=Template.bind({});selectSorting.args={state:{by:"value",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.desc,label:"Most relevant"},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-sorting-state"),sortOptions:[{by:"value",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.desc,label:"Most relevant"},{by:"date",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.desc,label:"Newest first"},{by:"date",order:_networking_constants__WEBPACK_IMPORTED_MODULE_4__.a.asc,label:"Oldest first"}],onPopupClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("on-popup-close")},selectSorting.parameters=Object.assign({storySource:{source:"(args) => <SelectSorting {...args} />"}},selectSorting.parameters)},"./src/components/Filters/SelectSorting/SelectSorting.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/react/index.js");var _Shared_Form__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/Filters/Shared/Form.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SelectSorting=function SelectSorting(_ref){var sortOptions=_ref.sortOptions,state=_ref.state,update=_ref.update,onPopupClose=_ref.onPopupClose,onChange=function onChange(e){var _split2=_slicedToArray(e.currentTarget.value.split("#"),2),by=_split2[0],order=_split2[1];if(update("by",by),update("order",order),e.currentTarget.parentNode){var radioLabel=e.currentTarget.parentNode.textContent;radioLabel&&update("label",radioLabel)}onPopupClose()};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_Shared_Form__WEBPACK_IMPORTED_MODULE_15__.a,{className:"mzp-c-form",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("fieldset",{className:"mzp-c-field-set",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"mzp-c-choices",children:sortOptions.map((function(sortOption){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"mzp-c-choice",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("input",{className:"mzp-c-choice-control",type:"radio",id:"form-checkbox-control-"+sortOption.label,value:sortOption.by+"#"+sortOption.order,checked:state.label===sortOption.label,onChange:onChange}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("label",{className:"mzp-c-choice-label",htmlFor:"form-checkbox-control-"+sortOption.label,children:sortOption.label})]},sortOption.label)}))})})})};SelectSorting.displayName="SelectSorting",__webpack_exports__.a=SelectSorting;try{SelectSorting.displayName="SelectSorting",SelectSorting.__docgenInfo={description:"A list of radio checkboxes to allow for selecting sorting options.",displayName:"SelectSorting",props:{sortOptions:{defaultValue:null,description:"The list of sort options.",name:"sortOptions",required:!0,type:{name:"SortOption[]"}},state:{defaultValue:null,description:"The sorting state.",name:"state",required:!0,type:{name:"FilterState<string>"}},update:{defaultValue:null,description:"Callback to update the sorting state.",name:"update",required:!0,type:{name:"(keyName: string, dataValue: string) => void"}},onPopupClose:{defaultValue:null,description:"Callback to close popup.",name:"onPopupClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/SelectSorting/SelectSorting.tsx#SelectSorting"]={docgenInfo:SelectSorting.__docgenInfo,name:"SelectSorting",path:"src/components/Filters/SelectSorting/SelectSorting.tsx#SelectSorting"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Filters/SelectSorting/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SelectSorting.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SelectSorting_getSortingText}));var SelectSorting=__webpack_require__("./src/components/Filters/SelectSorting/SelectSorting.tsx"),SelectSorting_getSortingText=function getSortingText(sort,defaultText){var textRep=defaultText;return sort.by&&sort.order&&sort.label&&(textRep=sort.label),textRep}},"./src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"withOptionQuery",(function(){return withOptionQuery})),__webpack_require__.d(__webpack_exports__,"withoutOptionQuery",(function(){return withoutOptionQuery})),__webpack_require__.d(__webpack_exports__,"withDisabledOptions",(function(){return withDisabledOptions}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_SelectTextFilterOptions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_SelectTextFilterOptions__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Filters/Select Text Filter Options"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SelectTextFilterOptions__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var withOptionQuery=Template.bind({});withOptionQuery.args={name:"Committee",state:{},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-filter-options-state"),options:[{name:"city-council",label:"City Council",disabled:!1},{name:"council-briefing",label:"Council Briefing",disabled:!1},{name:"finance-housing",label:"Finance and Housing Committee",disabled:!1},{name:"finance-neighborhood",label:"Finance and Neighborhoods Committee",disabled:!1},{name:"select-budget",label:"Select Budget Committee",disabled:!1},{name:"transportation-utilities",label:"Transportation and Utilities Committee",disabled:!1}],optionQuery:"",setOptionQuery:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-option-query")};var withoutOptionQuery=Template.bind({});withoutOptionQuery.args={name:"Committee",state:{},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-filter-options-state"),options:[{name:"city-council",label:"City Council",disabled:!1},{name:"council-briefing",label:"Council Briefing",disabled:!1},{name:"finance-housing",label:"Finance and Housing Committee",disabled:!1},{name:"finance-neighborhood",label:"Finance and Neighborhoods Committee",disabled:!1}],optionQuery:"",setOptionQuery:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-option-query")};var withDisabledOptions=Template.bind({});withDisabledOptions.args={name:"Committee",state:{},update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("update-filter-options-state"),options:[{name:"city-council",label:"City Council",disabled:!1},{name:"council-briefing",label:"Council Briefing",disabled:!1},{name:"finance-housing",label:"Finance and Housing Committee",disabled:!1},{name:"finance-neighborhood",label:"Finance and Neighborhoods Committee",disabled:!1},{name:"select-budget",label:"Select Budget Committee",disabled:!1},{name:"transportation-utilities",label:"Transportation and Utilities Committee",disabled:!1}],optionQuery:"city",setOptionQuery:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("set-option-query")},withOptionQuery.parameters=Object.assign({storySource:{source:"(args) => (\n  <SelectTextFilterOptions {...args} />\n)"}},withOptionQuery.parameters),withoutOptionQuery.parameters=Object.assign({storySource:{source:"(args) => (\n  <SelectTextFilterOptions {...args} />\n)"}},withoutOptionQuery.parameters),withDisabledOptions.parameters=Object.assign({storySource:{source:"(args) => (\n  <SelectTextFilterOptions {...args} />\n)"}},withDisabledOptions.parameters)},"./src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js");var react=__webpack_require__("./node_modules/react/index.js"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),Form=__webpack_require__("./src/components/Filters/Shared/Form.tsx"),utils_isSubstring=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.index-of.js"),function isSubstring(string,substring){return-1!==string.toLowerCase().indexOf(substring.toLowerCase())}),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CheckboxLabel=styled_browser_esm.a.label({"&::after":{boxSizing:"unset"}}),SelectTextFilterOptions_SelectTextFilterOptions=function SelectTextFilterOptions(_ref){var name=_ref.name,state=_ref.state,update=_ref.update,options=_ref.options,optionQuery=_ref.optionQuery,setOptionQuery=_ref.setOptionQuery,onChange=function onChange(e){var filterOptionName=e.currentTarget.name,isFilterOptionChecked=e.currentTarget.checked;update(filterOptionName,isFilterOptionChecked)},optionsInOrder=Object(react.useMemo)((function(){var optionsInOrder=_toConsumableArray(options);if(options.length>5&&setOptionQuery){var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(options);try{for(_iterator.s();!(_step=_iterator.n()).done;){var option=_step.value;option.disabled=!utils_isSubstring(option.label,optionQuery||"")}}catch(err){_iterator.e(err)}finally{_iterator.f()}optionsInOrder=[].concat(_toConsumableArray(options.filter((function(option){return!option.disabled}))),_toConsumableArray(options.filter((function(option){return option.disabled}))))}return optionsInOrder}),[options,optionQuery,setOptionQuery]);return Object(jsx_runtime.jsxs)(Form.a,{className:"mzp-c-form",children:[options.length>5&&setOptionQuery&&Object(jsx_runtime.jsxs)("div",{className:"mzp-c-field mzp-l-stretch",children:[Object(jsx_runtime.jsx)("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-search-filter",children:"Search "+name+" Options"}),Object(jsx_runtime.jsx)("input",{className:"mzp-c-field-control",type:"text",id:"form-input-control-search-filter",value:optionQuery,onChange:function onOptionQueryChange(e){var currentValue=e.currentTarget.value;setOptionQuery&&setOptionQuery(currentValue)}})]}),Object(jsx_runtime.jsx)("fieldset",{className:"mzp-c-field-set",children:Object(jsx_runtime.jsx)("div",{className:"mzp-c-choices",children:optionsInOrder.map((function(option){return Object(jsx_runtime.jsxs)("div",{className:"mzp-c-choice",children:[Object(jsx_runtime.jsx)("input",{className:"mzp-c-choice-control",type:"checkbox",name:option.name,id:"form-checkbox-control-"+option.name,checked:state[option.name]||!1,disabled:option.disabled,onChange:onChange}),Object(jsx_runtime.jsx)(CheckboxLabel,{className:"mzp-c-choice-label",htmlFor:"form-checkbox-control-"+option.name,children:option.label})]},option.name)}))})})]})};SelectTextFilterOptions_SelectTextFilterOptions.displayName="SelectTextFilterOptions";__webpack_exports__.a=SelectTextFilterOptions_SelectTextFilterOptions;try{SelectTextFilterOptions_SelectTextFilterOptions.displayName="SelectTextFilterOptions",SelectTextFilterOptions_SelectTextFilterOptions.__docgenInfo={description:"",displayName:"SelectTextFilterOptions",props:{name:{defaultValue:null,description:"The name of the filter state. E.g. `Committee` is the name of filtering by Council Committee names.",name:"name",required:!0,type:{name:"string"}},state:{defaultValue:null,description:"The filter state. The string `keyName` of filter state object is the filter option.\nThe boolean `dataValue` is whether the filter option is selected",name:"state",required:!0,type:{name:"FilterState<boolean>"}},update:{defaultValue:null,description:"Callback to update the filter state.",name:"update",required:!0,type:{name:"(keyName: string, dataValue: boolean) => void"}},options:{defaultValue:null,description:"The list of filter options. E.g. Filtering by Council Committee names has a list of committees.",name:"options",required:!0,type:{name:"FilterOption[]"}},optionQuery:{defaultValue:null,description:"The search string state to narrow the list of filter options.",name:"optionQuery",required:!1,type:{name:"string"}},setOptionQuery:{defaultValue:null,description:"React Dispatch callback to update the search string state.",name:"setOptionQuery",required:!1,type:{name:"Dispatch<string>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.tsx#SelectTextFilterOptions"]={docgenInfo:SelectTextFilterOptions_SelectTextFilterOptions.__docgenInfo,name:"SelectTextFilterOptions",path:"src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.tsx#SelectTextFilterOptions"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Filters/SelectTextFilterOptions/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return SelectTextFilterOptions_getCheckboxText})),__webpack_require__.d(__webpack_exports__,"c",(function(){return SelectTextFilterOptions_getSelectedOptions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return SelectTextFilterOptions.a}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.values.js");var SelectTextFilterOptions_getCheckboxText=function getCheckboxText(checkboxes,defaultText){var numberOfSelectedCheckbox=Object.values(checkboxes).filter((function(dataValue){return dataValue})).length;return numberOfSelectedCheckbox?defaultText+" : "+numberOfSelectedCheckbox:defaultText},SelectTextFilterOptions_getSelectedOptions=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),function getSelectedOptions(checkboxes){return Object.keys(checkboxes).filter((function(k){return!0===checkboxes[k]}))}),SelectTextFilterOptions=__webpack_require__("./src/components/Filters/SelectTextFilterOptions/SelectTextFilterOptions.tsx")},"./src/components/Filters/Shared/Form.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js");__webpack_exports__.a=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.a.form({marginBottom:0,"& .mzp-c-field-set":{padding:0},"& .mzp-c-choices":{paddingBottom:0}});try{Form.displayName="Form",Form.__docgenInfo={description:"",displayName:"Form",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/Shared/Form.tsx#Form"]={docgenInfo:Form.__docgenInfo,name:"Form",path:"src/components/Filters/Shared/Form.tsx#Form"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Filters/useFilter.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),reducer=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),function createFilterReducer(){return function(state,action){var _Object$assign;switch(action.type){case"FILTER_UPDATE":return Object.assign({},state,((_Object$assign={})[action.payload.keyName]=action.payload.dataValue,_Object$assign));case"FILTER_CLEAR":var newState=Object.assign({},state);return Object.keys(newState).forEach((function(keyName){return newState[keyName]=action.payload.dataValue})),newState;default:return state}}}),SelectTextFilterOptions=__webpack_require__("./src/components/Filters/SelectTextFilterOptions/index.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.a=function useFilter(arg){var name=arg.name,initialState=arg.initialState,defaultDataValue=arg.defaultDataValue,textRepFunction=arg.textRepFunction,isRequired=arg.isRequired,limit=arg.limit,filterReducer=reducer(),_useReducer2=_slicedToArray(Object(react.useReducer)(filterReducer,initialState),2),state=_useReducer2[0],dispatch=_useReducer2[1],_useState2=_slicedToArray(Object(react.useState)(!1),2),popupIsOpen=_useState2[0],setPopupIsOpen=_useState2[1],isActive=function isActive(){return Object.values(state).some((function(dataValue){return dataValue!==defaultDataValue}))};return{name:name,state:state,clear:function clear(){dispatch({type:"FILTER_CLEAR",payload:{dataValue:defaultDataValue}})},update:function update(keyName,dataValue){dispatch({type:"FILTER_UPDATE",payload:{keyName:keyName,dataValue:dataValue}})},popupIsOpen:popupIsOpen,setPopupIsOpen:setPopupIsOpen,getTextRep:function getTextRep(){return textRepFunction(state,name)},isActive:isActive,isSameState:function isSameState(otherState){if(!Object.entries(otherState).length)return!isActive();for(var _i2=0,_keyNames=Object.keys(state);_i2<_keyNames.length;_i2++){var _keyName=_keyNames[_i2];if(state[_keyName]&&!otherState.hasOwnProperty(_keyName))return!1;if(state[_keyName]!==otherState[_keyName]&&otherState.hasOwnProperty(_keyName))return!1}return!0},hasRequiredError:function hasRequiredError(){return!!isRequired&&!isActive()},hasLimitError:function hasLimitError(){return void 0!==limit&&Object(SelectTextFilterOptions.c)(state).length>limit},limit:limit}}},"./src/components/Layout/Footer/Footer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"footer",(function(){return footer}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Footer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Layout/Footer/Footer.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_Footer__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Layout/Footer"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Footer__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var footer=Template.bind({});footer.args={footerLinksSections:[{links:[{label:"First",url:"http://google.com"},{label:"Second",url:"http://google.com"}],footerLinksSectionName:"First Section"}]},footer.parameters=Object.assign({storySource:{source:"(args) => <Footer {...args} />"}},footer.parameters)},"./src/components/Layout/Footer/Footer.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/react/index.js");var _assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function renderFooterLinksSection(footerLinksSection){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("section",{className:"mzp-c-footer-section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h5",{className:"mzp-c-footer-heading",children:footerLinksSection.footerLinksSectionName}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("ul",{children:footerLinksSection.links.map((function(link){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{href:link.url,children:link.label})},link.label)}))})]})}renderFooterLinksSection.displayName="renderFooterLinksSection";var Footer=function Footer(_ref){var footerLinksSections=_ref.footerLinksSections;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("footer",{className:"mzp-c-footer",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"mzp-l-content",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("nav",{className:"mzp-c-footer-primary","aria-label":"footer",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"mzp-c-footer-sections",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("section",{className:"mzp-c-footer-section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h5",{className:"mzp-c-footer-heading",children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.about}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("ul",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{href:"https://councildataproject.github.io/",children:"CouncilDataProject"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{href:"https://github.com/CouncilDataProject",children:"GitHub"})})]})]}),footerLinksSections.map((function(footerLinksSection){return renderFooterLinksSection(footerLinksSection)}))]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("nav",{className:"mzp-c-footer-secondary",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"mzp-c-footer-legal mzp-c-footer-license",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("p",{children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.copyright_notice.replace("{date_range}","2017-2021")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("p",{children:[_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.content_license_prefix,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{rel:"noopener noreferrer license external",href:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.content_license_link,target:"_blank",children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.content_license_link_text}),".",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("br",{}),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.tools_license_prefix,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{rel:"noopener noreferrer license external",href:"https://github.com/CouncilDataProject/cookiecutter-cdp-deployment/blob/main/LICENSE",target:"_blank",children:"MIT License"}),"."]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("p",{children:[_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.styled_using_prefix,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{rel:"noopener noreferrer external",href:"https://protocol.mozilla.org/",target:"_blank",children:"Mozilla Protocol"}),".",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("br",{}),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_4__.a.artwork_provided_by_prefix,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{rel:"noopener noreferrer external",href:"https://undraw.co/",target:"_blank",children:"unDraw"}),"."]})]})})]})})};Footer.displayName="Footer",__webpack_exports__.a=Footer;try{Footer.displayName="Footer",Footer.__docgenInfo={description:"",displayName:"Footer",props:{footerLinksSections:{defaultValue:null,description:"Array of footer columns, each with a name to be displayed at \nthe top of the column, and an array of links to be displayed \nbelow the name",name:"footerLinksSections",required:!0,type:{name:"FooterLinksSection[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/Footer/Footer.tsx#Footer"]={docgenInfo:Footer.__docgenInfo,name:"Footer",path:"src/components/Layout/Footer/Footer.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Layout/Header/Header.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"header",(function(){return header}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _Header__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Layout/Header/Header.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_Header__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Layout/Header"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Header__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var header=Template.bind({});header.args={municipalityName:"Test deployment"},header.parameters=Object.assign({storySource:{source:"(args) => <Header {...args} />"}},header.parameters)},"./src/components/Layout/Header/Header.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var _styled$button,react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/styles/mediaBreakpoints.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Navigation=_emotion_styled__WEBPACK_IMPORTED_MODULE_16__.a.div({boxSizing:"initial"}),CDPLogo=_emotion_styled__WEBPACK_IMPORTED_MODULE_16__.a.div({float:"left",marginTop:"12px"}),HamburgerMenuButton=_emotion_styled__WEBPACK_IMPORTED_MODULE_16__.a.button(((_styled$button={display:"block"})["@media (min-width:"+_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_18__.a.tablet+")"]={display:"none"},_styled$button)),NavItems=_emotion_styled__WEBPACK_IMPORTED_MODULE_16__.a.div((function(props){var _ref;return(_ref={display:props.isVisible?"block":"none"})["@media (min-width:"+_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_18__.a.tablet+")"]={display:"block"},_ref}));function currentUnderline(currentPath,componentPath){var currUnderline={textDecoration:"underline"};return currentPath===componentPath||componentPath.length>1&&currentPath.includes(componentPath)?currUnderline:{}}var Header=function Header(_ref2){var municipalityName=_ref2.municipalityName,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(!1),2),navigationIsVisible=_useState2[0],setNavigationIsVisible=_useState2[1],location=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.h)().pathname;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("header",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(Navigation,{className:"mzp-c-navigation",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{className:"mzp-c-navigation-l-content",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{className:"mzp-c-navigation-container",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(HamburgerMenuButton,{className:"mzp-c-navigation-menu-button","aria-controls":"patterns.organisms.navigation.navigation",onClick:function onClick(){return setNavigationIsVisible((function(prev){return!prev}))},children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_17__.a.menu}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(CDPLogo,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("a",{className:"cdp-icon-black-bg-transparent-size-256",style:{maxHeight:"64px",maxWidth:"64px"},href:"https://councildataproject.org",title:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_17__.a.council_data_project,children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_17__.a.council_data_project})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(NavItems,{isVisible:navigationIsVisible,className:"mzp-c-navigation-items",id:"patterns.organisms.navigation.navigation",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{className:"mzp-c-navigation-container",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("nav",{className:"mzp-c-menu mzp-is-basic",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("ul",{className:"mzp-c-menu-category-list",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{className:"mzp-c-menu-category",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.b,{to:"/",className:"mzp-c-menu-title",style:currentUnderline(location,"/"),children:municipalityName})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{className:"mzp-c-menu-category",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.b,{to:"/events",className:"mzp-c-menu-title",style:currentUnderline(location,"/events"),children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_17__.a.events})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{className:"mzp-c-menu-category",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.b,{to:"/people",className:"mzp-c-menu-title",style:currentUnderline(location,"/people"),children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_17__.a.people})})]})})})})]})})})})};Header.displayName="Header",__webpack_exports__.a=Header;try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{municipalityName:{defaultValue:null,description:"The name of the municipality",name:"municipalityName",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/Header/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/Layout/Header/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Layout/HomeSearchBar/HomeSearchBar.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"homeSearchBar",(function(){return homeSearchBar}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _HomeSearchBar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Layout/HomeSearchBar/HomeSearchBar.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_HomeSearchBar__WEBPACK_IMPORTED_MODULE_3__.a,title:"Library/Layout/Home Search Bar"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_HomeSearchBar__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var homeSearchBar=Template.bind({});homeSearchBar.parameters=Object.assign({storySource:{source:"(args) => <HomeSearchBar {...args} />"}},homeSearchBar.parameters)},"./src/components/Layout/HomeSearchBar/HomeSearchBar.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.search.js");var _templateObject,_templateObject2,_templateObject3,_intialSearchTyperFil,react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_pages_SearchPage_types__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/pages/SearchPage/types.ts"),_Filters_useFilter__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/components/Filters/useFilter.ts"),_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/styles/mediaBreakpoints.ts"),_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/assets/LocalizedStrings.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var EXAMPLE_TOPICS=["minimum wage","police budget","rent control","municipal broadband","police accountability","homelessness response","municipal broadband, digital equity","sodo stadium","35 ave bike lane","capitol hill megablock"],SearchContainer=_emotion_styled__WEBPACK_IMPORTED_MODULE_22__.a.div(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n  ","\n  @media (min-width: ",") {\n    /**Two columns template, with the first column taking up any free space*/\n    grid-template-columns: 1fr auto;\n  }\n"])),"\n  display: grid;\n  column-gap: 8px;\n  row-gap: 4px;\n  /**One column template*/\n  grid-template-columns: 1fr;\n  justify-content: start;\n",_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_25__.a.tablet),SearchInput=_emotion_styled__WEBPACK_IMPORTED_MODULE_22__.a.input(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n  margin-bottom: 0px !important;\n"]))),SearchExampleTopic=_emotion_styled__WEBPACK_IMPORTED_MODULE_22__.a.p(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n  padding-top: 0px !important;\n  font-size: 0.775rem !important;\n  @media (min-width: ",") {\n    /**Make the example topic appear after the search button*/\n    order: 1;\n  }\n"])),_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_25__.a.tablet),searchTypeOptions=[{name:_pages_SearchPage_types__WEBPACK_IMPORTED_MODULE_23__.a.EVENT,label:"Events",disabled:!1},{name:_pages_SearchPage_types__WEBPACK_IMPORTED_MODULE_23__.a.LEGISLATION,label:"Legislations",disabled:!1}],intialSearchTyperFilterState=((_intialSearchTyperFil={})[_pages_SearchPage_types__WEBPACK_IMPORTED_MODULE_23__.a.EVENT]=!0,_intialSearchTyperFil[_pages_SearchPage_types__WEBPACK_IMPORTED_MODULE_23__.a.LEGISLATION]=!0,_intialSearchTyperFil),getSearchTypeText=function getSearchTypeText(checkboxes,defaultText){var selectedCheckboxes=Object.keys(checkboxes).filter((function(key){return checkboxes[key]})),textRep=defaultText;if(selectedCheckboxes.length===Object.keys(checkboxes).length)textRep+="(s): All";else if(selectedCheckboxes.length>0){textRep+="(s): "+selectedCheckboxes.map((function(name){var _option$label,option=searchTypeOptions.find((function(option){return option.name===name}));return null!==(_option$label=null==option?void 0:option.label)&&void 0!==_option$label?_option$label:""})).join(", ")}return textRep},exampleSearchQuery=EXAMPLE_TOPICS[Math.floor(Math.random()*EXAMPLE_TOPICS.length)],HomeSearchBar=function HomeSearchBar(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_20__.useState)(""),2),searchQuery=_useState2[0],setSearchQuery=_useState2[1],history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_21__.g)(),searchTypeFilter=Object(_Filters_useFilter__WEBPACK_IMPORTED_MODULE_24__.a)({name:"Search Type",initialState:intialSearchTyperFilterState,defaultDataValue:!1,textRepFunction:getSearchTypeText,isRequired:!0});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("form",{className:"mzp-c-form",role:"search",onSubmit:function onSearch(event){event.preventDefault();var queryParams="?q="+searchQuery.trim().replace(/\s+/g,"+");history.push({pathname:"/"+_pages_SearchPage_types__WEBPACK_IMPORTED_MODULE_23__.a.EVENT+"/search",search:queryParams,state:{query:searchQuery.trim(),committees:{},dateRange:{}}})},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(SearchContainer,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(SearchInput,{type:"search",placeholder:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_26__.a.search_topic_placeholder,required:!0,"aria-required":!0,disabled:!searchTypeFilter.isActive(),value:searchQuery,onChange:function onSearchChange(event){return setSearchQuery(event.target.value)}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(SearchExampleTopic,{className:"mzp-c-field-info",children:[_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_26__.a.example_prefix,exampleSearchQuery]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("button",{className:"mzp-c-button mzp-t-product",type:"submit",disabled:!searchTypeFilter.isActive(),children:_assets_LocalizedStrings__WEBPACK_IMPORTED_MODULE_26__.a.search})]})})})};HomeSearchBar.displayName="HomeSearchBar",__webpack_exports__.a=HomeSearchBar;try{HomeSearchBar.displayName="HomeSearchBar",HomeSearchBar.__docgenInfo={description:"",displayName:"HomeSearchBar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/HomeSearchBar/HomeSearchBar.tsx#HomeSearchBar"]={docgenInfo:HomeSearchBar.__docgenInfo,name:"HomeSearchBar",path:"src/components/Layout/HomeSearchBar/HomeSearchBar.tsx#HomeSearchBar"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Layout/LocalizationWidget/LocalizationWidget.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"localizationWidget",(function(){return localizationWidget}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var LanguageConfigContext=__webpack_require__("./src/app/LanguageConfigContext.tsx"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),ProjectConstants=__webpack_require__("./src/constants/ProjectConstants.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");var LocalizationWidget=function DropdownExampleSearchDropdown(){var _useLanguageConfigCon=Object(LanguageConfigContext.b)(),language=_useLanguageConfigCon.language,setLanguage=_useLanguageConfigCon.setLanguage;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("label",{htmlFor:"language",children:LocalizedStrings.a.select_language}),Object(jsx_runtime.jsx)("select",{id:"language",name:"language",value:language,onChange:function onSelect(e){console.log("Language changed to "+e.target.value),LocalizedStrings.a.setLanguage(e.target.value),setLanguage(e.target.value)},children:ProjectConstants.c.map((function(supportedLanguage){return Object(jsx_runtime.jsx)("option",{value:supportedLanguage,children:LocalizedStrings.a[supportedLanguage]},supportedLanguage)}))})]})},LocalizationWidget_stories_Template=(__webpack_exports__.default={component:LocalizationWidget,title:"Library/Layout/Localization Widget"},function Template(args){return Object(jsx_runtime.jsx)(LocalizationWidget,Object.assign({},args))});LocalizationWidget_stories_Template.displayName="Template";var localizationWidget=LocalizationWidget_stories_Template.bind({});localizationWidget.parameters=Object.assign({storySource:{source:"(args) => <LocalizationWidget {...args} />"}},localizationWidget.parameters)},"./src/components/Layout/TabbedContainer/TabbedContainer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"tabbedContainer",(function(){return tabbedContainer}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),styled_browser_esm=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js")),StyleConstants=__webpack_require__("./src/constants/StyleConstants.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TabView=styled_browser_esm.a.div({display:"flex",justifyContent:"center",alignItems:"center",flex:1,flexDirection:"row",padding:8,cursor:"pointer"}),Tab_Tab=function Tab(_ref){var isActive=_ref.isActive,index=_ref.index,setActive=_ref.setActive,children=_ref.children,borderBottom=isActive?"4px solid "+StyleConstants.a.COLORS.ACTIVE_UNDERLINE:"white";return Object(jsx_runtime.jsx)(TabView,{style:{borderBottom:borderBottom},onClick:function onClick(){setActive(index)},children:children},"tabHeader-"+index)};Tab_Tab.displayName="Tab";try{Tab_Tab.displayName="Tab",Tab_Tab.__docgenInfo={description:"",displayName:"Tab",props:{setActive:{defaultValue:null,description:"when the user clicks this tab, this function executes",name:"setActive",required:!0,type:{name:"(index: number) => void"}},isActive:{defaultValue:null,description:"whether or not this tab is selected",name:"isActive",required:!0,type:{name:"boolean"}},index:{defaultValue:null,description:"the index of the tab",name:"index",required:!0,type:{name:"number"}},children:{defaultValue:null,description:"the component to display as tab labels.\nthis can be a simple string or be an enclosed combination, e.g. an icon and string.",name:"children",required:!1,type:{name:"(Element & (boolean | ReactChild | ReactFragment | ReactPortal | null))"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/TabbedContainer/Tab.tsx#Tab"]={docgenInfo:Tab_Tab.__docgenInfo,name:"Tab",path:"src/components/Layout/TabbedContainer/Tab.tsx#Tab"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TabHeaderContainer=styled_browser_esm.a.div({display:"flex",flexDirection:"row",flex:1}),TabbedContainer_TabbedContainer=function TabbedContainer(_ref){var tabLabels=_ref.tabLabels,children=_ref.children,_useState2=_slicedToArray(Object(react.useState)(0),2),activeTab=_useState2[0],setActiveTab=_useState2[1];function tabTapped(index){setActiveTab(index)}return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)(TabHeaderContainer,{children:tabLabels.map((function(tabLabel,index){return Object(jsx_runtime.jsx)(Tab_Tab,{isActive:index===activeTab,index:index,setActive:tabTapped,children:tabLabel},"navTab-"+index)}))}),null==children?void 0:children.filter((function(childComponent,childIndex){return activeTab===childIndex}))]})};TabbedContainer_TabbedContainer.displayName="TabbedContainer";try{TabbedContainer_TabbedContainer.displayName="TabbedContainer",TabbedContainer_TabbedContainer.__docgenInfo={description:"",displayName:"TabbedContainer",props:{tabLabels:{defaultValue:null,description:"the components you want as the labels for the tabs.\nCan be a string, or combination of icon/styled string",name:"tabLabels",required:!0,type:{name:"Element[]"}},children:{defaultValue:null,description:"the components to display as the pages.\nthis should match the number of labels provided.",name:"children",required:!1,type:{name:"(Element[] & (boolean | ReactChild | ReactFragment | ReactPortal | null))"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Layout/TabbedContainer/TabbedContainer.tsx#TabbedContainer"]={docgenInfo:TabbedContainer_TabbedContainer.__docgenInfo,name:"TabbedContainer",path:"src/components/Layout/TabbedContainer/TabbedContainer.tsx#TabbedContainer"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={component:TabbedContainer_TabbedContainer,title:"Library/Layout/Tabbed Container"};var TabbedContainer_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(TabbedContainer_TabbedContainer,Object.assign({},args))};TabbedContainer_stories_Template.displayName="Template";var tabbedContainer=TabbedContainer_stories_Template.bind({});tabbedContainer.args={tabLabels:["Minutes and Documents","Full Transcript","Votes"],children:[Object(jsx_runtime.jsx)("p",{children:"Contents of Page 1"},1),Object(jsx_runtime.jsx)("p",{children:"Contents of Page 2"},2),Object(jsx_runtime.jsx)("p",{children:"Contents of Page 3"},3)]},tabbedContainer.parameters=Object.assign({storySource:{source:"(args) => <TabbedContainer {...args} />"}},tabbedContainer.parameters)},"./src/components/Shared/AbsoluteBox.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js");__webpack_exports__.a=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.a.div({position:"absolute",height:"100%",width:"100%"});try{AbsoluteBox.displayName="AbsoluteBox",AbsoluteBox.__docgenInfo={description:"A utility component to create space in the media section of a Mozilla Protocol card.\n`mzp-c-card-media-wrapper` creates space with `padding`, but doesn't have any height` and `width`.\nThis utility component provides real `height` and `width` needed by `PlaceholderWrapper`.",displayName:"AbsoluteBox",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/AbsoluteBox.tsx#AbsoluteBox"]={docgenInfo:AbsoluteBox.__docgenInfo,name:"AbsoluteBox",path:"src/components/Shared/AbsoluteBox.tsx#AbsoluteBox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/ChevronDownIcon.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),ChevronDownIcon=function ChevronDownIcon(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})};ChevronDownIcon.displayName="ChevronDownIcon",__webpack_exports__.a=ChevronDownIcon},"./src/components/Shared/DecisionResult.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/react/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AdoptedIcon_AdoptedIcon=function AdoptedIcon(){return Object(jsx_runtime.jsx)("svg",{className:"cdp-acceptance-green",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})};AdoptedIcon_AdoptedIcon.displayName="AdoptedIcon";var Shared_AdoptedIcon=AdoptedIcon_AdoptedIcon,RejectedIcon_RejectedIcon=function RejectedIcon(){return Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"cdp-rejected-red",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})};RejectedIcon_RejectedIcon.displayName="RejectedIcon";var Shared_RejectedIcon=RejectedIcon_RejectedIcon,InProgressIcon_InProgressIcon=function InProgressIcon(){return Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"cdp-in-progress_orange",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};InProgressIcon_InProgressIcon.displayName="InProgressIcon";var Shared_InProgressIcon=InProgressIcon_InProgressIcon,AbstainIcon_AbstainIcon=function AbstainIcon(){return Object(jsx_runtime.jsx)("svg",{className:"cdp-light-purple",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("g",{id:"Group 1",children:Object(jsx_runtime.jsxs)("g",{id:"Frame 1",children:[Object(jsx_runtime.jsx)("circle",{id:"Ellipse 1",cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2"}),Object(jsx_runtime.jsx)("circle",{id:"Ellipse 2",cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),Object(jsx_runtime.jsx)("path",{id:"Line 1",d:"M8.00001 16L16 7.99998",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})})};AbstainIcon_AbstainIcon.displayName="AbstainIcon";var Shared_AbstainIcon=AbstainIcon_AbstainIcon,react_responsive=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),constants=__webpack_require__("./src/models/constants.ts"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),DecisionResult_DecisionResult=function DecisionResult(_ref){var result=_ref.result,style=_ref.style,statusIcon=Object(jsx_runtime.jsx)("div",{});switch(result){case constants.a.PASSED:case constants.b.ADOPTED:case constants.d.ABSENT_APPROVE:case constants.d.ABSTAIN_APPROVE:case constants.d.APPROVE:statusIcon=Object(jsx_runtime.jsx)(Shared_AdoptedIcon,{});break;case constants.a.FAILED:case constants.b.REJECTED:case constants.d.ABSENT_REJECT:case constants.d.ABSTAIN_REJECT:case constants.d.REJECT:statusIcon=Object(jsx_runtime.jsx)(Shared_RejectedIcon,{});break;case constants.d.ABSENT_NON_VOTING:case constants.d.ABSTAIN_NON_VOTING:statusIcon=Object(jsx_runtime.jsx)(Shared_AbstainIcon,{});break;case constants.b.IN_PROGRESS:statusIcon=Object(jsx_runtime.jsx)(Shared_InProgressIcon,{})}var isMobile=Object(react_responsive.useMediaQuery)({query:"(max-width: "+mediaBreakpoints.a.tablet+")"}),decision=LocalizedStrings.a[result.toLowerCase().replace(/[()]/g,"").replace(/[ -]/g,"_")];return style||(style={display:"flex",flex:1,alignItems:"center"}),isMobile?Object(jsx_runtime.jsx)("div",{style:{height:24,width:24},children:statusIcon}):Object(jsx_runtime.jsxs)("div",{style:style,children:[Object(jsx_runtime.jsx)("div",{style:{height:24,width:24},children:statusIcon}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",style:{marginLeft:8},children:decision})})]})};DecisionResult_DecisionResult.displayName="DecisionResult",DecisionResult_DecisionResult.defaultProps={result:constants.b.IN_PROGRESS};__webpack_exports__.a=DecisionResult_DecisionResult;try{DecisionResult_DecisionResult.displayName="DecisionResult",DecisionResult_DecisionResult.__docgenInfo={description:"",displayName:"DecisionResult",props:{result:{defaultValue:{value:"MATTER_STATUS_DECISION.IN_PROGRESS"},description:"Result of the vote or council decision.  This is an enum value, you can see the enumeration in ProjectConstants",name:"result",required:!1,type:{name:"enum",value:[{value:'"Adopted"'},{value:'"In Progress"'},{value:'"Rejected"'},{value:'"Abstain (Approve)"'},{value:'"Abstain (Non-Voting)"'},{value:'"Abstain (Reject)"'},{value:'"Absent (Approve)"'},{value:'"Absent (Non-Voting)"'},{value:'"Absent (Reject)"'},{value:'"Approve"'},{value:'"Reject"'},{value:'"Failed"'},{value:'"Passed"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/DecisionResult.tsx#DecisionResult"]={docgenInfo:DecisionResult_DecisionResult.__docgenInfo,name:"DecisionResult",path:"src/components/Shared/DecisionResult.tsx#DecisionResult"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/Details.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_styles_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styles/colors.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Summary=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.a.summary((function(props){return{"&::before":{content:"none"},cursor:"pointer",paddingRight:0,paddingBottom:props.hasBorderBottom?8:0,borderBottom:props.hasBorderBottom?"1px solid "+_styles_colors__WEBPACK_IMPORTED_MODULE_2__.a.grey:0}})),Details=function Details(_ref){var summaryContent=_ref.summaryContent,hiddenContent=_ref.hiddenContent,defaultOpen=_ref.defaultOpen,hasBorderBottom=_ref.hasBorderBottom;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("details",{open:defaultOpen,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Summary,{hasBorderBottom:hasBorderBottom,children:summaryContent}),hiddenContent]})};Details.displayName="Details",__webpack_exports__.a=Details;try{Details.displayName="Details",Details.__docgenInfo={description:"",displayName:"Details",props:{summaryContent:{defaultValue:null,description:"",name:"summaryContent",required:!0,type:{name:"ReactNode"}},hiddenContent:{defaultValue:null,description:"",name:"hiddenContent",required:!0,type:{name:"ReactNode"}},defaultOpen:{defaultValue:null,description:"",name:"defaultOpen",required:!0,type:{name:"boolean"}},hasBorderBottom:{defaultValue:null,description:"",name:"hasBorderBottom",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/Details.tsx#Details"]={docgenInfo:Details.__docgenInfo,name:"Details",path:"src/components/Shared/Details.tsx#Details"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/Dot.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return Dot})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DOT_MARGIN})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DOT_SIZE}));var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),DOT_SIZE=20,DOT_MARGIN=6,Dot=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.a.div({width:DOT_SIZE,height:DOT_SIZE,borderRadius:"50%",zIndex:1});try{Dot.displayName="Dot",Dot.__docgenInfo={description:"",displayName:"Dot",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/Dot.tsx#Dot"]={docgenInfo:Dot.__docgenInfo,name:"Dot",path:"src/components/Shared/Dot.tsx#Dot"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/H2.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_styles_colors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styles/colors.ts");__webpack_exports__.a=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.a.h2((function(props){return{display:props.isInline?"inline":"block",paddingBottom:props.hasBorderBottom?8:0,borderBottom:props.hasBorderBottom?"1px solid "+_styles_colors__WEBPACK_IMPORTED_MODULE_1__.a.grey:0}}));try{H2.displayName="H2",H2.__docgenInfo={description:"",displayName:"H2",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},hasBorderBottom:{defaultValue:null,description:"",name:"hasBorderBottom",required:!1,type:{name:"boolean"}},isInline:{defaultValue:null,description:"",name:"isInline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/H2.tsx#H2"]={docgenInfo:H2.__docgenInfo,name:"H2",path:"src/components/Shared/H2.tsx#H2"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/PlaceHolder.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/react/index.js");var _templateObject,_emotion_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");var waveKeyframe=Object(_emotion_react__WEBPACK_IMPORTED_MODULE_2__.c)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  0% {\n    transform: translateX(-100%);\n  }\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n"]))),Placeholder=_emotion_styled__WEBPACK_IMPORTED_MODULE_3__.a.div((function(props){return{position:"relative",width:"100%",height:"100%","& > div, & > div:nth-of-type(2):after":{position:"absolute",inset:0},"& > div:first-of-type":{opacity:props.isLoading?0:1},"& > div:nth-of-type(2)":{display:props.isLoading?"block":"none",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.11)",overflow:"hidden"},"& > div:nth-of-type(2):after":{content:'""',animation:waveKeyframe+" 1.6s linear 0.5s infinite",backgroundImage:"linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.04), transparent)",transform:"translateX(-100%)"}}})),PlaceholderWrapper=function PlaceholderWrapper(_ref){var contentIsLoading=_ref.contentIsLoading,children=_ref.children,placeholderStyle=_ref.placeholderStyle;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Placeholder,{isLoading:contentIsLoading,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:children}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:placeholderStyle})]})};PlaceholderWrapper.displayName="PlaceholderWrapper",__webpack_exports__.a=PlaceholderWrapper;try{PlaceHolder.displayName="PlaceHolder",PlaceHolder.__docgenInfo={description:"A wrapper to show a placeholder while the content is loading",displayName:"PlaceHolder",props:{contentIsLoading:{defaultValue:null,description:"",name:"contentIsLoading",required:!0,type:{name:"boolean"}},placeholderStyle:{defaultValue:null,description:"",name:"placeholderStyle",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/PlaceHolder.tsx#PlaceHolder"]={docgenInfo:PlaceHolder.__docgenInfo,name:"PlaceHolder",path:"src/components/Shared/PlaceHolder.tsx#PlaceHolder"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/ShowMoreCards.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styles/mediaBreakpoints.ts"),ShowMoreCards=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.a.div((function(props){var _ref;return(_ref={visibility:props.isVisible?"visible":"hidden","& > button":{width:"100%"},"& .ui.loader":{marginLeft:16}})["@media (min-width:"+_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_1__.a.tablet+")"]={"& > button":{width:"auto"}},_ref}));__webpack_exports__.a=ShowMoreCards;try{ShowMoreCards.displayName="ShowMoreCards",ShowMoreCards.__docgenInfo={description:"A container of the show more cards button",displayName:"ShowMoreCards",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},isVisible:{defaultValue:null,description:"",name:"isVisible",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/ShowMoreCards.tsx#ShowMoreCards"]={docgenInfo:ShowMoreCards.__docgenInfo,name:"ShowMoreCards",path:"src/components/Shared/ShowMoreCards.tsx#ShowMoreCards"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Shared/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var _DecisionResult__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Shared/DecisionResult.tsx");__webpack_require__.d(__webpack_exports__,"a",(function(){return _DecisionResult__WEBPACK_IMPORTED_MODULE_0__.a}))},"./src/components/Tables/EmptyRow/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Tables_EmptyRow_EmptyRow}));__webpack_require__("./node_modules/react/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),EmptyRow_EmptyRow=function EmptyRow(_ref){var index=_ref.index,backgroundColor=index%2==0?"rgb(236,236,236)":"white",displayText=0===index?"No results found.":"Record missing.";return Object(jsx_runtime.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:backgroundColor},children:Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",children:displayText})})};EmptyRow_EmptyRow.displayName="EmptyRow";var Tables_EmptyRow_EmptyRow=EmptyRow_EmptyRow;try{EmptyRow_EmptyRow.displayName="EmptyRow",EmptyRow_EmptyRow.__docgenInfo={description:"",displayName:"EmptyRow",props:{index:{defaultValue:null,description:"the index of this row",name:"index",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/EmptyRow/EmptyRow.tsx#EmptyRow"]={docgenInfo:EmptyRow_EmptyRow.__docgenInfo,name:"EmptyRow",path:"src/components/Tables/EmptyRow/EmptyRow.tsx#EmptyRow"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tables/MeetingVotesTable/MeetingVotesTable.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EmptyLegislationVoteTable",(function(){return EmptyLegislationVoteTable})),__webpack_require__.d(__webpack_exports__,"SingleLegislationVote",(function(){return SingleLegislationVote})),__webpack_require__.d(__webpack_exports__,"SingleBrokenLegislationRow",(function(){return SingleBrokenLegislationRow})),__webpack_require__.d(__webpack_exports__,"ManyLegislationRowsAndVotes",(function(){return ManyLegislationRowsAndVotes}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/react/index.js");var _models_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/models/constants.ts"),_MeetingVotesTable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Tables/MeetingVotesTable/MeetingVotesTable.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_MeetingVotesTable__WEBPACK_IMPORTED_MODULE_7__.a,title:"Library/Tables/Meeting Votes Table"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_MeetingVotesTable__WEBPACK_IMPORTED_MODULE_7__.a,Object.assign({},args))};Template.displayName="Template";var persons=["Alice","Bob","Charlie","Denise","Elton","Floyd","Gregory","Haley","Ivan"],voteDecisions=Object.values(_models_constants__WEBPACK_IMPORTED_MODULE_6__.d),councilDecisions=Object.values(_models_constants__WEBPACK_IMPORTED_MODULE_6__.a),generateCouncilDecision=function generateCouncilDecision(){return councilDecisions[Math.floor(Math.random()*councilDecisions.length)]},generateVotes=function generateVotes(){return persons.map((function(person){return{name:person,personId:person+"-id",decision:voteDecisions[Math.floor(Math.random()*voteDecisions.length)],id:person+"-vote"}}))},EmptyLegislationVoteTable=Template.bind({});EmptyLegislationVoteTable.args={votesPage:[]};var SingleLegislationVote=Template.bind({});SingleLegislationVote.args={votesPage:[{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 188"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()}]};var SingleBrokenLegislationRow=Template.bind({});SingleBrokenLegislationRow.args={votesPage:[{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 189"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()},{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 200"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()},{broken:"simulating a broken row due to missing or malformed data"},{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 201"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()}]};var ManyLegislationRowsAndVotes=Template.bind({});ManyLegislationRowsAndVotes.args={votesPage:[{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 189"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()},{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 200"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()},{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 290"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()},{matter:{id:"example-legislation-id",description:"A description of the legislation",name:"IRC 201"},date:new Date,council_decision:generateCouncilDecision(),votes:generateVotes()}]},EmptyLegislationVoteTable.parameters=Object.assign({storySource:{source:"(args) => <MeetingVotesTable {...args} />"}},EmptyLegislationVoteTable.parameters),SingleLegislationVote.parameters=Object.assign({storySource:{source:"(args) => <MeetingVotesTable {...args} />"}},SingleLegislationVote.parameters),SingleBrokenLegislationRow.parameters=Object.assign({storySource:{source:"(args) => <MeetingVotesTable {...args} />"}},SingleBrokenLegislationRow.parameters),ManyLegislationRowsAndVotes.parameters=Object.assign({storySource:{source:"(args) => <MeetingVotesTable {...args} />"}},ManyLegislationRowsAndVotes.parameters)},"./src/components/Tables/MeetingVotesTable/MeetingVotesTable.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),DecisionResult=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./src/components/Shared/DecisionResult.tsx")),constants=__webpack_require__("./src/models/constants.ts"),StyleConstants=__webpack_require__("./src/constants/StyleConstants.ts"),ReactiveTableRow=__webpack_require__("./src/components/Tables/ReactiveTableRow/index.ts"),react_responsive=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function VoteCell(isExpanded,votes,isMobile){if(isExpanded)return Object(jsx_runtime.jsx)(react_default.a.Fragment,{children:votes.map((function(vote,index){var personLink="/people/"+vote.personId;return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(jsx_runtime.jsx)(react_router_dom.b,{style:{flex:1},to:personLink,children:vote.name}),Object(jsx_runtime.jsx)(DecisionResult.a,{result:vote.decision})]},"individual-vote-"+index+"-"+vote.id)}))});var votesFor=0,votesAgainst=0,nonVotes=0;votes.forEach((function(vote){[constants.d.ABSENT_APPROVE,constants.d.ABSTAIN_APPROVE,constants.d.APPROVE].includes(vote.decision)&&votesFor++,[constants.d.ABSENT_REJECT,constants.d.ABSTAIN_REJECT,constants.d.REJECT].includes(vote.decision)&&votesAgainst++,[constants.d.ABSENT_NON_VOTING,constants.d.ABSTAIN_NON_VOTING].includes(vote.decision)&&nonVotes++}));var votesForLabel=LocalizedStrings.a.number_approved.replace("{number}",""+votesFor),votesAgainstLabel=LocalizedStrings.a.number_rejected.replace("{number}",""+votesAgainst),votesAbstainedLabel=LocalizedStrings.a.number_non_voting.replace("{number}",""+nonVotes);return isMobile?Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(jsx_runtime.jsx)("p",{children:votesForLabel}),Object(jsx_runtime.jsx)("p",{children:votesAgainstLabel}),Object(jsx_runtime.jsx)("p",{children:votesAbstainedLabel})]}):Object(jsx_runtime.jsx)("p",{children:votesForLabel+" "+StyleConstants.b+" "+votesAgainstLabel+" "+StyleConstants.b+" "+votesAbstainedLabel})}var MeetingVotesTableRow_MeetingVotesTableRow=function MeetingVotesTableRow(_ref){var index=_ref.index,legislationLink=_ref.legislationLink,legislationName=_ref.legislationName,legislationDescription=_ref.legislationDescription,councilDecision=_ref.councilDecision,votes=_ref.votes,columnNames=_ref.columnNames,columnDistribution=_ref.columnDistribution,_useState2=_slicedToArray(Object(react.useState)(!1),2),expanded=_useState2[0],setExpanded=_useState2[1],isMobile=Object(react_responsive.useMediaQuery)({query:"(max-width: "+mediaBreakpoints.a.tablet+")"});return Object(jsx_runtime.jsxs)(ReactiveTableRow.a,{index:index,columnNames:columnNames,columnDistribution:columnDistribution,onClick:function onClick(){setExpanded(!expanded)},children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(react_router_dom.b,{to:legislationLink,children:Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:legislationName})}),!isMobile&&Object(jsx_runtime.jsx)("p",{children:legislationDescription})]}),Object(jsx_runtime.jsx)(DecisionResult.a,{result:councilDecision}),VoteCell(expanded,votes,isMobile)]},"meeting-table-row-"+index)};MeetingVotesTableRow_MeetingVotesTableRow.displayName="MeetingVotesTableRow";var Tables_MeetingVotesTableRow_MeetingVotesTableRow=MeetingVotesTableRow_MeetingVotesTableRow;try{MeetingVotesTableRow_MeetingVotesTableRow.displayName="MeetingVotesTableRow",MeetingVotesTableRow_MeetingVotesTableRow.__docgenInfo={description:"",displayName:"MeetingVotesTableRow",props:{legislationName:{defaultValue:null,description:"the name of the matter that was voted on",name:"legislationName",required:!0,type:{name:"string"}},legislationDescription:{defaultValue:null,description:"the description of the matter that was voted on",name:"legislationDescription",required:!0,type:{name:"string"}},index:{defaultValue:null,description:"the index of the row",name:"index",required:!0,type:{name:"number"}},councilDecision:{defaultValue:null,description:"the voting body decision",name:"councilDecision",required:!0,type:{name:"enum",value:[{value:'"Failed"'},{value:'"Passed"'}]}},legislationLink:{defaultValue:null,description:"link to the detail page of the matter being voted on",name:"legislationLink",required:!0,type:{name:"string"}},votes:{defaultValue:null,description:"vote results by individual members on the matter in this row",name:"votes",required:!0,type:{name:"IndividualMeetingVote[]"}},columnNames:{defaultValue:null,description:"name of the columns this row displays",name:"columnNames",required:!0,type:{name:"string[]"}},columnDistribution:{defaultValue:null,description:"sizes of each column from left to right",name:"columnDistribution",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/MeetingVotesTableRow/MeetingVotesTableRow.tsx#MeetingVotesTableRow"]={docgenInfo:MeetingVotesTableRow_MeetingVotesTableRow.__docgenInfo,name:"MeetingVotesTableRow",path:"src/components/Tables/MeetingVotesTableRow/MeetingVotesTableRow.tsx#MeetingVotesTableRow"})}catch(__react_docgen_typescript_loader_error){}var EmptyRow=__webpack_require__("./src/components/Tables/EmptyRow/index.ts"),ReactiveTable=__webpack_require__("./src/components/Tables/ReactiveTable/index.ts");function renderEmpty(index){return Object(jsx_runtime.jsx)(EmptyRow.a,{index:index},"empty-table-row-"+index)}renderEmpty.displayName="renderEmpty";var MeetingVotesTable_MeetingVotesTable=function MeetingVotesTable(_ref){var votesPage=_ref.votesPage,COLUMN_NAMES=[LocalizedStrings.a.legislation,LocalizedStrings.a.council_decision,LocalizedStrings.a.votes],COLUMN_DISTRIBUTION=["35%","25%","40%"];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("p",{children:LocalizedStrings.a.meeting_votes_caption}),Object(jsx_runtime.jsx)(ReactiveTable.a,{data:votesPage,columnDistribution:COLUMN_DISTRIBUTION,columnNames:COLUMN_NAMES,renderRow:function renderRow(meetingVotes,index){if(!meetingVotes.matter||!meetingVotes.votes)return renderEmpty(index);var legislationName=meetingVotes.matter.name,legislationDescription=meetingVotes.matter.description,councilDecision=meetingVotes.council_decision,legislationLink="/matters/"+meetingVotes.matter.id;return Object(jsx_runtime.jsx)(Tables_MeetingVotesTableRow_MeetingVotesTableRow,{index:index,legislationName:legislationName,legislationDescription:legislationDescription,councilDecision:councilDecision,legislationLink:legislationLink,votes:meetingVotes.votes,columnDistribution:COLUMN_DISTRIBUTION,columnNames:COLUMN_NAMES},"meeting-voting-table-row-"+index)}})]})};__webpack_exports__.a=MeetingVotesTable_MeetingVotesTable;try{MeetingVotesTable_MeetingVotesTable.displayName="MeetingVotesTable",MeetingVotesTable_MeetingVotesTable.__docgenInfo={description:"",displayName:"MeetingVotesTable",props:{votesPage:{defaultValue:null,description:"an array of Votes",name:"votesPage",required:!0,type:{name:"object[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/MeetingVotesTable/MeetingVotesTable.tsx#MeetingVotesTable"]={docgenInfo:MeetingVotesTable_MeetingVotesTable.__docgenInfo,name:"MeetingVotesTable",path:"src/components/Tables/MeetingVotesTable/MeetingVotesTable.tsx#MeetingVotesTable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tables/ReactiveTable/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Tables_ReactiveTable_ReactiveTable}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),react_responsive=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),fonts=__webpack_require__("./src/styles/fonts.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TableHeader=styled_browser_esm.a.div({padding:8,fontSize:fonts.a.font_size_6,fontWeight:600}),ReactiveTableHeader_ReactiveTableHeader=function ReactiveTableHeader(_ref){var columnNames=_ref.columnNames,columnDistribution=_ref.columnDistribution;return Object(react_responsive.useMediaQuery)({query:"(max-width: "+mediaBreakpoints.a.tablet+")"})?null:Object(jsx_runtime.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:null==columnNames?void 0:columnNames.map((function(columnName,index){var width=columnDistribution[index]||0;return Object(jsx_runtime.jsx)("div",{style:{width:width},children:Object(jsx_runtime.jsx)(TableHeader,{children:columnName})},columnName)}))})},Tables_ReactiveTableHeader_ReactiveTableHeader=ReactiveTableHeader_ReactiveTableHeader;try{ReactiveTableHeader_ReactiveTableHeader.displayName="ReactiveTableHeader",ReactiveTableHeader_ReactiveTableHeader.__docgenInfo={description:"",displayName:"ReactiveTableHeader",props:{columnNames:{defaultValue:null,description:"column names",name:"columnNames",required:!1,type:{name:"string[]"}},columnDistribution:{defaultValue:null,description:"column distribution, should sum to 100%.  0 width columns or columns with no assigned width will not appear",name:"columnDistribution",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/ReactiveTableHeader/ReactiveTableHeader.tsx#ReactiveTableHeader"]={docgenInfo:ReactiveTableHeader_ReactiveTableHeader.__docgenInfo,name:"ReactiveTableHeader",path:"src/components/Tables/ReactiveTableHeader/ReactiveTableHeader.tsx#ReactiveTableHeader"})}catch(__react_docgen_typescript_loader_error){}var EmptyRow=__webpack_require__("./src/components/Tables/EmptyRow/index.ts");function renderEmpty(index){return Object(jsx_runtime.jsx)(EmptyRow.a,{index:index},"empty-table-row-"+index)}renderEmpty.displayName="renderEmpty";var ReactiveTable_ReactiveTable=function ReactiveTable(_ref){var data=_ref.data,renderRow=_ref.renderRow,columnDistribution=_ref.columnDistribution,columnNames=_ref.columnNames,isEmpty=!data||!data.length||0===data.length;return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)(Tables_ReactiveTableHeader_ReactiveTableHeader,{columnDistribution:columnDistribution,columnNames:columnNames}),isEmpty&&renderEmpty(0),data.map((function(rowData,index){return renderRow(rowData,index)}))]})};ReactiveTable_ReactiveTable.displayName="ReactiveTable";var Tables_ReactiveTable_ReactiveTable=ReactiveTable_ReactiveTable;try{ReactiveTable_ReactiveTable.displayName="ReactiveTable",ReactiveTable_ReactiveTable.__docgenInfo={description:"",displayName:"ReactiveTable",props:{data:{defaultValue:null,description:"an array of data to be rendered by the renderRow function",name:"data",required:!0,type:{name:"object[]"}},renderRow:{defaultValue:null,description:"renders the row.",name:"renderRow",required:!0,type:{name:"RowRenderFunction"}},columnNames:{defaultValue:null,description:"each column should have a name",name:"columnNames",required:!1,type:{name:"string[]"}},columnDistribution:{defaultValue:null,description:"distributes the columns widths",name:"columnDistribution",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/ReactiveTable/ReactiveTable.tsx#ReactiveTable"]={docgenInfo:ReactiveTable_ReactiveTable.__docgenInfo,name:"ReactiveTable",path:"src/components/Tables/ReactiveTable/ReactiveTable.tsx#ReactiveTable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tables/ReactiveTableRow/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Tables_ReactiveTableRow_ReactiveTableRow}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/index.js");var EmptyRow=__webpack_require__("./src/components/Tables/EmptyRow/index.ts"),react_responsive=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),StyleConstants=__webpack_require__("./src/constants/StyleConstants.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ReactiveTableRow_ReactiveTableRow=function ReactiveTableRow(_ref){var index=_ref.index,children=_ref.children,columnNames=_ref.columnNames,columnDistribution=_ref.columnDistribution,onClick=_ref.onClick,backgroundColor=index%2==0?StyleConstants.a.COLORS.EVEN_CELL:StyleConstants.a.COLORS.ODD_CELL,isMobile=Object(react_responsive.useMediaQuery)({query:"(max-width: "+mediaBreakpoints.a.tablet+")"});return children&&0!==children.length?isMobile?Object(jsx_runtime.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:backgroundColor},children:null==children?void 0:children.map((function(childElement,index){var columnName=columnNames?columnNames[index]:"";return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"flex-start"},children:[Object(jsx_runtime.jsx)("p",{style:{flex:1,fontWeight:"bold",paddingRight:8},className:"mzp-c-card-desc",children:columnName}),childElement]},index)}))}):Object(jsx_runtime.jsx)("div",{style:{display:"flex",flex:1,backgroundColor:backgroundColor,flexDirection:"row",padding:16},onClick:onClick,children:null==children?void 0:children.map((function(childElement,index){var width=columnDistribution?columnDistribution[index]:"0%";return Object(jsx_runtime.jsx)("div",{style:{width:width},children:childElement},index)}))}):Object(jsx_runtime.jsx)(EmptyRow.a,{index:index})},Tables_ReactiveTableRow_ReactiveTableRow=ReactiveTableRow_ReactiveTableRow;try{ReactiveTableRow_ReactiveTableRow.displayName="ReactiveTableRow",ReactiveTableRow_ReactiveTableRow.__docgenInfo={description:"",displayName:"ReactiveTableRow",props:{index:{defaultValue:null,description:"the index of the row",name:"index",required:!0,type:{name:"number"}},children:{defaultValue:null,description:"each child provided to this element will be a column. *",name:"children",required:!1,type:{name:"Element[]"}},columnNames:{defaultValue:null,description:"the column names.  on small screens, the table headers will disappear and column names will be included in the rows",name:"columnNames",required:!1,type:{name:"string[]"}},columnDistribution:{defaultValue:null,description:"column distribution, should sum to 100%.  0 width columns or columns with no assigned width will not appear",name:"columnDistribution",required:!0,type:{name:"string[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/ReactiveTableRow/ReactiveTableRow.tsx#ReactiveTableRow"]={docgenInfo:ReactiveTableRow_ReactiveTableRow.__docgenInfo,name:"ReactiveTableRow",path:"src/components/Tables/ReactiveTableRow/ReactiveTableRow.tsx#ReactiveTableRow"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tables/VotingTable/VotingTable.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"EmptyTable",(function(){return EmptyTable})),__webpack_require__.d(__webpack_exports__,"SingleVote",(function(){return SingleVote})),__webpack_require__.d(__webpack_exports__,"SingleBrokenVote",(function(){return SingleBrokenVote})),__webpack_require__.d(__webpack_exports__,"ManyVotes",(function(){return ManyVotes}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/stories/model-mocks/vote.ts"),_VotingTable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Tables/VotingTable/VotingTable.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_VotingTable__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Tables/Voting Record Table"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_VotingTable__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var EmptyTable=Template.bind({});EmptyTable.args={votesPage:[],name:"Alice"};var SingleVote=Template.bind({});SingleVote.args={votesPage:_stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__.b,name:"Alice"};var SingleBrokenVote=Template.bind({});SingleBrokenVote.args={votesPage:_stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__.c,name:"Alice"};var ManyVotes=Template.bind({});ManyVotes.args={votesPage:_stories_model_mocks_vote__WEBPACK_IMPORTED_MODULE_3__.b,name:"Alice"},EmptyTable.parameters=Object.assign({storySource:{source:"(args) => <VotingTable {...args} />"}},EmptyTable.parameters),SingleVote.parameters=Object.assign({storySource:{source:"(args) => <VotingTable {...args} />"}},SingleVote.parameters),SingleBrokenVote.parameters=Object.assign({storySource:{source:"(args) => <VotingTable {...args} />"}},SingleBrokenVote.parameters),ManyVotes.parameters=Object.assign({storySource:{source:"(args) => <VotingTable {...args} />"}},ManyVotes.parameters)},"./src/components/Tables/VotingTable/VotingTable.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/react/index.js");var VotingTableRow=__webpack_require__("./src/components/Tables/VotingTableRow/VotingTableRow.tsx"),EmptyRow=__webpack_require__("./src/components/Tables/EmptyRow/index.ts"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),ReactiveTable=__webpack_require__("./src/components/Tables/ReactiveTable/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function renderEmpty(index){return Object(jsx_runtime.jsx)(EmptyRow.a,{index:index},"empty-table-row-"+index)}renderEmpty.displayName="renderEmpty";var VotingTable_VotingTable=function VotingTable(_ref){var name=_ref.name,votesPage=_ref.votesPage,COLUMN_NAMES=[LocalizedStrings.a.legislation,LocalizedStrings.a.persons_vote.replace("{name}",name),LocalizedStrings.a.council_decision,LocalizedStrings.a.meeting],COLUMN_DISTRIBUTION=["30%","15%","20%","35%"];return Object(jsx_runtime.jsx)(ReactiveTable.a,{data:votesPage,columnDistribution:COLUMN_DISTRIBUTION,columnNames:COLUMN_NAMES,renderRow:function renderRow(vote,index){var _vote$event_minutes_i;if(!vote.matter||!vote.decision||!vote.event)return renderEmpty(index);var legislationName=vote.matter.name,voteDecision=vote.decision,councilDecision=null===(_vote$event_minutes_i=vote.event_minutes_item)||void 0===_vote$event_minutes_i?void 0:_vote$event_minutes_i.decision,legislationLink="/matters/"+vote.matter.id,tags=vote.matter.keywords,meetingDate=vote.event.event_datetime,meetingLink="/events/"+vote.event.id,committeeName=vote.event.body.name;return Object(jsx_runtime.jsx)(VotingTableRow.a,{index:index,legislationName:legislationName,voteDecision:voteDecision,councilDecision:councilDecision,legislationLink:legislationLink,legislationTags:tags,meetingDate:meetingDate,meetingLink:meetingLink,committeeName:committeeName,columnNames:COLUMN_NAMES,columnDistribution:COLUMN_DISTRIBUTION},"voting-table-row-"+index)}})};VotingTable_VotingTable.displayName="VotingTable";__webpack_exports__.a=VotingTable_VotingTable;try{VotingTable_VotingTable.displayName="VotingTable",VotingTable_VotingTable.__docgenInfo={description:"",displayName:"VotingTable",props:{name:{defaultValue:null,description:"the name of the legislator",name:"name",required:!0,type:{name:"string"}},votesPage:{defaultValue:null,description:"an array of Votes",name:"votesPage",required:!0,type:{name:"any[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/VotingTable/VotingTable.tsx#VotingTable"]={docgenInfo:VotingTable_VotingTable.__docgenInfo,name:"VotingTable",path:"src/components/Tables/VotingTable/VotingTable.tsx#VotingTable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tables/VotingTableRow/VotingTableRow.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleRow",(function(){return SingleRow}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/react/index.js");var _VotingTableRow__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Tables/VotingTableRow/VotingTableRow.tsx"),_models_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/models/constants.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_VotingTableRow__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Tables/Rows"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_VotingTableRow__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var SingleRow=Template.bind({});SingleRow.args={legislationName:"Example Legislation Name",legislationLink:"https://www.google.com",index:0,voteDecision:_models_constants__WEBPACK_IMPORTED_MODULE_5__.d.REJECT,councilDecision:_models_constants__WEBPACK_IMPORTED_MODULE_5__.a.PASSED,legislationTags:["bike","example","lanes","rental"],meetingDate:new Date,meetingLink:"https://www.google.com",committeeName:"Example Committee",columnNames:["Legislation","Alice's Vote","Council Decision","Meeting"],columnDistribution:["30%","15%","20%","35%"]},SingleRow.parameters=Object.assign({storySource:{source:"(args) => <VotingTableRow {...args} />"}},SingleRow.parameters)},"./src/components/Tables/VotingTableRow/VotingTableRow.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_Shared_DecisionResult__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Shared/DecisionResult.tsx"),_constants_StyleConstants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/StyleConstants.ts"),react_responsive__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/styles/mediaBreakpoints.ts"),_ReactiveTableRow__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Tables/ReactiveTableRow/index.ts"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),_app__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/app/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js"),VotingTableRow=function VotingTableRow(_ref){var index=_ref.index,legislationLink=_ref.legislationLink,legislationName=_ref.legislationName,legislationTags=_ref.legislationTags,voteDecision=_ref.voteDecision,councilDecision=_ref.councilDecision,meetingDate=_ref.meetingDate,meetingLink=_ref.meetingLink,committeeName=_ref.committeeName,columnNames=_ref.columnNames,columnDistribution=_ref.columnDistribution,municipality=Object(_app__WEBPACK_IMPORTED_MODULE_8__.a)().municipality,language=Object(_app__WEBPACK_IMPORTED_MODULE_8__.b)().language,legislationTagsString=legislationTags&&legislationTags.length>0?legislationTags.join(_constants_StyleConstants__WEBPACK_IMPORTED_MODULE_3__.b):"",dateText=null==meetingDate?void 0:meetingDate.toLocaleDateString(language,{timeZone:municipality.timeZone,month:"long",day:"numeric",year:"numeric"}),isMobile=Object(react_responsive__WEBPACK_IMPORTED_MODULE_4__.useMediaQuery)({query:"(max-width: "+_styles_mediaBreakpoints__WEBPACK_IMPORTED_MODULE_5__.a.tablet+")"});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_ReactiveTableRow__WEBPACK_IMPORTED_MODULE_6__.a,{index:index,columnNames:columnNames,columnDistribution:columnDistribution,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.b,{to:legislationLink,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:legislationName})}),!isMobile&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{className:"mzp-c-card-desc",children:legislationTagsString})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_Shared_DecisionResult__WEBPACK_IMPORTED_MODULE_2__.a,{result:voteDecision}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_Shared_DecisionResult__WEBPACK_IMPORTED_MODULE_2__.a,{result:councilDecision}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.b,{to:meetingLink,children:dateText}),!isMobile&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{className:"mzp-c-card-desc",children:committeeName})]})]},"voting-table-row-"+index)};VotingTableRow.displayName="VotingTableRow",__webpack_exports__.a=VotingTableRow;try{VotingTableRow.displayName="VotingTableRow",VotingTableRow.__docgenInfo={description:"",displayName:"VotingTableRow",props:{legislationName:{defaultValue:null,description:"the name of the matter that was voted on",name:"legislationName",required:!0,type:{name:"string"}},index:{defaultValue:null,description:"the index of the row",name:"index",required:!0,type:{name:"number"}},voteDecision:{defaultValue:null,description:"the persons vote",name:"voteDecision",required:!0,type:{name:"enum",value:[{value:'"Abstain (Approve)"'},{value:'"Abstain (Non-Voting)"'},{value:'"Abstain (Reject)"'},{value:'"Absent (Approve)"'},{value:'"Absent (Non-Voting)"'},{value:'"Absent (Reject)"'},{value:'"Approve"'},{value:'"Reject"'}]}},councilDecision:{defaultValue:null,description:"the voting body decision",name:"councilDecision",required:!0,type:{name:"enum",value:[{value:'"Failed"'},{value:'"Passed"'}]}},legislationLink:{defaultValue:null,description:"link to the detail page of the matter being voted on",name:"legislationLink",required:!0,type:{name:"string"}},legislationTags:{defaultValue:null,description:"words indicating the topic of the matter being voted on",name:"legislationTags",required:!0,type:{name:"string[]"}},meetingDate:{defaultValue:null,description:"date of the matter being voted on",name:"meetingDate",required:!0,type:{name:"Date"}},meetingLink:{defaultValue:null,description:"link to the detail page of the meeting",name:"meetingLink",required:!0,type:{name:"string"}},committeeName:{defaultValue:null,description:"name of the voting body",name:"committeeName",required:!0,type:{name:"string"}},columnNames:{defaultValue:null,description:"name of the columns this row displays",name:"columnNames",required:!0,type:{name:"string[]"}},columnDistribution:{defaultValue:null,description:"sizes of each column from left to right",name:"columnDistribution",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tables/VotingTableRow/VotingTableRow.tsx#VotingTableRow"]={docgenInfo:VotingTableRow.__docgenInfo,name:"VotingTableRow",path:"src/components/Tables/VotingTableRow/VotingTableRow.tsx#VotingTableRow"})}catch(__react_docgen_typescript_loader_error){}},"./src/constants/ProjectConstants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return SUPPORTED_LANGUAGES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FETCH_CARDS_BATCH_SIZE})),__webpack_require__.d(__webpack_exports__,"a",(function(){return EXAMPLE_COVER_VIEWS}));var _assets_images_dave_hoefler_reduced_1_jpg__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/assets/images/dave-hoefler-reduced-1.jpg"),_assets_images_dave_hoefler_reduced_1_jpg__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_assets_images_dave_hoefler_reduced_1_jpg__WEBPACK_IMPORTED_MODULE_0__),_assets_images_dave_hoefler_reduced_2_jpg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/assets/images/dave-hoefler-reduced-2.jpg"),_assets_images_dave_hoefler_reduced_2_jpg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_assets_images_dave_hoefler_reduced_2_jpg__WEBPACK_IMPORTED_MODULE_1__),_assets_images_dave_hoefler_reduced_3_jpg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/assets/images/dave-hoefler-reduced-3.jpg"),_assets_images_dave_hoefler_reduced_3_jpg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_assets_images_dave_hoefler_reduced_3_jpg__WEBPACK_IMPORTED_MODULE_2__),_assets_images_dave_hoefler_reduced_4_jpg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/assets/images/dave-hoefler-reduced-4.jpg"),_assets_images_dave_hoefler_reduced_4_jpg__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_assets_images_dave_hoefler_reduced_4_jpg__WEBPACK_IMPORTED_MODULE_3__),_assets_images_dave_hoefler_reduced_5_jpg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/assets/images/dave-hoefler-reduced-5.jpg"),_assets_images_dave_hoefler_reduced_5_jpg__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_assets_images_dave_hoefler_reduced_5_jpg__WEBPACK_IMPORTED_MODULE_4__),SUPPORTED_LANGUAGES=["en","de","es"],FETCH_CARDS_BATCH_SIZE=10,EXAMPLE_COVER_VIEWS=[_assets_images_dave_hoefler_reduced_1_jpg__WEBPACK_IMPORTED_MODULE_0___default.a,_assets_images_dave_hoefler_reduced_2_jpg__WEBPACK_IMPORTED_MODULE_1___default.a,_assets_images_dave_hoefler_reduced_3_jpg__WEBPACK_IMPORTED_MODULE_2___default.a,_assets_images_dave_hoefler_reduced_4_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,_assets_images_dave_hoefler_reduced_5_jpg__WEBPACK_IMPORTED_MODULE_4___default.a]},"./src/constants/StyleConstants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return TAG_CONNECTOR})),__webpack_require__.d(__webpack_exports__,"a",(function(){return STYLES}));var _styles_colors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styles/colors.ts"),TAG_CONNECTOR=" â€¢ ",STYLES={COLORS:{ODD_CELL:_styles_colors__WEBPACK_IMPORTED_MODULE_0__.a.white,EVEN_CELL:_styles_colors__WEBPACK_IMPORTED_MODULE_0__.a.lightgrey,ACTIVE_UNDERLINE:_styles_colors__WEBPACK_IMPORTED_MODULE_0__.a.dark_blue}}},"./src/containers/EventContainer/EventContainer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"event",(function(){return event}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/react/index.js");var _EventContainer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/containers/EventContainer/EventContainer.tsx"),_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),_models_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/models/constants.ts"),_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/stories/model-mocks/sentence.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_EventContainer__WEBPACK_IMPORTED_MODULE_4__.a,title:"Library/Containers/Event"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_EventContainer__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var event=Template.bind({});event.args={initialSession:0,initialSeconds:123,event:{body:{name:"City Council"},event_datetime:new Date},sessions:[{id:"s1",video_uri:"https://video.seattle.gov/media/council/council_113020_2022091V.mp4",session_index:1},{id:"s2",video_uri:"https://video.seattle.gov/media/council/econ_090821_2602120V.mp4",session_index:2}],sentences:Object.assign({},_FetchDataContainer_useFetchData__WEBPACK_IMPORTED_MODULE_5__.c,{data:Object(_stories_model_mocks_sentence__WEBPACK_IMPORTED_MODULE_7__.a)(2,10)}),eventMinutesItems:[{id:"test1",minutes_item:{name:"test"}},{id:"test2",minutes_item:{name:"test2",description:"test desc",matter_ref:"matter-id"},decision:_models_constants__WEBPACK_IMPORTED_MODULE_6__.a.FAILED,files:[{name:"file name",uri:"https://www.seattle.gov/images/Council/Members/Herbold/Herbold_225x225.jpg"}]}],votes:[{id:"1",decision:_models_constants__WEBPACK_IMPORTED_MODULE_6__.d.APPROVE,person:{id:"1",name:"person name 1"},event_minutes_item_ref:"test2"},{id:"2",decision:_models_constants__WEBPACK_IMPORTED_MODULE_6__.d.REJECT,person:{id:"2",name:"person name 2"},event_minutes_item_ref:"test2"},{id:"3",decision:_models_constants__WEBPACK_IMPORTED_MODULE_6__.d.REJECT,person:{id:"3",name:"person name 3"},event_minutes_item_ref:"test2"}]},event.parameters=Object.assign({storySource:{source:"(args) => <EventContainer {...args} />"}},event.parameters)},"./src/containers/EventContainer/EventContainer.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),app=__webpack_require__("./src/app/index.ts"),useDocumentTitle=__webpack_require__("./src/hooks/useDocumentTitle.ts"),TranscriptSearch=__webpack_require__("./src/components/Details/TranscriptSearch/TranscriptSearch.tsx"),LanguageConfigContext=__webpack_require__("./src/app/LanguageConfigContext.tsx"),EventVideo=__webpack_require__("./src/components/Details/EventVideo/EventVideo.tsx"),Tab=__webpack_require__("./node_modules/semantic-ui-react/dist/es/modules/Tab/Tab.js"),fonts=__webpack_require__("./src/styles/fonts.ts"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts"),Shared_ResponsiveTab=Object(styled_browser_esm.a)(Tab.a)((function(props){var _ref;return(_ref={"& > .ui.tab":{margin:0,border:0,padding:props.padding}})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={"& > .ui.menu > a.item":{fontSize:fonts.a.font_size_7}},_ref["@media (max-width:"+props.breakpoint+")"]={"& > .ui.menu":{flexDirection:"column"},"& > .ui.secondary.pointing.menu > a.item":{alignSelf:"flex-start",borderBottomStyle:"none"},"& > .ui.secondary.pointing.menu > a.active.item":{borderLeft:"2px solid"}},_ref}));try{ResponsiveTab.displayName="ResponsiveTab",ResponsiveTab.__docgenInfo={description:"",displayName:"ResponsiveTab",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},padding:{defaultValue:null,description:"",name:"padding",required:!0,type:{name:"string"}},breakpoint:{defaultValue:null,description:"",name:"breakpoint",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<Component<TabProps, any, any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/ResponsiveTab.tsx#ResponsiveTab"]={docgenInfo:ResponsiveTab.__docgenInfo,name:"ResponsiveTab",path:"src/components/Shared/ResponsiveTab.tsx#ResponsiveTab"})}catch(__react_docgen_typescript_loader_error){}var LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SessionsVideos_SessionVideos=function SessionVideos(_ref){var eventVideoRefs=_ref.eventVideoRefs,sessions=_ref.sessions,currentSession=_ref.currentSession,initialSeconds=_ref.initialSeconds,setCurrentSession=_ref.setCurrentSession,language=Object(LanguageConfigContext.b)().language,forceUpdate=_slicedToArray(Object(react.useState)(""),2)[1],panes=Object(react.useRef)(sessions.map((function(session,i){return{menuItem:LocalizedStrings.a.session+" "+(i+1),pane:{key:"session_index_"+(i+1),content:Object(jsx_runtime.jsx)(EventVideo.a,{sessionIndex:i,initialSeconds:i===currentSession?initialSeconds:0,uri:session.video_uri,componentRef:eventVideoRefs[i]})}}})));Object(react.useEffect)((function(){for(var i=0;i<panes.current.length;i++)panes.current[i].menuItem=LocalizedStrings.a.session+" "+(i+1);forceUpdate(language)}),[language]);var breakpoint=sessions.length>3?mediaBreakpoints.a.largeMobile:mediaBreakpoints.a.smallMobile;return Object(jsx_runtime.jsx)(Shared_ResponsiveTab,{padding:"0px",breakpoint:breakpoint,menu:{secondary:!0,pointing:!0},panes:panes.current,renderActiveOnly:!1,activeIndex:currentSession,onTabChange:function onSessionChange(_,data){return setCurrentSession((function(prevSessionIndex){var _eventVideoRefs$prevS;return null===(_eventVideoRefs$prevS=eventVideoRefs[prevSessionIndex].current)||void 0===_eventVideoRefs$prevS||_eventVideoRefs$prevS.pause(),data.activeIndex}))}})};SessionsVideos_SessionVideos.displayName="SessionVideos";var EventContainer_SessionsVideos=react_default.a.memo(SessionsVideos_SessionVideos);try{SessionsVideos.displayName="SessionsVideos",SessionsVideos.__docgenInfo={description:"",displayName:"SessionsVideos",props:{eventVideoRefs:{defaultValue:null,description:"",name:"eventVideoRefs",required:!0,type:{name:"RefObject<EventVideoRef>[]"}},sessions:{defaultValue:null,description:"",name:"sessions",required:!0,type:{name:"ECSession[]"}},currentSession:{defaultValue:null,description:"",name:"currentSession",required:!0,type:{name:"number"}},initialSeconds:{defaultValue:null,description:"",name:"initialSeconds",required:!0,type:{name:"number"}},setCurrentSession:{defaultValue:null,description:"",name:"setCurrentSession",required:!0,type:{name:"Dispatch<SetStateAction<number>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/EventContainer/SessionsVideos.tsx#SessionsVideos"]={docgenInfo:SessionsVideos.__docgenInfo,name:"SessionsVideos",path:"src/containers/EventContainer/SessionsVideos.tsx#SessionsVideos"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js");var LazyFetchDataContainer=__webpack_require__("./src/containers/FetchDataContainer/LazyFetchDataContainer.tsx"),TranscriptFull=__webpack_require__("./src/components/Details/TranscriptFull/TranscriptFull.tsx"),MinutesItemsList=__webpack_require__("./src/components/Details/MinutesItemsList/MinutesItemsList.tsx"),MeetingVotesTable=__webpack_require__("./src/components/Tables/MeetingVotesTable/MeetingVotesTable.tsx"),EventInfoTabs_EventInfoTabs=function EventInfoTabs(_ref){var currentInfoTab=_ref.currentInfoTab,setCurrentInfoTab=_ref.setCurrentInfoTab,sentences=_ref.sentences,transcriptItemsRefs=_ref.transcriptItemsRefs,eventMinutesItems=_ref.eventMinutesItems,votes=_ref.votes,jumpToVideoClip=_ref.jumpToVideoClip,language=Object(LanguageConfigContext.b)().language,minutesItems=Object(react.useMemo)((function(){return eventMinutesItems.map((function(_ref2){var minutes_item=_ref2.minutes_item,files=_ref2.files;return{name:null==minutes_item?void 0:minutes_item.name,description:null==minutes_item?void 0:minutes_item.description,matter_ref:null==minutes_item?void 0:minutes_item.matter_ref,documents:files&&files.length>0?files.map((function(_ref3){return{label:_ref3.name,url:_ref3.uri}})):void 0}}))}),[eventMinutesItems]),votesByEventMinutesItemDict=Object(react.useMemo)((function(){return votes.reduce((function(dict,vote){return Object.keys(dict).includes(vote.event_minutes_item_ref)||(dict[vote.event_minutes_item_ref]=[]),dict[vote.event_minutes_item_ref].push(vote),dict}),{})}),[votes]),votesByEventMinutesItem=Object(react.useMemo)((function(){return eventMinutesItems.map((function(eventMinutesItem){return votesByEventMinutesItemDict[eventMinutesItem.id]||[]}))}),[votesByEventMinutesItemDict,eventMinutesItems]),votesPage=Object(react.useMemo)((function(){var votesPage=[];return eventMinutesItems.forEach((function(_ref4,i){var minutes_item=_ref4.minutes_item,decision=_ref4.decision,votesForEventMinutesItem=votesByEventMinutesItem[i];votesForEventMinutesItem&&votesForEventMinutesItem.length>0&&votesPage.push({matter:{name:null==minutes_item?void 0:minutes_item.name,description:null==minutes_item?void 0:minutes_item.description,id:null==minutes_item?void 0:minutes_item.matter_ref},council_decision:decision,votes:votesForEventMinutesItem.map((function(_ref5){var person=_ref5.person,decision=_ref5.decision,id=_ref5.id;return{personId:null==person?void 0:person.id,name:null==person?void 0:person.name,decision:decision,id:id}}))})})),votesPage}),[eventMinutesItems,votesByEventMinutesItem]),infoTabPanes=Object(react.useMemo)((function(){return[{menuItem:LocalizedStrings.a.minutes,pane:{key:"agenda",content:Object(jsx_runtime.jsx)(MinutesItemsList.a,{minutesItems:minutesItems})}},{menuItem:LocalizedStrings.a.transcript,pane:{key:"transcript",content:Object(jsx_runtime.jsx)(LazyFetchDataContainer.a,{data:"transcript",isLoading:sentences.isLoading,error:sentences.error,notFound:!sentences.data||0===sentences.data.length,children:sentences.data&&Object(jsx_runtime.jsx)(TranscriptFull.a,{sentences:sentences.data,transcriptItemsRefs:transcriptItemsRefs,jumpToVideoClip:jumpToVideoClip})})}},{menuItem:LocalizedStrings.a.votes,pane:{key:"votes",content:Object(jsx_runtime.jsx)(MeetingVotesTable.a,{votesPage:votesPage})}}]}),[minutesItems,sentences,transcriptItemsRefs,jumpToVideoClip,votesPage,language]);return Object(jsx_runtime.jsx)(Shared_ResponsiveTab,{padding:"16px",menu:{secondary:!0,pointing:!0},panes:infoTabPanes,activeIndex:currentInfoTab,onTabChange:function onInfoTabChange(_,data){return setCurrentInfoTab(data.activeIndex)},renderActiveOnly:!1})};EventInfoTabs_EventInfoTabs.displayName="EventInfoTabs";var _styled$div,_styled$div2,EventContainer_EventInfoTabs=react_default.a.memo(EventInfoTabs_EventInfoTabs);try{EventInfoTabs_EventInfoTabs.displayName="EventInfoTabs",EventInfoTabs_EventInfoTabs.__docgenInfo={description:"",displayName:"EventInfoTabs",props:{currentInfoTab:{defaultValue:null,description:"",name:"currentInfoTab",required:!0,type:{name:"number"}},setCurrentInfoTab:{defaultValue:null,description:"",name:"setCurrentInfoTab",required:!0,type:{name:"Dispatch<SetStateAction<number>>"}},sentences:{defaultValue:null,description:"",name:"sentences",required:!0,type:{name:"FetchDataState<ECSentence[]>"}},transcriptItemsRefs:{defaultValue:null,description:"",name:"transcriptItemsRefs",required:!0,type:{name:"RefObject<TranscriptItemRef>[]"}},eventMinutesItems:{defaultValue:null,description:"",name:"eventMinutesItems",required:!0,type:{name:"ECEventMinutesItem[]"}},votes:{defaultValue:null,description:"",name:"votes",required:!0,type:{name:"ECVote[]"}},jumpToVideoClip:{defaultValue:null,description:"",name:"jumpToVideoClip",required:!0,type:{name:"(sessionIndex: number, startTime: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/EventContainer/EventInfoTabs.tsx#EventInfoTabs"]={docgenInfo:EventInfoTabs_EventInfoTabs.__docgenInfo,name:"EventInfoTabs",path:"src/containers/EventContainer/EventInfoTabs.tsx#EventInfoTabs"})}catch(__react_docgen_typescript_loader_error){}function EventContainer_slicedToArray(arr,i){return function EventContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EventContainer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EventContainer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EventContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EventContainer_arrayLikeToArray(o,minLen)}(arr,i)||function EventContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EventContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Container=styled_browser_esm.a.div({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",rowGap:"32px","& > *":{width:"100%"}}),EventName=styled_browser_esm.a.div({"& > h1":{margin:0}}),SessionsContainer=styled_browser_esm.a.div(((_styled$div={position:"sticky",top:0,zIndex:2,backgroundColor:"white"})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={position:"static"},_styled$div["@media (min-aspect-ratio:5/4), (min-width:"+mediaBreakpoints.a.desktop+")"]={width:"50%"},_styled$div)),TranscriptSearchContainer=styled_browser_esm.a.div(((_styled$div2={})["@media (min-aspect-ratio:5/4), (min-width:"+mediaBreakpoints.a.desktop+")"]={width:"47%"},_styled$div2)),EventContainer_EventContainer=function EventContainer(_ref){var _event$body,_event$body2,_event$event_datetime,_event$body3,_event$event_datetime2,event=_ref.event,sessions=_ref.sessions,sentences=_ref.sentences,eventMinutesItems=_ref.eventMinutesItems,votes=_ref.votes,initialSession=_ref.initialSession,initialSeconds=_ref.initialSeconds,searchQuery=_ref.searchQuery,municipality=Object(app.a)().municipality,language=Object(app.b)().language;Object(useDocumentTitle.a)((null===(_event$body=event.body)||void 0===_event$body?void 0:_event$body.name)+""+((null===(_event$body2=event.body)||void 0===_event$body2?void 0:_event$body2.name)&&event.event_datetime&&" -- ")+(null===(_event$event_datetime=event.event_datetime)||void 0===_event$event_datetime?void 0:_event$event_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone})));var _useState2=EventContainer_slicedToArray(Object(react.useState)(initialSession),2),currentSession=_useState2[0],setCurrentSession=_useState2[1],_useState4=EventContainer_slicedToArray(Object(react.useState)(0),2),currentInfoTab=_useState4[0],setCurrentInfoTab=_useState4[1],sessionVideoRefs=Object(react.useRef)(sessions.map((function(){return Object(react.createRef)()}))),jumpToVideoClip=Object(react.useCallback)((function(nextSessionIndex,startTime){var _sessionVideoRefs$cur2;setCurrentSession((function(prevSessionIndex){var _sessionVideoRefs$cur;prevSessionIndex!==nextSessionIndex&&(null===(_sessionVideoRefs$cur=sessionVideoRefs.current[prevSessionIndex].current)||void 0===_sessionVideoRefs$cur||_sessionVideoRefs$cur.pause());return nextSessionIndex})),null===(_sessionVideoRefs$cur2=sessionVideoRefs.current[nextSessionIndex].current)||void 0===_sessionVideoRefs$cur2||_sessionVideoRefs$cur2.seekTo(startTime)}),[sessionVideoRefs]),transcriptItemsRefs=Object(react.useMemo)((function(){return(sentences.data||[]).map((function(){return Object(react.createRef)()}))}),[sentences.data]),_useState6=EventContainer_slicedToArray(Object(react.useState)(),2),currentTranscriptItem=_useState6[0],setCurrentTranscriptItem=_useState6[1],jumpToTranscript=Object(react.useCallback)((function(sentenceIndex){var _transcriptItemsRefs$;1!==currentInfoTab?(setCurrentInfoTab(1),setCurrentTranscriptItem(sentenceIndex)):null===(_transcriptItemsRefs$=transcriptItemsRefs[sentenceIndex].current)||void 0===_transcriptItemsRefs$||_transcriptItemsRefs$.scrollIntoView()}),[transcriptItemsRefs,currentInfoTab]);return Object(react.useEffect)((function(){var _transcriptItemsRefs$2;1===currentInfoTab&&void 0!==currentTranscriptItem&&(null===(_transcriptItemsRefs$2=transcriptItemsRefs[currentTranscriptItem].current)||void 0===_transcriptItemsRefs$2||_transcriptItemsRefs$2.scrollIntoView(),setCurrentTranscriptItem(void 0))}),[currentInfoTab,currentTranscriptItem,transcriptItemsRefs]),Object(jsx_runtime.jsxs)(Container,{children:[Object(jsx_runtime.jsxs)(EventName,{children:[Object(jsx_runtime.jsx)("h1",{className:"mzp-u-title-sm",children:null===(_event$body3=event.body)||void 0===_event$body3?void 0:_event$body3.name}),Object(jsx_runtime.jsx)("p",{className:"mzp-c-card-desc",children:null===(_event$event_datetime2=event.event_datetime)||void 0===_event$event_datetime2?void 0:_event$event_datetime2.toLocaleString(language,{timeZone:municipality.timeZone,timeZoneName:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})})]}),Object(jsx_runtime.jsx)(SessionsContainer,{children:Object(jsx_runtime.jsx)(EventContainer_SessionsVideos,{eventVideoRefs:sessionVideoRefs.current,sessions:sessions,currentSession:currentSession,initialSeconds:initialSeconds,setCurrentSession:setCurrentSession})}),Object(jsx_runtime.jsx)(TranscriptSearchContainer,{children:Object(jsx_runtime.jsx)(TranscriptSearch.a,{searchQuery:searchQuery||"",sentences:sentences,jumpToVideoClip:jumpToVideoClip,jumpToTranscript:jumpToTranscript})}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(EventContainer_EventInfoTabs,{currentInfoTab:currentInfoTab,setCurrentInfoTab:setCurrentInfoTab,sentences:sentences,transcriptItemsRefs:transcriptItemsRefs,eventMinutesItems:eventMinutesItems,votes:votes,jumpToVideoClip:jumpToVideoClip})})]})};EventContainer_EventContainer.displayName="EventContainer";__webpack_exports__.a=EventContainer_EventContainer;try{EventContainer_EventContainer.displayName="EventContainer",EventContainer_EventContainer.__docgenInfo={description:"",displayName:"EventContainer",props:{initialSession:{defaultValue:null,description:"The initial session video",name:"initialSession",required:!0,type:{name:"number"}},initialSeconds:{defaultValue:null,description:"The initial current time of the intial session video",name:"initialSeconds",required:!0,type:{name:"number"}},searchQuery:{defaultValue:null,description:"The search query used to find the event",name:"searchQuery",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"The event",name:"event",required:!0,type:{name:"ECEvent"}},sessions:{defaultValue:null,description:"Session of the event",name:"sessions",required:!0,type:{name:"ECSession[]"}},sentences:{defaultValue:null,description:"Sentences for the event",name:"sentences",required:!0,type:{name:"FetchDataState<ECSentence[]>"}},eventMinutesItems:{defaultValue:null,description:"Event minutes items of the event",name:"eventMinutesItems",required:!0,type:{name:"ECEventMinutesItem[]"}},votes:{defaultValue:null,description:"Votes for the event",name:"votes",required:!0,type:{name:"ECVote[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/EventContainer/EventContainer.tsx#EventContainer"]={docgenInfo:EventContainer_EventContainer.__docgenInfo,name:"EventContainer",path:"src/containers/EventContainer/EventContainer.tsx#EventContainer"})}catch(__react_docgen_typescript_loader_error){}},"./src/containers/FetchDataContainer/LazyFetchDataContainer.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LazyFetchDataContainer=function LazyFetchDataContainer(_ref){var data=_ref.data,isLoading=_ref.isLoading,error=_ref.error,notFound=_ref.notFound,children=_ref.children;return isLoading?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Fetching "+data+"..."}):error?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:error.message}):notFound?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"No "+data+" found."}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:children})};__webpack_exports__.a=LazyFetchDataContainer;try{LazyFetchDataContainer.displayName="LazyFetchDataContainer",LazyFetchDataContainer.__docgenInfo={description:"The non-blocking version of `FetchDataContainer` -- pair with a component that lazily fetches data.",displayName:"LazyFetchDataContainer",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"Error | null"}},notFound:{defaultValue:null,description:"",name:"notFound",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/FetchDataContainer/LazyFetchDataContainer.tsx#LazyFetchDataContainer"]={docgenInfo:LazyFetchDataContainer.__docgenInfo,name:"LazyFetchDataContainer",path:"src/containers/FetchDataContainer/LazyFetchDataContainer.tsx#LazyFetchDataContainer"})}catch(__react_docgen_typescript_loader_error){}},"./src/containers/FetchDataContainer/useFetchData.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return initialFetchDataState})),__webpack_require__.d(__webpack_exports__,"a",(function(){return FetchDataActionType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useFetchData}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),_utils_createError__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/utils/createError.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var FetchDataActionType,initialFetchDataState={isLoading:!1,error:null,hasFetchRequest:!0};!function(FetchDataActionType){FetchDataActionType.FETCH_INIT="FETCH_INIT",FetchDataActionType.FETCH_SUCCESS="FETCH_SUCCESS",FetchDataActionType.FETCH_FAILURE="FETCH_FAILURE",FetchDataActionType.FETCH="FETCH"}(FetchDataActionType||(FetchDataActionType={}));function useFetchData(initialState,fetchData){var fetchDataReducer=function createFetchDataReducer(){return function(state,action){switch(action.type){case FetchDataActionType.FETCH_INIT:return Object.assign({},state,{isLoading:!0,error:null});case FetchDataActionType.FETCH_SUCCESS:return Object.assign({},state,{isLoading:!1,data:action.payload,hasFetchRequest:!1});case FetchDataActionType.FETCH_FAILURE:return Object.assign({},state,{isLoading:!1,error:action.payload,hasFetchRequest:!1});case FetchDataActionType.FETCH:return Object.assign({},state,{hasFetchRequest:!0});default:return state}}}(),_useReducer2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useReducer)(fetchDataReducer,initialState),2),state=_useReducer2[0],dispatch=_useReducer2[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var didCancel=!1,fetch=function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var data,error;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,dispatch({type:FetchDataActionType.FETCH_INIT}),_context.next=4,fetchData();case 4:data=_context.sent,didCancel||dispatch({type:FetchDataActionType.FETCH_SUCCESS,payload:data}),_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(0),didCancel||(error=Object(_utils_createError__WEBPACK_IMPORTED_MODULE_14__.a)(_context.t0),dispatch({type:FetchDataActionType.FETCH_FAILURE,payload:error}));case 11:case"end":return _context.stop()}}),_callee,null,[[0,8]])})));return function fetch(){return _ref.apply(this,arguments)}}();return state.hasFetchRequest&&fetch(),function(){didCancel=!0}}),[state.hasFetchRequest,fetchData]),{state:state,dispatch:dispatch}}},"./src/containers/PersonContainer/PersonContainer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"personWithoutVotes",(function(){return personWithoutVotes})),__webpack_require__.d(__webpack_exports__,"standardLayout",(function(){return standardLayout}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js");var constants=__webpack_require__("./src/models/constants.ts"),body=__webpack_require__("./src/stories/model-mocks/body.ts"),seat=__webpack_require__("./src/stories/model-mocks/seat.ts"),ten_years_councilmember={id:"10-year-role",title:constants.c.COUNCILMEMBER,start_datetime:new Date("1/1/2010"),person_ref:"person-test-id",seat:seat.a,seat_ref:"fake-ten_years_councilmember-id",external_source_id:"fake-role-external-id",body_ref:"body_ref",body:body.a},recent_chair={id:"recent-chair",title:constants.c.CHAIR,start_datetime:new Date("1/1/2020"),person_ref:"person-test-id",seat:seat.a,seat_ref:"fake-recent_chair-id",external_source_id:"fake-role-external-id",body:body.a},expired_chair=(new Date("2022-01-01T08:00:00.000Z"),constants.c.COUNCILMEMBER,new Date("2024-12-31T08:00:00.000Z"),{id:"expired-chair",title:constants.c.CHAIR,start_datetime:new Date("1/1/2018"),end_datetime:new Date("1/1/2020"),person_ref:"person-test-id",seat:seat.a,seat_ref:"fake-recent_chair-id",external_source_id:"fake-role-external-id",body:body.a}),person=(new Date("2022-01-05T08:00:00.000Z"),constants.c.MEMBER,new Date("2023-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),new Date("2022-01-05T08:00:00.000Z"),constants.c.CHAIR,new Date("2023-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),new Date("2022-01-04T08:00:00.000Z"),constants.c.MEMBER,new Date("2023-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),new Date("2022-01-04T08:00:00.000Z"),constants.c.ALTERNATE,new Date("2023-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),new Date("2022-01-04T08:00:00.000Z"),constants.c.VICE_CHAIR,new Date("2023-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),new Date("2022-01-01T08:00:00.000Z"),constants.c.COUNCILMEMBER,new Date("2024-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),new Date("2022-01-01T08:00:00.000Z"),constants.c.MEMBER,new Date("2024-12-31T08:00:00.000Z"),new Date("2022-01-11T22:00:00.000Z"),__webpack_require__("./src/stories/model-mocks/person.ts"));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js");function mockImageUrl(width,height,name){return"https://via.placeholder.com/"+width+"x"+height+"?text="+name.split(" ").join("+")}var PersonContainer=__webpack_require__("./src/containers/PersonContainer/PersonContainer.tsx"),useFetchData=__webpack_require__("./src/containers/FetchDataContainer/useFetchData.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PersonContainer_stories_Template=(__webpack_exports__.default={component:PersonContainer.a,title:"Library/Containers/Person"},function Template(args){return Object(jsx_runtime.jsx)(PersonContainer.a,Object.assign({},args))});PersonContainer_stories_Template.displayName="Template";var personWithoutVotes=PersonContainer_stories_Template.bind({});personWithoutVotes.args={person:person.a,councilMemberRoles:[ten_years_councilmember],roles:[expired_chair,recent_chair],personPictureSrc:Object.assign({},useFetchData.c,{data:mockImageUrl(400,400,"Avatar Face")}),seatPictureSrc:Object.assign({},useFetchData.c,{data:mockImageUrl(1400,800,"Electoral Seat")})};var standardLayout=PersonContainer_stories_Template.bind({});standardLayout.args={person:person.a,councilMemberRoles:[ten_years_councilmember],roles:[expired_chair,recent_chair],personPictureSrc:Object.assign({},useFetchData.c,{data:mockImageUrl(400,400,"Avatar Face")}),seatPictureSrc:Object.assign({},useFetchData.c,{data:mockImageUrl(1400,800,"Electoral Seat")})},personWithoutVotes.parameters=Object.assign({storySource:{source:"(args) => <PersonContainer {...args} />"}},personWithoutVotes.parameters),standardLayout.parameters=Object.assign({storySource:{source:"(args) => <PersonContainer {...args} />"}},standardLayout.parameters)},"./src/containers/PersonContainer/PersonContainer.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js");var react=__webpack_require__("./node_modules/react/index.js"),styled_browser_esm=__webpack_require__("./node_modules/@storybook/theming/node_modules/@emotion/styled/dist/styled.browser.esm.js"),useDocumentTitle=__webpack_require__("./src/hooks/useDocumentTitle.ts"),H2=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./src/components/Shared/H2.tsx")),colors=__webpack_require__("./src/styles/colors.ts"),fonts=__webpack_require__("./src/styles/fonts.ts"),LocalizedStrings=__webpack_require__("./src/assets/LocalizedStrings.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Contact=styled_browser_esm.a.div({"& > address > a:nth-of-type(2)":{marginTop:8},"& a":{display:"flex",alignItems:"center",columnGap:8},"& svg":{width:fonts.a.font_size_5,height:fonts.a.font_size_5,color:colors.a.black}}),ContactPerson_ContactPerson=function ContactPerson(_ref){var person=_ref.person;return person.phone||person.email||person.website?Object(jsx_runtime.jsxs)(Contact,{children:[Object(jsx_runtime.jsx)(H2.a,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:LocalizedStrings.a.contact}),(person.phone||person.email)&&Object(jsx_runtime.jsxs)("address",{children:[person.email&&Object(jsx_runtime.jsxs)("a",{className:"mzp-c-cta-link",href:"mailto:"+person.email,children:[Object(jsx_runtime.jsx)("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),person.email]}),person.phone&&Object(jsx_runtime.jsxs)("a",{className:"mzp-c-cta-link",href:"tel:"+person.phone,children:[Object(jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),person.phone]})]}),person.website&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("a",{className:"mzp-c-cta-link",target:"_blank",rel:"noopener noreferrer",href:person.website,children:LocalizedStrings.a.visit_persons_website.replace("{person_name}",person.name)})]})]}):null},PersonContainer_ContactPerson=ContactPerson_ContactPerson;try{ContactPerson_ContactPerson.displayName="ContactPerson",ContactPerson_ContactPerson.__docgenInfo={description:"",displayName:"ContactPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PersonContainer/ContactPerson.tsx#ContactPerson"]={docgenInfo:ContactPerson_ContactPerson.__docgenInfo,name:"ContactPerson",path:"src/containers/PersonContainer/ContactPerson.tsx#ContactPerson"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js");var _styled$div,PlaceHolder=__webpack_require__("./src/components/Shared/PlaceHolder.tsx"),ProjectConstants=__webpack_require__("./src/constants/ProjectConstants.ts"),mediaBreakpoints=__webpack_require__("./src/styles/mediaBreakpoints.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EXAMPLE_COVER_VIEW=ProjectConstants.a[Math.floor(Math.random()*ProjectConstants.a.length)],Images=styled_browser_esm.a.div(((_styled$div={position:"relative",height:150,"& img":{objectFit:"cover"}})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={height:400},_styled$div)),Seat=styled_browser_esm.a.img({width:"100%",height:"100%"}),Avatar=styled_browser_esm.a.img((function(props){var _ref;return(_ref={visibility:props.isLoading?"hidden":"visible",position:"absolute",left:-5,bottom:-35,width:100,height:100,borderRadius:"50%"})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={left:-25,width:200,height:200},_ref})),CoverImage_CoverImage=function CoverImage(_ref2){var personName=_ref2.personName,personPictureSrc=_ref2.personPictureSrc,seatPictureSrc=_ref2.seatPictureSrc,electoralArea=_ref2.electoralArea,_useState2=_slicedToArray(Object(react.useState)(!0),2),personPictureSrcIsLoading=_useState2[0],setPersonPictureSrcIsLoading=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!0),2),seatPictureSrcIsLoading=_useState4[0],setSeatPictureSrcIsLoading=_useState4[1];return Object(react.useEffect)((function(){null===personPictureSrc.data&&setPersonPictureSrcIsLoading(!1)}),[personPictureSrc.data]),Object(jsx_runtime.jsxs)(Images,{children:[Object(jsx_runtime.jsx)(PlaceHolder.a,{contentIsLoading:seatPictureSrcIsLoading||personPictureSrcIsLoading,children:Object(jsx_runtime.jsx)(Seat,{className:"mzp-c-card-image",src:null===seatPictureSrc.data?EXAMPLE_COVER_VIEW:seatPictureSrc.data,alt:""+(electoralArea||""),onLoad:function onLoad(){return setSeatPictureSrcIsLoading(!1)}})}),personPictureSrc.data&&Object(jsx_runtime.jsx)(Avatar,{isLoading:seatPictureSrcIsLoading||personPictureSrcIsLoading,className:"mzp-c-card-image",src:personPictureSrc.data,alt:"Picture of "+personName,onLoad:function onLoad(){return setPersonPictureSrcIsLoading(!1)}})]})};CoverImage_CoverImage.displayName="CoverImage";try{CoverImage_CoverImage.displayName="CoverImage",CoverImage_CoverImage.__docgenInfo={description:"",displayName:"CoverImage",props:{personName:{defaultValue:null,description:"",name:"personName",required:!0,type:{name:"string"}},personPictureSrc:{defaultValue:null,description:"",name:"personPictureSrc",required:!0,type:{name:"FetchDataState<string | null>"}},seatPictureSrc:{defaultValue:null,description:"",name:"seatPictureSrc",required:!0,type:{name:"FetchDataState<string | null>"}},electoralArea:{defaultValue:null,description:"",name:"electoralArea",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PersonContainer/CoverImage.tsx#CoverImage"]={docgenInfo:CoverImage_CoverImage.__docgenInfo,name:"CoverImage",path:"src/containers/PersonContainer/CoverImage.tsx#CoverImage"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js");var Loader=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),app=__webpack_require__("./src/app/index.ts"),useFetchModels=__webpack_require__("./src/hooks/useFetchModels.ts"),MatterSponsorService=__webpack_require__("./src/networking/MatterSponsorService.ts"),LazyFetchDataContainer=__webpack_require__("./src/containers/FetchDataContainer/LazyFetchDataContainer.tsx"),Details=__webpack_require__("./src/components/Shared/Details.tsx"),ShowMoreCards=__webpack_require__("./src/components/Shared/ShowMoreCards.tsx"),Shared_Ul=styled_browser_esm.a.ul((function(props){return{marginLeft:"1.25rem","& > li":{marginTop:props.gap}}}));try{Ul.displayName="Ul",Ul.__docgenInfo={description:"",displayName:"Ul",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},gap:{defaultValue:null,description:"",name:"gap",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Shared/Ul.tsx#Ul"]={docgenInfo:Ul.__docgenInfo,name:"Ul",path:"src/components/Shared/Ul.tsx#Ul"})}catch(__react_docgen_typescript_loader_error){}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var MattersSponsored_MattersSponsored=function MattersSponsored(_ref){var personId=_ref.personId,firebaseConfig=Object(app.a)().firebaseConfig,fetchMattersSponsoredFunctionCreator=Object(react.useCallback)((function(state){return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){var lastVisibleMatterSponsorId,matterSponsorService,mattersSponsored;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return lastVisibleMatterSponsorId=!state.fetchModels&&state.models.length>0?state.models[state.models.length-1].id:void 0,matterSponsorService=new MatterSponsorService.a(firebaseConfig),_context.next=4,matterSponsorService.getMattersSponsoredByPersonId(personId,state.batchSize,lastVisibleMatterSponsorId);case 4:return mattersSponsored=_context.sent,_context.abrupt("return",Promise.resolve(mattersSponsored));case 6:case"end":return _context.stop()}}),_callee)})))}),[firebaseConfig,personId]),_useFetchModels=Object(useFetchModels.b)({batchSize:25,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},fetchMattersSponsoredFunctionCreator),state=_useFetchModels.state,dispatch=_useFetchModels.dispatch,handleShowMoreMattersSponsored=Object(react.useCallback)((function(){return dispatch({type:useFetchModels.a.FETCH_MODELS,payload:!1})}),[dispatch]),hiddenContent=Object(react.useMemo)((function(){return Object(jsx_runtime.jsxs)(LazyFetchDataContainer.a,{data:"legislations",isLoading:state.fetchModels,error:state.error,notFound:!state.fetchModels&&0===state.models.length,children:[Object(jsx_runtime.jsx)(Shared_Ul,{gap:8,children:state.models.map((function(matterSponsored){var _matterSponsored$matt,_matterSponsored$matt2,_matterSponsored$matt3,_matterSponsored$matt4;return Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsxs)("dl",{children:[Object(jsx_runtime.jsx)("dt",{children:Object(jsx_runtime.jsx)(react_router_dom.b,{to:"/matters/"+(null===(_matterSponsored$matt2=matterSponsored.matter)||void 0===_matterSponsored$matt2?void 0:_matterSponsored$matt2.id),children:Object(jsx_runtime.jsx)("strong",{children:null===(_matterSponsored$matt3=matterSponsored.matter)||void 0===_matterSponsored$matt3?void 0:_matterSponsored$matt3.name})},null===(_matterSponsored$matt=matterSponsored.matter)||void 0===_matterSponsored$matt?void 0:_matterSponsored$matt.id)}),Object(jsx_runtime.jsx)("dd",{children:null===(_matterSponsored$matt4=matterSponsored.matter)||void 0===_matterSponsored$matt4?void 0:_matterSponsored$matt4.title})]})},matterSponsored.id)}))}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)(ShowMoreCards.a,{isVisible:!state.fetchModels&&state.hasMoreModels,children:Object(jsx_runtime.jsxs)("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:handleShowMoreMattersSponsored,children:[Object(jsx_runtime.jsx)("span",{children:LocalizedStrings.a.show_more}),Object(jsx_runtime.jsx)(Loader.a,{inline:!0,active:state.showMoreModels,size:"tiny"})]})})]})}),[state,handleShowMoreMattersSponsored]);return Object(jsx_runtime.jsx)("div",{style:{marginTop:16},children:Object(jsx_runtime.jsx)(Details.a,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:Object(jsx_runtime.jsx)(H2.a,{className:"mzp-u-title-xs",isInline:!0,children:LocalizedStrings.a.legislation_sponsored}),hiddenContent:hiddenContent})})};MattersSponsored_MattersSponsored.displayName="MattersSponsored";var PersonContainer_MattersSponsored=MattersSponsored_MattersSponsored;try{MattersSponsored_MattersSponsored.displayName="MattersSponsored",MattersSponsored_MattersSponsored.__docgenInfo={description:"",displayName:"MattersSponsored",props:{personId:{defaultValue:null,description:"",name:"personId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PersonContainer/MattersSponsored.tsx#MattersSponsored"]={docgenInfo:MattersSponsored_MattersSponsored.__docgenInfo,name:"MattersSponsored",path:"src/containers/PersonContainer/MattersSponsored.tsx#MattersSponsored"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.reduce.js");var constants=__webpack_require__("./src/models/constants.ts");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=RoleUtilities_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return RoleUtilities_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||RoleUtilities_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RoleUtilities_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return RoleUtilities_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RoleUtilities_arrayLikeToArray(o,minLen):void 0}}function RoleUtilities_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PersonRoles_slicedToArray(arr,i){return function PersonRoles_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PersonRoles_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PersonRoles_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PersonRoles_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PersonRoles_arrayLikeToArray(o,minLen)}(arr,i)||function PersonRoles_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PersonRoles_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PersonRoles_CommitteeMembership=function CommitteeMembership(_ref){var hasBorderBottom=_ref.hasBorderBottom,roles=_ref.roles,defaultOpen=_ref.defaultOpen,title=_ref.title;return Object(jsx_runtime.jsx)(Details.a,{hasBorderBottom:hasBorderBottom,defaultOpen:defaultOpen,summaryContent:title,hiddenContent:Object(jsx_runtime.jsx)(Shared_Ul,{gap:4,children:roles.map((function(role){var _role$body,_role$body2,_committees,_role$body3;return Object(jsx_runtime.jsxs)("li",{children:[Object(jsx_runtime.jsx)("strong",{children:LocalizedStrings.a[role.title.toLowerCase().replace(" ","_")]+": "}),Object(jsx_runtime.jsx)(react_router_dom.b,{to:{pathname:"/events",search:"?body="+(null===(_role$body=role.body)||void 0===_role$body?void 0:_role$body.id),state:{committees:(_committees={},_committees[null===(_role$body2=role.body)||void 0===_role$body2?void 0:_role$body2.id]=!0,_committees)}},children:Object(jsx_runtime.jsx)("strong",{children:""+(null===(_role$body3=role.body)||void 0===_role$body3?void 0:_role$body3.name)})})]},role.id)}))})})};PersonRoles_CommitteeMembership.displayName="CommitteeMembership";var PersonRoles_PersonRoles=function PersonRoles(_ref2){var councilMemberRoles=_ref2.councilMemberRoles,allRoles=_ref2.allRoles,municipality=Object(app.a)().municipality,language=Object(app.b)().language,_useMemo=Object(react.useMemo)((function(){var termRoles=function getUniqueTermRoles(roles){return _toConsumableArray(new Map(roles.map((function(role){return[(a=role.start_datetime,b=role.end_datetime,""+a.toISOString()+(null==b?void 0:b.toISOString())),role];var a,b}))).values()).sort((function(a,b){return b.start_datetime.getTime()-a.start_datetime.getTime()}))}(councilMemberRoles),_partitionNonTermRole=function partitionNonTermRoles(roles,termRoles){var nonTermRoles=roles.filter((function(role){return role.title!==constants.c.COUNCILMEMBER})),nonTermRoleTitles=[constants.c.COUNCILPRESIDENT,constants.c.CHAIR,constants.c.VICE_CHAIR,constants.c.SUPERVISOR,constants.c.MEMBER,constants.c.ALTERNATE];nonTermRoles.sort((function(a,b){return nonTermRoleTitles.indexOf(a.title)-nonTermRoleTitles.indexOf(b.title)}));var _step,partition=termRoles.reduce((function(obj,role){return obj[role.id]=[[],[]],obj}),{}),now=new Date,_iterator=_createForOfIteratorHelper(nonTermRoles);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,nonTermRole=_step.value,nonTermRoleEndDate=nonTermRole.end_datetime||now,_iterator2=_createForOfIteratorHelper(termRoles);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var termRole=_step2.value,termRoleEndDate=termRole.end_datetime||now;nonTermRoleEndDate>=termRole.start_datetime&&nonTermRoleEndDate<=termRoleEndDate&&(nonTermRoleEndDate>now?partition[termRole.id][0].push(nonTermRole):partition[termRole.id][1].push(nonTermRole))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return[partition,nonTermRoles]}(allRoles,termRoles),_partitionNonTermRole2=PersonRoles_slicedToArray(_partitionNonTermRole,2);return[termRoles,_partitionNonTermRole2[0],_partitionNonTermRole2[1]]}),[councilMemberRoles,allRoles]),_useMemo2=PersonRoles_slicedToArray(_useMemo,3),termRoles=_useMemo2[0],partitionedNonTermRoles=_useMemo2[1],nonTermRoles=_useMemo2[2];return 0===allRoles.length?null:0===termRoles.length&&nonTermRoles.length>0?Object(jsx_runtime.jsx)(PersonRoles_CommitteeMembership,{hasBorderBottom:!0,roles:nonTermRoles,defaultOpen:!1,title:Object(jsx_runtime.jsx)(H2.a,{isInline:!0,className:"mzp-u-title-xs",children:LocalizedStrings.a.committees})}):Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(H2.a,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:LocalizedStrings.a.terms}),Object(jsx_runtime.jsx)(Shared_Ul,{gap:16,children:termRoles.map((function(role){var _role$seat,_role$seat2,isCurrentRole=!role.end_datetime||role.end_datetime>new Date;return Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)(Details.a,{defaultOpen:isCurrentRole,summaryContent:Object(jsx_runtime.jsxs)("span",{style:{fontSize:fonts.a.font_size_6},children:[Object(jsx_runtime.jsx)("strong",{children:LocalizedStrings.a[role.title.toLowerCase().replace(" ","_")]+": "})," ",(null===(_role$seat=role.seat)||void 0===_role$seat?void 0:_role$seat.name)+" // "+(null===(_role$seat2=role.seat)||void 0===_role$seat2?void 0:_role$seat2.electoral_area)+" ("+role.start_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone})+" - "+(role.end_datetime?role.end_datetime.toLocaleDateString(language,{timeZone:municipality.timeZone}):"")+")"]}),hiddenContent:Object(jsx_runtime.jsxs)(Shared_Ul,{gap:8,children:[partitionedNonTermRoles[role.id][0].length>0&&Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)(PersonRoles_CommitteeMembership,{hasBorderBottom:!1,roles:partitionedNonTermRoles[role.id][0],defaultOpen:isCurrentRole,title:LocalizedStrings.a.committee_membership})}),partitionedNonTermRoles[role.id][1].length>0&&Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)(PersonRoles_CommitteeMembership,{hasBorderBottom:!1,roles:partitionedNonTermRoles[role.id][1],defaultOpen:!isCurrentRole,title:LocalizedStrings.a.former_committee_membership})})]})})},role.id)}))})]})};PersonRoles_PersonRoles.displayName="PersonRoles";var PersonContainer_PersonRoles=PersonRoles_PersonRoles;try{PersonRoles_PersonRoles.displayName="PersonRoles",PersonRoles_PersonRoles.__docgenInfo={description:"",displayName:"PersonRoles",props:{councilMemberRoles:{defaultValue:null,description:"The person's councilmember roles",name:"councilMemberRoles",required:!0,type:{name:"Role[]"}},allRoles:{defaultValue:null,description:"All of the person's roles",name:"allRoles",required:!0,type:{name:"Role[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PersonContainer/PersonRoles.tsx#PersonRoles"]={docgenInfo:PersonRoles_PersonRoles.__docgenInfo,name:"PersonRoles",path:"src/containers/PersonContainer/PersonRoles.tsx#PersonRoles"})}catch(__react_docgen_typescript_loader_error){}var VoteService=__webpack_require__("./src/networking/VoteService.ts"),VotingTable=__webpack_require__("./src/components/Tables/VotingTable/VotingTable.tsx");function PersonVotes_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PersonVotes_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PersonVotes_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PersonVotes_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var PersonVotes_PersonVotes=function PersonVotes(_ref){var personId=_ref.personId,personName=_ref.personName,firebaseConfig=Object(app.a)().firebaseConfig,fetchVotesFunctionCreator=Object(react.useCallback)((function(state){return PersonVotes_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var lastVisibleVoteId,voteService,votes;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return lastVisibleVoteId=!state.fetchModels&&state.models.length>0?state.models[state.models.length-1].id:void 0,voteService=new VoteService.a(firebaseConfig),_context.next=4,voteService.getFullyPopulatedVotesByPersonId(personId,state.batchSize,lastVisibleVoteId);case 4:return votes=_context.sent,_context.abrupt("return",Promise.resolve(votes));case 6:case"end":return _context.stop()}}),_callee)})))}),[firebaseConfig,personId]),_useFetchModels=Object(useFetchModels.b)({batchSize:25,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},fetchVotesFunctionCreator),state=_useFetchModels.state,dispatch=_useFetchModels.dispatch,handleShowMoreVotes=Object(react.useCallback)((function(){return dispatch({type:useFetchModels.a.FETCH_MODELS,payload:!1})}),[dispatch]),hiddenContent=Object(react.useMemo)((function(){return Object(jsx_runtime.jsxs)(LazyFetchDataContainer.a,{data:"votes",isLoading:state.fetchModels,error:state.error,notFound:!state.fetchModels&&0===state.models.length,children:[Object(jsx_runtime.jsx)(VotingTable.a,{name:personName,votesPage:state.models}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)(ShowMoreCards.a,{isVisible:!state.fetchModels&&state.hasMoreModels,children:Object(jsx_runtime.jsxs)("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:handleShowMoreVotes,children:[Object(jsx_runtime.jsx)("span",{children:LocalizedStrings.a.show_more}),Object(jsx_runtime.jsx)(Loader.a,{inline:!0,active:state.showMoreModels,size:"tiny"})]})})]})}),[personName,state,handleShowMoreVotes]);return Object(jsx_runtime.jsx)(Details.a,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:Object(jsx_runtime.jsx)(H2.a,{className:"mzp-u-title-xs",isInline:!0,children:LocalizedStrings.a.persons_voting_record.replace("{person_name}",personName)}),hiddenContent:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("br",{}),hiddenContent]})})};PersonVotes_PersonVotes.displayName="PersonVotes";var PersonContainer_PersonVotes=PersonVotes_PersonVotes;try{PersonVotes_PersonVotes.displayName="PersonVotes",PersonVotes_PersonVotes.__docgenInfo={description:"",displayName:"PersonVotes",props:{personId:{defaultValue:null,description:"",name:"personId",required:!0,type:{name:"string"}},personName:{defaultValue:null,description:"",name:"personName",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PersonContainer/PersonVotes.tsx#PersonVotes"]={docgenInfo:PersonVotes_PersonVotes.__docgenInfo,name:"PersonVotes",path:"src/containers/PersonContainer/PersonVotes.tsx#PersonVotes"})}catch(__react_docgen_typescript_loader_error){}var Person=styled_browser_esm.a.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),PageTitle=styled_browser_esm.a.h1({margin:0,"& > span:first-of-type":{fontSize:"inherit",fontWeight:"inherit"},"& > span:not(:first-of-type)":{fontSize:fonts.a.font_size_7},"& > span:nth-of-type(2)":{marginLeft:16,padding:"0px 8px",borderRadius:4,fontWeight:300},"& > span:nth-of-type(3)":{marginTop:16,display:"block",fontWeight:400}}),ContactAndRoles=styled_browser_esm.a.div((function(props){var _ref;return(_ref={display:props.isVisible?"grid":"none",rowGap:64,gridTemplateColumns:"1fr"})["@media (min-width:"+mediaBreakpoints.a.tablet+")"]={gridTemplateColumns:"auto 1fr",columnGap:128},_ref})),PersonContainer_PersonContainer=function PersonContainer(_ref2){var _mostRecentCouncilMem,person=_ref2.person,roles=_ref2.roles,councilMemberRoles=_ref2.councilMemberRoles,personPictureSrc=_ref2.personPictureSrc,seatPictureSrc=_ref2.seatPictureSrc,mostRecentCouncilMemberRole=councilMemberRoles.length>0?councilMemberRoles[0]:void 0,personIsActive=!(null!=mostRecentCouncilMemberRole&&mostRecentCouncilMemberRole.end_datetime)||(null==mostRecentCouncilMemberRole?void 0:mostRecentCouncilMemberRole.end_datetime)>new Date,hasContact=!!(person.phone||person.email||person.website),hasRoles=roles.length>0;return Object(useDocumentTitle.a)(person.name),Object(jsx_runtime.jsxs)(Person,{children:[Object(jsx_runtime.jsx)(CoverImage_CoverImage,{personName:person.name,personPictureSrc:personPictureSrc,seatPictureSrc:seatPictureSrc,electoralArea:null==mostRecentCouncilMemberRole||null===(_mostRecentCouncilMem=mostRecentCouncilMemberRole.seat)||void 0===_mostRecentCouncilMem?void 0:_mostRecentCouncilMem.electoral_area}),Object(jsx_runtime.jsxs)(PageTitle,{className:"mzp-u-title-sm",children:[Object(jsx_runtime.jsx)("span",{children:person.name}),mostRecentCouncilMemberRole&&Object(jsx_runtime.jsx)("span",{className:personIsActive?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:personIsActive?LocalizedStrings.a.active:LocalizedStrings.a.inactive}),(null==mostRecentCouncilMemberRole?void 0:mostRecentCouncilMemberRole.seat)&&Object(jsx_runtime.jsx)("span",{children:(null==mostRecentCouncilMemberRole?void 0:mostRecentCouncilMemberRole.seat.name)+" // "+mostRecentCouncilMemberRole.seat.electoral_area})]}),Object(jsx_runtime.jsxs)(ContactAndRoles,{isVisible:hasContact||hasRoles,children:[Object(jsx_runtime.jsx)(PersonContainer_ContactPerson,{person:person}),Object(jsx_runtime.jsx)(PersonContainer_PersonRoles,{councilMemberRoles:councilMemberRoles,allRoles:roles})]}),Object(jsx_runtime.jsx)(PersonContainer_MattersSponsored,{personId:person.id}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(PersonContainer_PersonVotes,{personId:person.id,personName:person.name})})]})};PersonContainer_PersonContainer.displayName="PersonContainer";__webpack_exports__.a=PersonContainer_PersonContainer;try{PersonContainer_PersonContainer.displayName="PersonContainer",PersonContainer_PersonContainer.__docgenInfo={description:"",displayName:"PersonContainer",props:{searchQuery:{defaultValue:null,description:"Any extra info",name:"searchQuery",required:!1,type:{name:"string"}},person:{defaultValue:null,description:"The person",name:"person",required:!0,type:{name:"Person"}},roles:{defaultValue:null,description:"roles held by the person with only body populated",name:"roles",required:!0,type:{name:"Role[]"}},councilMemberRoles:{defaultValue:null,description:"Councilmember roles with only seat populated",name:"councilMemberRoles",required:!0,type:{name:"Role[]"}},personPictureSrc:{defaultValue:null,description:"Picture src of the person",name:"personPictureSrc",required:!0,type:{name:"FetchDataState<string | null>"}},seatPictureSrc:{defaultValue:null,description:"Picture of the seat for the person's recent councilmember role",name:"seatPictureSrc",required:!0,type:{name:"FetchDataState<string | null>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/PersonContainer/PersonContainer.tsx#PersonContainer"]={docgenInfo:PersonContainer_PersonContainer.__docgenInfo,name:"PersonContainer",path:"src/containers/PersonContainer/PersonContainer.tsx#PersonContainer"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useDocumentTitle.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");__webpack_exports__.a=function useDocumentTitle(title){Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(null!=title&&""!==title){var originalTitle=document.title;return document.title=title,function(){document.title=originalTitle}}}),[title])}},"./src/hooks/useFetchModels.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FetchModelsActionType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useFetchModels}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js");var FetchModelsActionType,react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/index.js"),_utils_createError__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/utils/createError.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(FetchModelsActionType){FetchModelsActionType.FAILURE="FAILURE",FetchModelsActionType.SUCCESS="SUCCESS",FetchModelsActionType.FETCH_MODELS="FETCH_MODELS"}(FetchModelsActionType||(FetchModelsActionType={}));function useFetchModels(initialState,fetchModelsFunctionCreator){var _useReducer=Object(react__WEBPACK_IMPORTED_MODULE_14__.useReducer)(function createFetchModelsReducer(){return function(state,action){switch(action.type){case FetchModelsActionType.SUCCESS:return Object.assign({},state,{models:state.fetchModels?action.payload:[].concat(_toConsumableArray(state.models),_toConsumableArray(action.payload)),fetchModels:!1,showMoreModels:!1,hasMoreModels:action.payload.length===state.batchSize});case FetchModelsActionType.FAILURE:return Object.assign({},state,{error:action.payload,fetchModels:!1,showMoreModels:!1});case FetchModelsActionType.FETCH_MODELS:return Object.assign({},state,{error:null,fetchModels:action.payload,showMoreModels:!action.payload});default:return state}}}(),initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return Object(react__WEBPACK_IMPORTED_MODULE_14__.useEffect)((function(){var didCancel=!1,fetchModels=function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var models,error;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetchModelsFunctionCreator(state)();case 3:models=_context.sent,didCancel||dispatch({type:FetchModelsActionType.SUCCESS,payload:models}),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),didCancel||(error=Object(_utils_createError__WEBPACK_IMPORTED_MODULE_15__.a)(_context.t0),dispatch({type:FetchModelsActionType.FAILURE,payload:error}));case 10:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function fetchModels(){return _ref.apply(this,arguments)}}();return(state.fetchModels||state.showMoreModels)&&fetchModels(),function(){didCancel=!0}}),[state,state.batchSize,state.models,state.fetchModels,state.showMoreModels,fetchModelsFunctionCreator,dispatch]),{state:state,dispatch:dispatch}}},"./src/models/Body.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Body}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");var _utils_firestoreTimestampToDate__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/firestoreTimestampToDate.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Body=_createClass((function Body(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Body),this.id=void 0,this.description=void 0,this.end_datetime=void 0,this.external_source_id=void 0,this.is_active=void 0,this.name=void 0,this.start_datetime=void 0,this.id=jsonData.id,this.is_active=jsonData.is_active,this.start_datetime=Object(_utils_firestoreTimestampToDate__WEBPACK_IMPORTED_MODULE_4__.a)(jsonData.start_datetime),this.name=jsonData.name,jsonData.description&&(this.description=jsonData.description),jsonData.end_datetime&&(this.end_datetime=Object(_utils_firestoreTimestampToDate__WEBPACK_IMPORTED_MODULE_4__.a)(jsonData.end_datetime)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id)}))},"./src/models/Event.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");var _utils_firestoreTimestampToDate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/firestoreTimestampToDate.ts"),_File__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/models/File.ts"),_Body__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/models/Body.ts"),_firebase_firestore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Event=_createClass((function Event(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Event),this.id=void 0,this.agenda_uri=void 0,this.body_ref=void 0,this.body=void 0,this.event_datetime=void 0,this.external_source_id=void 0,this.hover_thumbnail_ref=void 0,this.hover_thumbnail=void 0,this.minutes_uri=void 0,this.static_thumbnail_ref=void 0,this.static_thumbnail=void 0,this.id=jsonData.id,this.event_datetime=Object(_utils_firestoreTimestampToDate__WEBPACK_IMPORTED_MODULE_1__.a)(jsonData.event_datetime),this.body_ref=jsonData.body_ref.id,jsonData.agenda_uri&&(this.agenda_uri=jsonData.agenda_uri),jsonData.minutes_uri&&(this.minutes_uri=jsonData.minutes_uri),"object"!=typeof jsonData.body_ref||jsonData.body_ref instanceof _firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.a||(this.body=new _Body__WEBPACK_IMPORTED_MODULE_3__.a(jsonData.body_ref)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),jsonData.hover_thumbnail_ref&&(jsonData.hover_thumbnail_ref instanceof _firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.a?this.hover_thumbnail_ref=jsonData.hover_thumbnail_ref.id:"object"==typeof jsonData.hover_thumbnail_ref&&(this.hover_thumbnail=new _File__WEBPACK_IMPORTED_MODULE_2__.a(jsonData.hover_thumbnail_ref))),jsonData.static_thumbnail_ref&&(jsonData.static_thumbnail_ref instanceof _firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.a?this.static_thumbnail_ref=jsonData.static_thumbnail_ref.id:"object"==typeof jsonData.static_thumbnail_ref&&(this.static_thumbnail=new _File__WEBPACK_IMPORTED_MODULE_2__.a(jsonData.static_thumbnail_ref)))}));__webpack_exports__.a=Event},"./src/models/EventMinutesItem.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EventMinutesItem_EventMinutesItem}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");var Event=__webpack_require__("./src/models/Event.ts"),Matter=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./src/models/Matter.ts")),index_esm2017=__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var MinutesItem_MinutesItem=_createClass((function MinutesItem(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MinutesItem),this.id=void 0,this.description=void 0,this.external_source_id=void 0,this.matter_ref=void 0,this.matter=void 0,this.name=void 0,this.id=jsonData.id,this.name=jsonData.name,jsonData.description&&(this.description=jsonData.description),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),jsonData.matter_ref&&(jsonData.matter_ref instanceof index_esm2017.a?this.matter_ref=jsonData.matter_ref.id:"object"==typeof jsonData.matter_ref&&(this.matter=new Matter.a(jsonData.matter_ref)))})),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/index.esm.js");function EventMinutesItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EventMinutesItem_createClass(Constructor,protoProps,staticProps){return protoProps&&EventMinutesItem_defineProperties(Constructor.prototype,protoProps),staticProps&&EventMinutesItem_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var EventMinutesItem_EventMinutesItem=EventMinutesItem_createClass((function EventMinutesItem(jsonData){!function EventMinutesItem_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventMinutesItem),this.id=void 0,this.decision=void 0,this.event_ref=void 0,this.event=void 0,this.external_source_id=void 0,this.index=void 0,this.minutes_item_ref=void 0,this.minutes_item=void 0,this.id=jsonData.id,jsonData.decision&&(this.decision=jsonData.decision),this.event_ref=jsonData.event_ref.id,"object"!=typeof jsonData.event_ref||jsonData.event_ref instanceof index_esm.a||(this.event=new Event.a(jsonData.event_ref)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),this.index=jsonData.index,this.minutes_item_ref=jsonData.minutes_item_ref.id,"object"!=typeof jsonData.minutes_item_ref||jsonData.minutes_item_ref instanceof index_esm.a||(this.minutes_item=new MinutesItem_MinutesItem(jsonData.minutes_item_ref))}))},"./src/models/File.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var File=_createClass((function File(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,File),this.id=void 0,this.uri=void 0,this.name=void 0,this.description=void 0,this.media_type=void 0,this.id=jsonData.id,this.uri=jsonData.uri,this.name=jsonData.name,jsonData.description&&(this.description=jsonData.description),jsonData.media_type&&(this.media_type=jsonData.media_type)}));__webpack_exports__.a=File},"./src/models/Matter.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Matter}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Matter=_createClass((function Matter(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Matter),this.id=void 0,this.external_source_id=void 0,this.matter_type=void 0,this.name=void 0,this.title=void 0,this.id=jsonData.id,this.matter_type=jsonData.matter_type,this.name=jsonData.name,this.title=jsonData.title,jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id)}))},"./src/models/Person.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");var _File__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/models/File.ts"),_firebase_firestore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Person=_createClass((function Person(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Person),this.id=void 0,this.name=void 0,this.email=void 0,this.phone=void 0,this.website=void 0,this.router_string=void 0,this.picture_ref=void 0,this.picture=void 0,this.is_active=void 0,this.external_source_id=void 0,this.id=jsonData.id,this.is_active=jsonData.is_active,this.name=jsonData.name,this.router_string=jsonData.router_string,jsonData.email&&(this.email=jsonData.email),jsonData.phone&&(this.phone=jsonData.phone),jsonData.website&&(this.website=jsonData.website),jsonData.picture_ref&&(jsonData.picture_ref instanceof _firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.a?this.picture_ref=jsonData.picture_ref.id:"object"==typeof jsonData.picture_ref&&(this.picture=new _File__WEBPACK_IMPORTED_MODULE_2__.a(jsonData.picture_ref))),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id)}));__webpack_exports__.a=Person},"./src/models/constants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var ROLE_TITLE,VOTE_DECISION,MATTER_STATUS_DECISION,EVENT_MINUTES_ITEM_DECISION;__webpack_require__.d(__webpack_exports__,"c",(function(){return ROLE_TITLE})),__webpack_require__.d(__webpack_exports__,"d",(function(){return VOTE_DECISION})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MATTER_STATUS_DECISION})),__webpack_require__.d(__webpack_exports__,"a",(function(){return EVENT_MINUTES_ITEM_DECISION})),function(ROLE_TITLE){ROLE_TITLE.ALTERNATE="Alternate",ROLE_TITLE.CHAIR="Chair",ROLE_TITLE.COUNCILMEMBER="Councilmember",ROLE_TITLE.MEMBER="Member",ROLE_TITLE.COUNCILPRESIDENT="Council President",ROLE_TITLE.VICE_CHAIR="Vice Chair",ROLE_TITLE.SUPERVISOR="Supervisor"}(ROLE_TITLE||(ROLE_TITLE={})),function(VOTE_DECISION){VOTE_DECISION.ABSTAIN_APPROVE="Abstain (Approve)",VOTE_DECISION.ABSTAIN_NON_VOTING="Abstain (Non-Voting)",VOTE_DECISION.ABSTAIN_REJECT="Abstain (Reject)",VOTE_DECISION.ABSENT_APPROVE="Absent (Approve)",VOTE_DECISION.ABSENT_NON_VOTING="Absent (Non-Voting)",VOTE_DECISION.ABSENT_REJECT="Absent (Reject)",VOTE_DECISION.APPROVE="Approve",VOTE_DECISION.REJECT="Reject"}(VOTE_DECISION||(VOTE_DECISION={})),function(MATTER_STATUS_DECISION){MATTER_STATUS_DECISION.ADOPTED="Adopted",MATTER_STATUS_DECISION.IN_PROGRESS="In Progress",MATTER_STATUS_DECISION.REJECTED="Rejected"}(MATTER_STATUS_DECISION||(MATTER_STATUS_DECISION={})),function(EVENT_MINUTES_ITEM_DECISION){EVENT_MINUTES_ITEM_DECISION.FAILED="Failed",EVENT_MINUTES_ITEM_DECISION.PASSED="Passed"}(EVENT_MINUTES_ITEM_DECISION||(EVENT_MINUTES_ITEM_DECISION={}))},"./src/networking/EventMinutesItemFileService.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EventMinutesItemFileService_EventMinutesItemFileService}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.create.js");var index_esm2017=__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js"),NetworkService=__webpack_require__("./src/networking/NetworkService.ts"),ModelService=__webpack_require__("./src/networking/ModelService.ts"),PopulationOptions=__webpack_require__("./src/networking/PopulationOptions.ts"),constants=__webpack_require__("./src/networking/constants.ts"),EventMinutesItem=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./src/models/EventMinutesItem.ts")),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/index.esm.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var EventMinutesItemFile_EventMinutesItemFile=_createClass((function EventMinutesItemFile(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventMinutesItemFile),this.id=void 0,this.event_minutes_item_ref=void 0,this.event_minutes_item=void 0,this.external_source_id=void 0,this.name=void 0,this.uri=void 0,this.id=jsonData.id,this.event_minutes_item_ref=jsonData.event_minutes_item_ref.id,"object"!=typeof jsonData.event_minutes_item_ref||jsonData.event_minutes_item_ref instanceof index_esm.a||(this.event_minutes_item=new EventMinutesItem.a(jsonData.event_minutes_item_ref)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),this.name=jsonData.name,this.uri=jsonData.uri}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventMinutesItemFileService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var EventMinutesItemFileService_EventMinutesItemFileService=function(_ModelService){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(EventMinutesItemFileService,_ModelService);var _getEventMinutesItemFilesByEventMinutesItemId,_super=_createSuper(EventMinutesItemFileService);function EventMinutesItemFileService(firebaseConfig){return function EventMinutesItemFileService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventMinutesItemFileService),_super.call(this,PopulationOptions.a.EventMinutesItemFile,firebaseConfig)}return function EventMinutesItemFileService_createClass(Constructor,protoProps,staticProps){return protoProps&&EventMinutesItemFileService_defineProperties(Constructor.prototype,protoProps),staticProps&&EventMinutesItemFileService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(EventMinutesItemFileService,[{key:"getEventMinutesItemFilesByEventMinutesItemId",value:(_getEventMinutesItemFilesByEventMinutesItemId=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(eventMinutesItemId){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.EventMinutesItemFile,[Object(index_esm2017.m)(PopulationOptions.d.EventMinutesItemFileEventMinutesItemRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.EventMinutesItem,eventMinutesItemId)),Object(index_esm2017.j)("name")]),_context.prev=1,_context.abrupt("return",this.createModels(networkQueryResponse,EventMinutesItemFile_EventMinutesItemFile,"getEventMinutesItemFilesByEventMinutesItemId("+eventMinutesItemId+")"));case 5:return _context.prev=5,_context.t0=_context.catch(1),_context.abrupt("return",Promise.resolve([]));case 8:case"end":return _context.stop()}}),_callee,this,[[1,5]])}))),function getEventMinutesItemFilesByEventMinutesItemId(_x){return _getEventMinutesItemFilesByEventMinutesItemId.apply(this,arguments)})}]),EventMinutesItemFileService}(ModelService.a)},"./src/networking/FileService.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FileService}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.create.js");var _ModelService__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/networking/ModelService.ts"),_PopulationOptions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/networking/PopulationOptions.ts"),_models_File__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/models/File.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var FileService=function(_ModelService){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(FileService,_ModelService);var _getFileById,_super=_createSuper(FileService);function FileService(firebaseConfig){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FileService),_super.call(this,_PopulationOptions__WEBPACK_IMPORTED_MODULE_8__.a.File,firebaseConfig)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(FileService,[{key:"getFileById",value:(_getFileById=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(id){var networkResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkResponse=this.networkService.getDocument(id,_PopulationOptions__WEBPACK_IMPORTED_MODULE_8__.a.File),_context.abrupt("return",this.createModel(networkResponse,_models_File__WEBPACK_IMPORTED_MODULE_9__.a,"getFileById("+id+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getFileById(_x){return _getFileById.apply(this,arguments)})}]),FileService}(_ModelService__WEBPACK_IMPORTED_MODULE_7__.a)},"./src/networking/MatterSponsorService.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MatterSponsorService_MatterSponsorService}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.create.js");var index_esm2017=__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js"),NetworkService=__webpack_require__("./src/networking/NetworkService.ts"),ModelService=__webpack_require__("./src/networking/ModelService.ts"),PopulationOptions=__webpack_require__("./src/networking/PopulationOptions.ts"),constants=__webpack_require__("./src/networking/constants.ts"),Matter=__webpack_require__("./src/models/Matter.ts"),Person=__webpack_require__("./src/models/Person.ts"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/index.esm.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var MatterSponsor_MatterSponsor=_createClass((function MatterSponsor(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MatterSponsor),this.id=void 0,this.matter=void 0,this.matter_ref=void 0,this.person=void 0,this.person_ref=void 0,this.external_source_id=void 0,this.id=jsonData.id,this.person_ref=jsonData.person_ref.id,this.matter_ref=jsonData.matter_ref.id,jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),"object"!=typeof jsonData.person_ref||jsonData.person_ref instanceof index_esm.a||(this.person=new Person.a(jsonData.person_ref)),"object"!=typeof jsonData.matter_ref||jsonData.matter_ref instanceof index_esm.a||(this.matter=new Matter.a(jsonData.matter_ref))}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function MatterSponsorService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var MatterSponsorService_MatterSponsorService=function(_ModelService){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(MatterSponsorService,_ModelService);var _getMattersSponsoredByPersonId,_getMatterSponsorByMatterId,_super=_createSuper(MatterSponsorService);function MatterSponsorService(firebaseConfig){return function MatterSponsorService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MatterSponsorService),_super.call(this,PopulationOptions.a.MatterSponsor,firebaseConfig)}return function MatterSponsorService_createClass(Constructor,protoProps,staticProps){return protoProps&&MatterSponsorService_defineProperties(Constructor.prototype,protoProps),staticProps&&MatterSponsorService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(MatterSponsorService,[{key:"getMatterSponsorByMatterId",value:(_getMatterSponsorByMatterId=_asyncToGenerator(regeneratorRuntime.mark((function _callee(matterId){var populatePerson,networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return populatePerson=new PopulationOptions.b(PopulationOptions.a.MatterSponsor,PopulationOptions.d.MatterSponsorPersonRef),networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.MatterSponsor,[Object(index_esm2017.m)(PopulationOptions.d.MatterSponsorMatterRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Matter,matterId))],new PopulationOptions.c([populatePerson])),_context.abrupt("return",this.createModels(networkQueryResponse,MatterSponsor_MatterSponsor,"getMatterSponsorByMatterId("+matterId+")"));case 3:case"end":return _context.stop()}}),_callee,this)}))),function getMatterSponsorByMatterId(_x){return _getMatterSponsorByMatterId.apply(this,arguments)})},{key:"getMattersSponsoredByPersonId",value:(_getMattersSponsoredByPersonId=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(personId,batchSize,lastVisibleMatterSponsorId){var populateMatter,queryConstraints,docRef,docSnap,networkQueryResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(populateMatter=new PopulationOptions.b(PopulationOptions.a.Matter,PopulationOptions.d.MatterSponsorMatterRef),(queryConstraints=[]).push(Object(index_esm2017.m)(PopulationOptions.d.MatterSponsorPersonRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Person,personId))),queryConstraints.push(Object(index_esm2017.j)(PopulationOptions.d.MatterSponsorMatterRef,constants.a.asc)),!lastVisibleMatterSponsorId){_context2.next=10;break}return docRef=Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.MatterSponsor,lastVisibleMatterSponsorId),_context2.next=8,Object(index_esm2017.e)(docRef);case 8:docSnap=_context2.sent,queryConstraints.push(Object(index_esm2017.l)(docSnap));case 10:return queryConstraints.push(Object(index_esm2017.i)(batchSize)),networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.MatterSponsor,queryConstraints,new PopulationOptions.c([populateMatter])),_context2.abrupt("return",this.createModels(networkQueryResponse,MatterSponsor_MatterSponsor,"getMattersSponsoredByPersonId("+personId+")"));case 13:case"end":return _context2.stop()}}),_callee2,this)}))),function getMattersSponsoredByPersonId(_x2,_x3,_x4){return _getMattersSponsoredByPersonId.apply(this,arguments)})}]),MatterSponsorService}(ModelService.a)},"./src/networking/ModelService.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ModelService_ModelService}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");var NetworkService=__webpack_require__("./src/networking/NetworkService.ts"),PopulationOptions=(__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./src/networking/PopulationOptions.ts"));var validateResponseData=function(responseData,modelName){try{var requiredPropertiesUnfulfilled=function getRequiredProperties(forCollection){switch(forCollection){case PopulationOptions.a.Body:return["id","is_active","start_datetime","name"];case PopulationOptions.a.Event:return["id","body_ref","event_datetime"];case PopulationOptions.a.EventMinutesItem:return["id","event_ref","index","minutes_item_ref"];case PopulationOptions.a.EventMinutesItemFile:return["id","event_minutes_item_ref","name","uri"];case PopulationOptions.a.File:return["id","name","uri"];case PopulationOptions.a.IndexedEventGram:return["id","context_span","datetime_weighted_value","event_ref","stemmed_gram","unstemmed_gram","value"];case PopulationOptions.a.Matter:return["id","matter_type","name","title"];case PopulationOptions.a.MatterFile:return["id","matter_ref","name","uri"];case PopulationOptions.a.MatterSponsor:return["id","matter_ref","person_ref"];case PopulationOptions.a.MatterStatus:return["id","matter_ref","status","update_datetime"];case PopulationOptions.a.MinutesItem:return["id","name"];case PopulationOptions.a.Person:return["id","is_active","name","router_string"];case PopulationOptions.a.Role:return["id","start_datetime","title","person_ref","seat_ref"];case PopulationOptions.a.Seat:return["id","name"];case PopulationOptions.a.Session:return["id","event_ref","session_datetime","session_index","video_uri"];case PopulationOptions.a.Transcript:return["id","confidence","created","generator","file_ref","session_ref"];case PopulationOptions.a.TranscriptJSON:return["confidence","generator","created_datetime","sentences"];case PopulationOptions.a.Vote:return["id","event_minutes_item_ref","event_ref","matter_ref","person_ref","decision"]}}(modelName).filter((function(property){return!responseData.hasOwnProperty(property)}));if(requiredPropertiesUnfulfilled.length>0)throw new Error("Missing properties: "+JSON.stringify(requiredPropertiesUnfulfilled));return}catch(error){return error instanceof Error?(error.message="validateResponseData_"+error.message,error):new Error("validateResponseData_somehow threw a incorrectly-typed error")}},createError=__webpack_require__("./src/utils/createError.ts"),NetworkResponse=__webpack_require__("./src/networking/NetworkResponse.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ModelService_ModelService=function(){function ModelService(modelName,firebaseConfig){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ModelService),this.networkService=void 0,this.modelName=void 0,this.serviceName=void 0,this.networkService=NetworkService.a.getInstance(firebaseConfig.options,firebaseConfig.settings),this.modelName=modelName;var modelNamePascalCase=modelName.split("_").map((function(el){return el[0].toUpperCase()+el.slice(1)})).join("");this.serviceName=modelNamePascalCase+"Service"}var _createModels,_createModel;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ModelService,[{key:"createModel",value:(_createModel=_asyncToGenerator(regeneratorRuntime.mark((function _callee(networkResponse,model,methodName){var _yield$networkRespons,data,error,validationError,_error;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,networkResponse;case 3:if(_yield$networkRespons=_context.sent,data=_yield$networkRespons.data,!(error=_yield$networkRespons.error)){_context.next=8;break}throw error;case 8:if(data){_context.next=10;break}throw new Error("No "+this.modelName+" found.");case 10:if(!(validationError=validateResponseData(data,this.modelName))){_context.next=13;break}throw validationError;case 13:return _context.abrupt("return",Promise.resolve(new model(data)));case 16:return _context.prev=16,_context.t0=_context.catch(0),(_error=Object(createError.a)(_context.t0)).message=this.serviceName+"_"+methodName+"_"+_error.message,_context.abrupt("return",Promise.reject(_error));case 21:case"end":return _context.stop()}}),_callee,this,[[0,16]])}))),function createModel(_x,_x2,_x3){return _createModel.apply(this,arguments)})},{key:"createModels",value:(_createModels=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(networkQueryResponse,model,methodName){var _yield$networkQueryRe,data,error,models,_error2,_this=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,networkQueryResponse;case 3:if(_yield$networkQueryRe=_context2.sent,data=_yield$networkQueryRe.data,!(error=_yield$networkQueryRe.error)){_context2.next=12;break}if(!(error instanceof NetworkResponse.c)){_context2.next=11;break}return _context2.abrupt("return",Promise.resolve([]));case 11:throw error;case 12:if(data&&0!==data.length){_context2.next=14;break}throw new Error("No "+this.modelName+"s found.");case 14:return models=data.map((function(datum){var validationError=validateResponseData(datum,_this.modelName);if(validationError)throw validationError;return new model(datum)})),_context2.abrupt("return",Promise.resolve(models));case 18:return _context2.prev=18,_context2.t0=_context2.catch(0),(_error2=Object(createError.a)(_context2.t0)).message=this.serviceName+"_"+methodName+"_"+_error2.message,_context2.abrupt("return",Promise.reject(_error2));case 23:case"end":return _context2.stop()}}),_callee2,this,[[0,18]])}))),function createModels(_x4,_x5,_x6){return _createModels.apply(this,arguments)})}]),ModelService}()},"./src/networking/NetworkResponse.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return NetworkResponse})),__webpack_require__.d(__webpack_exports__,"a",(function(){return NetworkQueryResponse})),__webpack_require__.d(__webpack_exports__,"c",(function(){return NoDocumentsError}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.create.js");function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var NetworkResponse=_createClass((function NetworkResponse(data,error){_classCallCheck(this,NetworkResponse),this.data=void 0,this.error=void 0,this.data=data,this.error=error})),NetworkQueryResponse=_createClass((function NetworkQueryResponse(data,error){_classCallCheck(this,NetworkQueryResponse),this.data=void 0,this.error=void 0,this.data=data,this.error=error})),NoDocumentsError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NoDocumentsError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(NoDocumentsError);function NoDocumentsError(collectionName){var _this;return _classCallCheck(this,NoDocumentsError),(_this=_super.call(this,"No documents found from querying "+collectionName)).name="NoDocumentsError",Object.setPrototypeOf(_assertThisInitialized(_this),(this instanceof NoDocumentsError?this.constructor:void 0).prototype),_this}return _createClass(NoDocumentsError)}(_wrapNativeSuper(Error))},"./src/networking/NetworkService.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NetworkService}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js");var firebase_app__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/firebase/app/dist/index.esm.js"),firebase_firestore__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/firebase/firestore/dist/index.esm.js"),_NetworkResponse__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/networking/NetworkResponse.ts"),firebase_storage__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/firebase/storage/dist/index.esm.js"),_PopulationOptions__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/networking/PopulationOptions.ts"),_utils_createError__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/utils/createError.ts");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var NetworkService=function(){function NetworkService(firebaseOptions,settings){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NetworkService);var firebaseApp=Object(firebase_app__WEBPACK_IMPORTED_MODULE_18__.a)(firebaseOptions);Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.g)(firebaseApp,settings),NetworkService.db=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.f)()}var _getDownloadUrl,_downloadJson,_getDocuments,_getDocument;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NetworkService,[{key:"collateDocumentData",value:function collateDocumentData(cascade,refsToPopulate,parent){return Promise.all(cascade).then((function(cascadeResponses){return cascadeResponses.forEach((function(cascadeResponse,index){parent.data&&(parent.data[refsToPopulate[index]]=cascadeResponse.data)})),Promise.resolve(parent)})).catch((function(error){return parent.error=error,Promise.resolve(parent)}))}},{key:"getDocument",value:(_getDocument=_asyncToGenerator(regeneratorRuntime.mark((function _callee(documentId,collectionName,populationOptions){var documentRef,response,_this=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return documentRef=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.c)(NetworkService.db,collectionName,documentId),response=new _NetworkResponse__WEBPACK_IMPORTED_MODULE_20__.b,_context.abrupt("return",Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.d)(documentRef).then((function(docSnap){if(!docSnap.exists())return Promise.reject(new Error("Document "+documentId+" does not exist in Collection "+collectionName+"."));var data=docSnap.data();if(!data)return Promise.reject(new Error("No data on docSnap."));if(data.id=docSnap.id,response.data=data,populationOptions&&populationOptions.toPopulate){var cascade=[],refsToPopulate=[];return populationOptions.toPopulate.filter((function(docRefToPopulate){return data[docRefToPopulate.refName]})).forEach((function(docRefToPopulate){var refValueToPopulate=data[docRefToPopulate.refName].id,refsCollection=Object(_PopulationOptions__WEBPACK_IMPORTED_MODULE_22__.e)(docRefToPopulate.refName);refValueToPopulate&&refsCollection&&(cascade.push(_this.getDocument(refValueToPopulate,refsCollection,docRefToPopulate.cascade)),refsToPopulate.push(docRefToPopulate.refName))})),_this.collateDocumentData(cascade,refsToPopulate,response)}return Promise.resolve(response)})).catch((function(error){return error.message="_getDocument_"+error.message,response.error=error,Promise.resolve(response)})));case 3:case"end":return _context.stop()}}),_callee)}))),function getDocument(_x,_x2,_x3){return _getDocument.apply(this,arguments)})},{key:"getDocuments",value:(_getDocuments=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(collectionName,queryConstraints,populationOptions){var collectionRef,q,response,querySnapshot,querySnapshotData,collatePromises,_loop,_iterator,_step,_doc,networkRespones,collatedData,_this2=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return collectionRef=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.b)(NetworkService.db,collectionName),q=firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.j.apply(void 0,[collectionRef].concat(_toConsumableArray(queryConstraints))),response=new _NetworkResponse__WEBPACK_IMPORTED_MODULE_20__.a,_context2.prev=3,_context2.next=6,Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_19__.e)(q);case 6:if(!(querySnapshot=_context2.sent).empty){_context2.next=9;break}throw new _NetworkResponse__WEBPACK_IMPORTED_MODULE_20__.c(collectionName);case 9:if(querySnapshotData=[],querySnapshot.forEach((function(doc){var docData=doc.data();if(!docData)return Promise.reject(new Error("No data on docSnap."));docData.id=doc.id,querySnapshotData.push(docData)})),!populationOptions||!populationOptions.toPopulate){_context2.next=24;break}collatePromises=[],_loop=function _loop(_doc){var cascade=[],refsToPopulate=[],parent=new _NetworkResponse__WEBPACK_IMPORTED_MODULE_20__.b;parent.data=_doc,populationOptions.toPopulate.filter((function(docRefToPopulate){return _doc[docRefToPopulate.refName]})).forEach((function(docRefToPopulate){var refValueToPopulate=_doc[docRefToPopulate.refName].id,refsCollection=Object(_PopulationOptions__WEBPACK_IMPORTED_MODULE_22__.e)(docRefToPopulate.refName);refValueToPopulate&&refsCollection&&(cascade.push(_this2.getDocument(refValueToPopulate,refsCollection,docRefToPopulate.cascade)),refsToPopulate.push(docRefToPopulate.refName))})),collatePromises.push(_this2.collateDocumentData(cascade,refsToPopulate,parent))},_iterator=_createForOfIteratorHelper(querySnapshotData);try{for(_iterator.s();!(_step=_iterator.n()).done;)_doc=_step.value,_loop(_doc)}catch(err){_iterator.e(err)}finally{_iterator.f()}return _context2.next=18,Promise.all(collatePromises);case 18:return networkRespones=_context2.sent,collatedData=networkRespones.map((function(_ref){return _ref.data})),response.data=collatedData,_context2.abrupt("return",Promise.resolve(response));case 24:return response.data=querySnapshotData,_context2.abrupt("return",Promise.resolve(response));case 26:_context2.next=32;break;case 28:return _context2.prev=28,_context2.t0=_context2.catch(3),response.error=Object(_utils_createError__WEBPACK_IMPORTED_MODULE_23__.a)(_context2.t0),_context2.abrupt("return",Promise.resolve(response));case 32:case"end":return _context2.stop()}}),_callee2,null,[[3,28]])}))),function getDocuments(_x4,_x5,_x6){return _getDocuments.apply(this,arguments)})},{key:"downloadJson",value:(_downloadJson=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(uri){var response,url,file,error;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return response=new _NetworkResponse__WEBPACK_IMPORTED_MODULE_20__.b,_context3.prev=1,_context3.next=4,this.getDownloadUrl(uri);case 4:return url=_context3.sent,_context3.next=7,fetch(url).then((function(res){return res.json()}));case 7:if(file=_context3.sent){_context3.next=10;break}throw new Error("No JSON found for uri: "+uri);case 10:response.data=file,_context3.next=17;break;case 13:_context3.prev=13,_context3.t0=_context3.catch(1),error=Object(_utils_createError__WEBPACK_IMPORTED_MODULE_23__.a)(_context3.t0),response.error=error;case 17:return _context3.prev=17,_context3.abrupt("return",Promise.resolve(response));case 20:case"end":return _context3.stop()}}),_callee3,this,[[1,13,17,20]])}))),function downloadJson(_x7){return _downloadJson.apply(this,arguments)})},{key:"getDownloadUrl",value:(_getDownloadUrl=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(uri){var storage,pathReference;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return storage=Object(firebase_storage__WEBPACK_IMPORTED_MODULE_21__.b)(),pathReference=Object(firebase_storage__WEBPACK_IMPORTED_MODULE_21__.c)(storage,uri),_context4.next=4,Object(firebase_storage__WEBPACK_IMPORTED_MODULE_21__.a)(pathReference);case 4:return _context4.abrupt("return",_context4.sent);case 5:case"end":return _context4.stop()}}),_callee4)}))),function getDownloadUrl(_x8){return _getDownloadUrl.apply(this,arguments)})}],[{key:"getInstance",value:function getInstance(firebaseOptions,settings){return NetworkService.instance||(NetworkService.instance=new NetworkService(firebaseOptions,settings)),NetworkService.instance}},{key:"getDb",value:function getDb(){return NetworkService.db}}]),NetworkService}();NetworkService.instance=void 0,NetworkService.db=void 0},"./src/networking/PopulationOptions.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return COLLECTION_NAME})),__webpack_require__.d(__webpack_exports__,"d",(function(){return REF_PROPERTY_NAME})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getCollectionForReference})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Populate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PopulationOptions}));var COLLECTION_NAME,REF_PROPERTY_NAME;__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getCollectionForReference(reference){switch(reference){case REF_PROPERTY_NAME.EventBodyRef:return COLLECTION_NAME.Body;case REF_PROPERTY_NAME.EventHoverThumbnailRef:case REF_PROPERTY_NAME.EventStaticThumbnailRef:return COLLECTION_NAME.File;case REF_PROPERTY_NAME.EventMinutesItemEventRef:return COLLECTION_NAME.Event;case REF_PROPERTY_NAME.EventMinutesItemMinutesItemRef:return COLLECTION_NAME.MinutesItem;case REF_PROPERTY_NAME.EventMinutesItemFileEventMinutesItemRef:return COLLECTION_NAME.EventMinutesItem;case REF_PROPERTY_NAME.IndexedEventGramEventRef:return COLLECTION_NAME.Event;case REF_PROPERTY_NAME.MatterFileMatterRef:return COLLECTION_NAME.Matter;case REF_PROPERTY_NAME.MatterStatusEventMinutesItemRef:return COLLECTION_NAME.EventMinutesItem;case REF_PROPERTY_NAME.MatterStatusMatterRef:case REF_PROPERTY_NAME.MatterSponsorMatterRef:return COLLECTION_NAME.Matter;case REF_PROPERTY_NAME.MatterSponsorPersonRef:return COLLECTION_NAME.Person;case REF_PROPERTY_NAME.MinutesItemMatterRef:return COLLECTION_NAME.Matter;case REF_PROPERTY_NAME.PersonPictureRef:return COLLECTION_NAME.File;case REF_PROPERTY_NAME.RoleBodyRef:return COLLECTION_NAME.Body;case REF_PROPERTY_NAME.RolePersonRef:return COLLECTION_NAME.Person;case REF_PROPERTY_NAME.RoleSeatRef:return COLLECTION_NAME.Seat;case REF_PROPERTY_NAME.SeatImageRef:return COLLECTION_NAME.File;case REF_PROPERTY_NAME.SessionEventRef:return COLLECTION_NAME.Event;case REF_PROPERTY_NAME.TranscriptFileRef:return COLLECTION_NAME.File;case REF_PROPERTY_NAME.TranscriptSessionRef:return COLLECTION_NAME.Session;case REF_PROPERTY_NAME.VoteEventMinutesItemRef:return COLLECTION_NAME.MinutesItem;case REF_PROPERTY_NAME.VoteEventRef:return COLLECTION_NAME.Event;case REF_PROPERTY_NAME.VoteMatterRef:return COLLECTION_NAME.Matter;case REF_PROPERTY_NAME.VotePersonRef:return COLLECTION_NAME.Person;default:return}}!function(COLLECTION_NAME){COLLECTION_NAME.Body="body",COLLECTION_NAME.Event="event",COLLECTION_NAME.EventMinutesItem="event_minutes_item",COLLECTION_NAME.EventMinutesItemFile="event_minutes_item_file",COLLECTION_NAME.File="file",COLLECTION_NAME.IndexedEventGram="indexed_event_gram",COLLECTION_NAME.Matter="matter",COLLECTION_NAME.MatterFile="matter_file",COLLECTION_NAME.MatterSponsor="matter_sponsor",COLLECTION_NAME.MatterStatus="matter_status",COLLECTION_NAME.MinutesItem="minutes_item",COLLECTION_NAME.Person="person",COLLECTION_NAME.Role="role",COLLECTION_NAME.Seat="seat",COLLECTION_NAME.Session="session",COLLECTION_NAME.Transcript="transcript",COLLECTION_NAME.TranscriptJSON="transcript_json",COLLECTION_NAME.Vote="vote"}(COLLECTION_NAME||(COLLECTION_NAME={})),function(REF_PROPERTY_NAME){REF_PROPERTY_NAME.EventBodyRef="body_ref",REF_PROPERTY_NAME.EventHoverThumbnailRef="hover_thumbnail_ref",REF_PROPERTY_NAME.EventStaticThumbnailRef="static_thumbnail_ref",REF_PROPERTY_NAME.EventMinutesItemEventRef="event_ref",REF_PROPERTY_NAME.EventMinutesItemMinutesItemRef="minutes_item_ref",REF_PROPERTY_NAME.EventMinutesItemFileEventMinutesItemRef="event_minutes_item_ref",REF_PROPERTY_NAME.IndexedEventGramEventRef="event_ref",REF_PROPERTY_NAME.MatterFileMatterRef="matter_ref",REF_PROPERTY_NAME.MatterStatusEventMinutesItemRef="event_minutes_item_ref",REF_PROPERTY_NAME.MatterStatusMatterRef="matter_ref",REF_PROPERTY_NAME.MatterSponsorMatterRef="matter_ref",REF_PROPERTY_NAME.MatterSponsorPersonRef="person_ref",REF_PROPERTY_NAME.MinutesItemMatterRef="matter_ref",REF_PROPERTY_NAME.PersonPictureRef="picture_ref",REF_PROPERTY_NAME.RoleBodyRef="body_ref",REF_PROPERTY_NAME.RolePersonRef="person_ref",REF_PROPERTY_NAME.RoleSeatRef="seat_ref",REF_PROPERTY_NAME.SeatImageRef="image_ref",REF_PROPERTY_NAME.SessionEventRef="event_ref",REF_PROPERTY_NAME.TranscriptFileRef="file_ref",REF_PROPERTY_NAME.TranscriptSessionRef="session_ref",REF_PROPERTY_NAME.VoteEventMinutesItemRef="event_minutes_item_ref",REF_PROPERTY_NAME.VoteEventRef="event_ref",REF_PROPERTY_NAME.VoteMatterRef="matter_ref",REF_PROPERTY_NAME.VotePersonRef="person_ref"}(REF_PROPERTY_NAME||(REF_PROPERTY_NAME={}));var Populate=_createClass((function Populate(collectionName,refName,cascade){_classCallCheck(this,Populate),this.collectionName=void 0,this.refName=void 0,this.cascade=void 0,this.collectionName=collectionName,this.refName=refName,this.cascade=cascade})),PopulationOptions=_createClass((function PopulationOptions(populate){_classCallCheck(this,PopulationOptions),this.toPopulate=void 0,this.toPopulate=populate}))},"./src/networking/VoteService.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return VoteService_VoteService}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.create.js");var index_esm2017=__webpack_require__("./node_modules/@firebase/firestore/dist/index.esm2017.js"),NetworkService=__webpack_require__("./src/networking/NetworkService.ts"),ModelService=__webpack_require__("./src/networking/ModelService.ts"),PopulationOptions=__webpack_require__("./src/networking/PopulationOptions.ts"),constants=__webpack_require__("./src/networking/constants.ts"),EventMinutesItem=__webpack_require__("./src/models/EventMinutesItem.ts"),Person=__webpack_require__("./src/models/Person.ts"),Event=__webpack_require__("./src/models/Event.ts"),Matter=__webpack_require__("./src/models/Matter.ts"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/index.esm.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var Vote_Vote=_createClass((function Vote(jsonData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Vote),this.id=void 0,this.decision=void 0,this.event_minutes_item_ref=void 0,this.event_minutes_item=void 0,this.event_ref=void 0,this.event=void 0,this.external_source_id=void 0,this.in_majority=void 0,this.matter_ref=void 0,this.matter=void 0,this.person_ref=void 0,this.person=void 0,this.id=jsonData.id,this.event_minutes_item_ref=jsonData.event_minutes_item_ref.id,this.event_ref=jsonData.event_ref.id,this.matter_ref=jsonData.matter_ref.id,this.person_ref=jsonData.person_ref.id,this.decision=jsonData.decision,"object"!=typeof jsonData.event_ref||jsonData.event_ref instanceof index_esm.a||(this.event=new Event.a(jsonData.event_ref)),"object"!=typeof jsonData.event_minutes_item_ref||jsonData.event_minutes_item_ref instanceof index_esm.a||(this.event_minutes_item=new EventMinutesItem.a(jsonData.event_minutes_item_ref)),jsonData.external_source_id&&(this.external_source_id=jsonData.external_source_id),jsonData.in_majority&&(this.in_majority=jsonData.in_majority),"object"!=typeof jsonData.matter_ref||jsonData.matter_ref instanceof index_esm.a||(this.matter=new Matter.a(jsonData.matter_ref)),"object"!=typeof jsonData.person_ref||jsonData.person_ref instanceof index_esm.a||(this.person=new Person.a(jsonData.person_ref))}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function VoteService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var VoteService_VoteService=function(_ModelService){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(VoteService,_ModelService);var _getFullyPopulatedVotesByPersonId,_getVotesByEventMinutesItemId,_getVotesByEventId,_super=_createSuper(VoteService);function VoteService(firebaseConfig){return function VoteService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VoteService),_super.call(this,PopulationOptions.a.Vote,firebaseConfig)}return function VoteService_createClass(Constructor,protoProps,staticProps){return protoProps&&VoteService_defineProperties(Constructor.prototype,protoProps),staticProps&&VoteService_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VoteService,[{key:"getVotesByEventId",value:(_getVotesByEventId=_asyncToGenerator(regeneratorRuntime.mark((function _callee(eventId){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Vote,[Object(index_esm2017.m)(PopulationOptions.d.VoteEventRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Event,eventId)),Object(index_esm2017.j)(PopulationOptions.d.VotePersonRef)],new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.Person,PopulationOptions.d.VotePersonRef)])),_context.abrupt("return",this.createModels(networkQueryResponse,Vote_Vote,"getVotesByEventId("+eventId+")"));case 2:case"end":return _context.stop()}}),_callee,this)}))),function getVotesByEventId(_x){return _getVotesByEventId.apply(this,arguments)})},{key:"getVotesByEventMinutesItemId",value:(_getVotesByEventMinutesItemId=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(eventMinutesItemId){var networkQueryResponse;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Vote,[Object(index_esm2017.m)(PopulationOptions.d.VoteEventMinutesItemRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.EventMinutesItem,eventMinutesItemId))],new PopulationOptions.c([new PopulationOptions.b(PopulationOptions.a.Person,PopulationOptions.d.VotePersonRef)])),_context2.abrupt("return",this.createModels(networkQueryResponse,Vote_Vote,"getVotesByEventMinutesItemId("+eventMinutesItemId+")"));case 2:case"end":return _context2.stop()}}),_callee2,this)}))),function getVotesByEventMinutesItemId(_x2){return _getVotesByEventMinutesItemId.apply(this,arguments)})},{key:"getFullyPopulatedVotesByPersonId",value:(_getFullyPopulatedVotesByPersonId=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(personId,batchSize,lastVisibleVoteId){var populateMatter,populateEventBody,populateEventBodyCascade,populateEvent,populateEventMinutesItem,queryConstraints,docRef,docSnap,networkQueryResponse;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(populateMatter=new PopulationOptions.b(PopulationOptions.a.Matter,PopulationOptions.d.VoteMatterRef),populateEventBody=new PopulationOptions.b(PopulationOptions.a.Body,PopulationOptions.d.EventBodyRef),populateEventBodyCascade=new PopulationOptions.c([populateEventBody]),populateEvent=new PopulationOptions.b(PopulationOptions.a.Event,PopulationOptions.d.VoteEventRef,populateEventBodyCascade),populateEventMinutesItem=new PopulationOptions.b(PopulationOptions.a.EventMinutesItem,PopulationOptions.d.VoteEventMinutesItemRef),(queryConstraints=[]).push(Object(index_esm2017.m)(PopulationOptions.d.VotePersonRef,constants.c.eq,Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Person,personId))),queryConstraints.push(Object(index_esm2017.j)(PopulationOptions.d.VoteEventRef,constants.a.asc)),!lastVisibleVoteId){_context3.next=14;break}return docRef=Object(index_esm2017.d)(NetworkService.a.getDb(),PopulationOptions.a.Vote,lastVisibleVoteId),_context3.next=12,Object(index_esm2017.e)(docRef);case 12:docSnap=_context3.sent,queryConstraints.push(Object(index_esm2017.l)(docSnap));case 14:return queryConstraints.push(Object(index_esm2017.i)(batchSize)),networkQueryResponse=this.networkService.getDocuments(PopulationOptions.a.Vote,queryConstraints,new PopulationOptions.c([populateMatter,populateEvent,populateEventMinutesItem])),_context3.abrupt("return",this.createModels(networkQueryResponse,Vote_Vote,"getFullyPopulatedVotesByPersonId("+personId+")"));case 17:case"end":return _context3.stop()}}),_callee3,this)}))),function getFullyPopulatedVotesByPersonId(_x3,_x4,_x5){return _getFullyPopulatedVotesByPersonId.apply(this,arguments)})}]),VoteService}(ModelService.a)},"./src/networking/constants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var WHERE_OPERATOR,ORDER_DIRECTION;__webpack_require__.d(__webpack_exports__,"c",(function(){return WHERE_OPERATOR})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ORDER_DIRECTION})),__webpack_require__.d(__webpack_exports__,"b",(function(){return OR_QUERY_LIMIT_NUM})),function(WHERE_OPERATOR){WHERE_OPERATOR.lt="<",WHERE_OPERATOR.lteq="<=",WHERE_OPERATOR.eq="==",WHERE_OPERATOR.gt=">",WHERE_OPERATOR.gteq=">=",WHERE_OPERATOR.not_eq="!=",WHERE_OPERATOR.array_contains="array-contains",WHERE_OPERATOR.array_contains_any="array-contains-any",WHERE_OPERATOR.in="in",WHERE_OPERATOR.not_in="not-in"}(WHERE_OPERATOR||(WHERE_OPERATOR={})),function(ORDER_DIRECTION){ORDER_DIRECTION.asc="asc",ORDER_DIRECTION.desc="desc"}(ORDER_DIRECTION||(ORDER_DIRECTION={}));var OR_QUERY_LIMIT_NUM=10},"./src/pages/SearchPage/types.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var SEARCH_TYPE;__webpack_require__.d(__webpack_exports__,"a",(function(){return SEARCH_TYPE})),function(SEARCH_TYPE){SEARCH_TYPE.EVENT="events",SEARCH_TYPE.LEGISLATION="legislations"}(SEARCH_TYPE||(SEARCH_TYPE={}))},"./src/stories/Introduction.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js"),_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/stories/assets/code-brackets.svg"),_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_8__),_assets_colors_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/stories/assets/colors.svg"),_assets_colors_svg__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_assets_colors_svg__WEBPACK_IMPORTED_MODULE_9__),_assets_comments_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/stories/assets/comments.svg"),_assets_comments_svg__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_assets_comments_svg__WEBPACK_IMPORTED_MODULE_10__),_assets_direction_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/stories/assets/direction.svg"),_assets_direction_svg__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_assets_direction_svg__WEBPACK_IMPORTED_MODULE_11__),_assets_flow_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/stories/assets/flow.svg"),_assets_flow_svg__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_assets_flow_svg__WEBPACK_IMPORTED_MODULE_12__),_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/stories/assets/plugin.svg"),_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_13__),_assets_repo_svg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/stories/assets/repo.svg"),_assets_repo_svg__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_assets_repo_svg__WEBPACK_IMPORTED_MODULE_14__),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/stories/assets/stackalt.svg"),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_15__),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_7__.a,{title:"Getting Started/Introduction",parameters:{options:{isToolshown:!1}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("style",null,"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000040;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: black;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: hsla(200, 98%, 55%, 0.314);\n    color: hsla(200, 98%, 55%, 0.95);\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: hsla(200, 98%, 55%);\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h1",{id:"council-data-project"},"Council Data Project"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"Welcome to the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{parentName:"p",href:"https://councildataproject.github.io/",target:"_blank",rel:"nofollow noopener noreferrer"},"Council Data Project")," frontend component library."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"Council Data Project is an open-source project dedicated to providing journalists, activists,\nresearchers, and all members of each community we serve with the tools they need to stay informed\nand hold their Council Members accountable."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"By combining and simplifying sources of information on Council meetings and actions, CDP ensures\nthat everyone is empowered to participate in local government."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,'Each municipality that CDP supports (a "',Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("em",{parentName:"p"},"CDP Instance"),'") has open source maintainers which write code\nto gather municipality meeting information and compile them into a single resource to then be\nprocessed, stored, and made accessible by our general CDP tooling.'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h1",{id:"cdp-frontend"},"CDP Frontend"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"This ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{parentName:"p",href:"https://github.com/CouncilDataProject/cdp-frontend",target:"_blank",rel:"nofollow noopener noreferrer"},"repo")," / storybook contains all of the\ncomponents used to create the frontend of CDP instances deployed to each municipality. Contributions\nhere will be made available to all CDP instances. The components are written in TypeScript and React\nand use the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{parentName:"p",href:"https://protocol.mozilla.org/",target:"_blank",rel:"nofollow noopener noreferrer"},"Mozilla Protocol Design System")," for styling."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h1",{id:"storybook"},"Storybook"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"This component library is also developed using Storybook. Below you can find documentation and\nguides for getting up and running with Storybook."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"Storybook helps you build UI components in isolation from an app's business logic, data, and context.\nThat makes it easy to develop hard-to-reach states. Save these UI states as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"p"},"stories")," to revisit during\ndevelopment, testing, or QA."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("div",{class:"subheading"},"Learn"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("div",{class:"link-list"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://storybook.js.org/docs",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_repo_svg__WEBPACK_IMPORTED_MODULE_14___default.a,alt:"repo"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"Storybook documentation"),"Configure, customize, and extend")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://www.learnstorybook.com",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_direction_svg__WEBPACK_IMPORTED_MODULE_11___default.a,alt:"direction"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"In-depth guides"),"Best practices from leading teams")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://github.com/storybookjs/storybook",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_8___default.a,alt:"code"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"GitHub project"),"View the source and add issues")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://discord.gg/UUt2PJb",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_comments_svg__WEBPACK_IMPORTED_MODULE_10___default.a,alt:"comments"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"Discord chat"),"Chat with maintainers and the community"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("div",{class:"subheading"},"Configure"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("div",{class:"link-list"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://storybook.js.org/docs/react/api/presets",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_13___default.a,alt:"plugin"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"Presets for popular tools"),"Easy setup for TypeScript, SCSS and more.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://storybook.js.org/docs/react/configure/webpack",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_15___default.a,alt:"Build"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"Build configuration"),"How to customize webpack and Babel")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://storybook.js.org/docs/react/configure/styling-and-css",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_colors_svg__WEBPACK_IMPORTED_MODULE_9___default.a,alt:"colors"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"Styling"),"How to load and configure CSS libraries")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{class:"link-item",href:"https://storybook.js.org/docs/react/get-started/setup#configure-storybook-for-your-stack",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("img",{src:_assets_flow_svg__WEBPACK_IMPORTED_MODULE_12___default.a,alt:"flow"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("span",{class:"link-list-text"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",null,"Data"),"Providers and mocking for data libraries"))))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Getting Started/Introduction",parameters:{options:{isToolshown:!1}},includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},"./src/stories/assets/code-brackets.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/code-brackets.2e1112d7.svg"},"./src/stories/assets/colors.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/colors.a4bd0486.svg"},"./src/stories/assets/comments.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/comments.a3859089.svg"},"./src/stories/assets/direction.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/direction.b770f9af.svg"},"./src/stories/assets/flow.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/flow.edad2ac1.svg"},"./src/stories/assets/plugin.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/plugin.d494b228.svg"},"./src/stories/assets/repo.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/repo.6d496322.svg"},"./src/stories/assets/stackalt.svg":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/stackalt.dba9fbb3.svg"},"./src/stories/model-mocks/body.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return basicBody}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js");var basicBody={id:"basic-id",name:"Illustrious Test Board of Experimental Confirmation",description:"A board for testing.",start_datetime:new Date("1/1/2019"),end_datetime:new Date("1/1/2020"),is_active:!0,external_source_id:"test-basicBody-external-id"}},"./src/stories/model-mocks/event.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return basicEvent})),__webpack_require__.d(__webpack_exports__,"b",(function(){return eventWithRealImages}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js");var _body__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/stories/model-mocks/body.ts"),basicEvent={id:"event-id",external_source_id:"external-id",event_datetime:new Date,body_ref:"body-ref"},eventWithRealImages=Object.assign({},basicEvent,{body:_body__WEBPACK_IMPORTED_MODULE_2__.a,static_thumbnail_ref:"e22f322a21e7",hover_thumbnail_ref:"da4673e5f412"})},"./src/stories/model-mocks/eventMinutesItem.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return basicPassEventMinutesItem})),__webpack_require__.d(__webpack_exports__,"a",(function(){return basicFailEventMinutesItem})),__webpack_require__.d(__webpack_exports__,"c",(function(){return nonVotingEventMinutesItem}));var _models_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/models/constants.ts"),_event__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/stories/model-mocks/event.ts"),basicPassEventMinutesItem={id:"f156c87a64f3",decision:_models_constants__WEBPACK_IMPORTED_MODULE_0__.a.PASSED,event_ref:"0b72b75170ec",event:_event__WEBPACK_IMPORTED_MODULE_1__.a,index:234,minutes_item_ref:"e8a7fb715ea4"},basicFailEventMinutesItem={id:"93790abe707e",decision:_models_constants__WEBPACK_IMPORTED_MODULE_0__.a.FAILED,event_ref:"0b72b75170ec",event:_event__WEBPACK_IMPORTED_MODULE_1__.a,index:11,minutes_item_ref:"f5bf0a305"},nonVotingEventMinutesItem={id:"9b7fc6d73e64",event_ref:"3c761f4cbd22",event:_event__WEBPACK_IMPORTED_MODULE_1__.a,index:7,minutes_item_ref:"dc66d09feffb"}},"./src/stories/model-mocks/file.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return mockImageFile}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js");function mockImageFile(width,height,name){return{uri:"https://via.placeholder.com/"+width+"x"+height+"?text="+name.split(" ").join("+"),id:"test-picture-"+name,name:name+".jpg",description:"a populated test pic",media_type:"jpeg"}}},"./src/stories/model-mocks/matter.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return basicMatter}));var basicMatter={id:"matter id",external_source_id:"basicMatter external source id",matter_type:"basicMatter type",name:"CBAS TEST MATTER 123.4",title:"AN ORDINANCE creating an Indigenous Advisory Council for tribal and urban Indian engagement; adding a new Chapter 3.75 to the Seattle Municipal Code; and amending Section 3.35.050 of the Seattle Municipal Code."}},"./src/stories/model-mocks/matterStatus.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return adoptedMatterStatus})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rejectedMatterStatus})),__webpack_require__.d(__webpack_exports__,"b",(function(){return inProgressMatterStatus}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js");var _models_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/models/constants.ts"),_matter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/stories/model-mocks/matter.ts"),_eventMinutesItem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/stories/model-mocks/eventMinutesItem.ts"),adoptedMatterStatus={id:"adoptedMatterStatus-test",event_minutes_item_ref:"event_minutes_item_ref",event_minutes_item:_eventMinutesItem__WEBPACK_IMPORTED_MODULE_3__.b,external_source_id:"external_source_id",matter_ref:"matter_ref",matter:_matter__WEBPACK_IMPORTED_MODULE_2__.a,status:_models_constants__WEBPACK_IMPORTED_MODULE_1__.b.ADOPTED,update_datetime:new Date},rejectedMatterStatus={id:"rejectedMatterStatus-test",event_minutes_item_ref:"event_minutes_item_ref",event_minutes_item:_eventMinutesItem__WEBPACK_IMPORTED_MODULE_3__.b,external_source_id:"external_source_id",matter_ref:"matter_ref",matter:_matter__WEBPACK_IMPORTED_MODULE_2__.a,status:_models_constants__WEBPACK_IMPORTED_MODULE_1__.b.REJECTED,update_datetime:new Date},inProgressMatterStatus={id:"inProgressMatterStatus-test",event_minutes_item_ref:"event_minutes_item_ref",event_minutes_item:_eventMinutesItem__WEBPACK_IMPORTED_MODULE_3__.b,external_source_id:"external_source_id",matter_ref:"matter_ref",matter:_matter__WEBPACK_IMPORTED_MODULE_2__.a,status:_models_constants__WEBPACK_IMPORTED_MODULE_1__.b.IN_PROGRESS,update_datetime:new Date}},"./src/stories/model-mocks/person.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return basicPerson})),__webpack_require__.d(__webpack_exports__,"b",(function(){return realPerson}));var _file__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/stories/model-mocks/file.ts"),basicPerson={id:"test-id",name:"R.J. Person",email:"test-person@test.com",phone:"206-867-5309",website:"https://www.google.com",picture:Object(_file__WEBPACK_IMPORTED_MODULE_0__.a)(400,400,"Avatar Face"),router_string:"test.person",is_active:!0},realPerson={id:"975edb7a71f6",name:"Teresa Mosqueda",email:"Teresa.Mosqueda@seattle.gov",phone:"206-867-5309",website:"http://www.seattle.gov/council/mosqueda",picture:void 0,picture_ref:"e2ac924a1884",router_string:"teresa-mosqueda",is_active:!0}},"./src/stories/model-mocks/seat.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return basicSeat})),__webpack_require__.d(__webpack_exports__,"b",(function(){return realSeat})),__webpack_require__.d(__webpack_exports__,"c",(function(){return realSeatNoImage}));var _file__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/stories/model-mocks/file.ts"),basicSeat={id:"basic-seat",name:"Splendid Test Seat",electoral_area:"Shady Pines Test Neighborhood",image_ref:"mock-image-ref-to-electoral-seat-pic",image:Object(_file__WEBPACK_IMPORTED_MODULE_0__.a)(1400,800,"Electoral Seat"),external_source_id:"test-external-source-id"},realSeat={id:"a3c0719eef4a",electoral_area:"West Seattle",electoral_type:void 0,external_source_id:void 0,image_ref:"1607b20993bf",name:"Position 1"},realSeatNoImage={id:"a3c0719eef4a",electoral_area:"West Seattle",electoral_type:void 0,external_source_id:void 0,image_ref:void 0,name:"Position 1"}},"./src/stories/model-mocks/sentence.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";function mockSentences(numSessions,numSentences){for(var sentences=[],sessionIndex=0;sessionIndex<numSessions;sessionIndex++)for(var sentenceIndex=0;sentenceIndex<numSentences;sentenceIndex++)sentences.push({session_index:sessionIndex,index:sessionIndex*numSentences+sentenceIndex,start_time:sentenceIndex,text:"This is a sentence "+(sessionIndex*numSentences+sentenceIndex)+".",speaker_index:sentenceIndex,speaker_name:"Speaker "+sentenceIndex});return sentences}__webpack_require__.d(__webpack_exports__,"a",(function(){return mockSentences}))},"./src/stories/model-mocks/vote.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return voteList})),__webpack_require__.d(__webpack_exports__,"c",(function(){return voteListWithBrokenVote})),__webpack_require__.d(__webpack_exports__,"a",(function(){return generatePopulatedVoteList}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js");var _models_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/models/constants.ts"),_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/stories/model-mocks/eventMinutesItem.ts"),_person__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/stories/model-mocks/person.ts"),_event__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/stories/model-mocks/event.ts"),voteList=(_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.b,new Date,new Date,new Date,[{id:"0ff26eda838f",event_minutes_item_ref:"6e58df20b7d2",event_ref:"9409f4d1ea09",matter_ref:"a5dae0358d16",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"9409f4d1ea09",event_datetime:new Date("2021-09-14T21:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/12/4931_M_Governance_and_Education_Committee_21-12-08_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4931",hover_thumbnail_ref:"beac68321431",static_thumbnail_ref:"9b8285f74dee"},event_minutes_item:_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.a,external_source_id:"71708",in_majority:!0,matter:{id:"a5dae0358d16",matter_type:"Resolution (Res)",name:"Res 32029",title:"A RESOLUTION adopting General Rules and Procedures of the Seattle City Council; superseding Resolution 31920.",external_source_id:"12263"}},{id:"3112a281ad8a",event_minutes_item_ref:"3f7fff017660",event_ref:"4bf610d2947e",matter_ref:"f8f243934834",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"4bf610d2947e",event_datetime:new Date("2021-09-14T21:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/9/4873_M_Governance_and_Education_Committee_21-09-14_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4873",hover_thumbnail_ref:"e5f6c0cfa3c3",static_thumbnail_ref:"33d0ab4c2d57"},event_minutes_item:_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.b,external_source_id:"68102",in_majority:!0,matter:{id:"f8f243934834",matter_type:"Ordinance (Ord)",name:"CB 120172",title:"AN ORDINANCE relating to City employment, commonly referred to as the Third Quarter 2021 Employment Ordinance; returning positions to the civil service system; and amending classification titles.",external_source_id:"11970"}},{id:"54d8d3d81639",event_minutes_item_ref:"e69f7fb7ba0b",event_ref:"4bf610d2947e",matter_ref:"00537b8c72c1",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"4bf610d2947e",event_datetime:new Date("2021-09-14T21:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/9/4873_M_Governance_and_Education_Committee_21-09-14_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4873",hover_thumbnail_ref:"e5f6c0cfa3c3",static_thumbnail_ref:"33d0ab4c2d57"},event_minutes_item:{id:"e69f7fb7ba0b",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.a.PASSED,event_ref:"4bf610d2947e",index:9,minutes_item_ref:"00537b8c72c1"},external_source_id:"68107",in_majority:!0,matter:{id:"00537b8c72c1",matter_type:"Appointment (Appt)",name:"Appt 02033",title:"Reappointment of David G. Jones as City Auditor, for a term to December 13, 2025.",external_source_id:"12056"}},{id:"72a32a3204fb",event_minutes_item_ref:"b8b014609e8a",event_ref:"9409f4d1ea09",matter_ref:"a5dae0358d16",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"9409f4d1ea09",event_datetime:new Date("2021-12-08T22:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/12/4931_M_Governance_and_Education_Committee_21-12-08_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4931",hover_thumbnail_ref:"beac68321431",static_thumbnail_ref:"9b8285f74dee"},event_minutes_item:{id:"b8b014609e8a",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.a.PASSED,event_ref:"9409f4d1ea09",index:9,minutes_item_ref:"a5dae0358d16"},external_source_id:"71681",in_majority:!0,matter:{id:"a5dae0358d16",matter_type:"Resolution (Res)",name:"Res 32029",title:"A RESOLUTION adopting General Rules and Procedures of the Seattle City Council; superseding Resolution 31920.",external_source_id:"12263"}}]),voteListWithBrokenVote=[{id:"0ff26eda838f",event_minutes_item_ref:"6e58df20b7d2",event_ref:"9409f4d1ea09",matter_ref:"a5dae0358d16",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"9409f4d1ea09",event_datetime:new Date("2021-12-08T22:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/12/4931_M_Governance_and_Education_Committee_21-12-08_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4931",hover_thumbnail_ref:"beac68321431",static_thumbnail_ref:"9b8285f74dee"},event_minutes_item:{id:"6e58df20b7d2",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.a.PASSED,event_ref:"9409f4d1ea09",index:10,minutes_item_ref:"a5dae0358d16"},external_source_id:"71708",in_majority:!0,matter:{id:"a5dae0358d16",matter_type:"Resolution (Res)",name:"Res 32029",title:"A RESOLUTION adopting General Rules and Procedures of the Seattle City Council; superseding Resolution 31920.",external_source_id:"12263"}},{id:"broken-vote-id",event_minutes_item_ref:"",event_ref:"",matter_ref:"",person_ref:"",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE},{id:"54d8d3d81639",event_minutes_item_ref:"e69f7fb7ba0b",event_ref:"4bf610d2947e",matter_ref:"00537b8c72c1",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"4bf610d2947e",event_datetime:new Date("2021-09-14T21:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/9/4873_M_Governance_and_Education_Committee_21-09-14_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4873",hover_thumbnail_ref:"e5f6c0cfa3c3",static_thumbnail_ref:"33d0ab4c2d57"},event_minutes_item:{id:"e69f7fb7ba0b",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.a.PASSED,event_ref:"4bf610d2947e",index:9,minutes_item_ref:"00537b8c72c1"},external_source_id:"68107",in_majority:!0,matter:{id:"00537b8c72c1",matter_type:"Appointment (Appt)",name:"Appt 02033",title:"Reappointment of David G. Jones as City Auditor, for a term to December 13, 2025.",external_source_id:"12056"}},{id:"72a32a3204fb",event_minutes_item_ref:"b8b014609e8a",event_ref:"9409f4d1ea09",matter_ref:"a5dae0358d16",person_ref:"051d21034209",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE,event:{id:"9409f4d1ea09",event_datetime:new Date("2021-09-14T21:00:00.000Z"),body_ref:"698ba00dfe84",minutes_uri:"https://legistar2.granicus.com/seattle/meetings/2021/12/4931_M_Governance_and_Education_Committee_21-12-08_Committee_Minutes.pdf",body:{id:"698ba00dfe84",is_active:!0,start_datetime:new Date("2021-12-15T17:30:00.000Z"),name:"Governance and Education Committee",external_source_id:"248"},external_source_id:"4931",hover_thumbnail_ref:"beac68321431",static_thumbnail_ref:"9b8285f74dee"},event_minutes_item:{id:"b8b014609e8a",decision:_models_constants__WEBPACK_IMPORTED_MODULE_3__.a.PASSED,event_ref:"9409f4d1ea09",index:9,minutes_item_ref:"a5dae0358d16"},external_source_id:"71681",in_majority:!0,matter:{id:"a5dae0358d16",matter_type:"Resolution (Res)",name:"Res 32029",title:"A RESOLUTION adopting General Rules and Procedures of the Seattle City Council; superseding Resolution 31920.",external_source_id:"12263"}}];function generatePopulatedVoteList(winningSide){for(var voteList=[],i=0;i<=9;i++){var person=Object.assign({},_person__WEBPACK_IMPORTED_MODULE_5__.a),decision=winningSide;i%7==0&&(decision=_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.APPROVE),i%3==0&&(decision=_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.REJECT),i%5==0&&(decision=_models_constants__WEBPACK_IMPORTED_MODULE_3__.d.ABSTAIN_NON_VOTING),person.name="Test Person "+i;var _vote={id:"0ff26eda838f",event_minutes_item_ref:"6e58df20b7d2",event_ref:"9409f4d1ea09",matter_ref:"a5dae0358d16",person_ref:"051d21034209",person:person,decision:decision,event:_event__WEBPACK_IMPORTED_MODULE_6__.a,event_minutes_item:_eventMinutesItem__WEBPACK_IMPORTED_MODULE_4__.a,external_source_id:"71708",in_majority:!0,matter:{id:"a5dae0358d16",matter_type:"Resolution (Res)",name:"Res 32029",title:"A RESOLUTION adopting General Rules and Procedures of the Seattle City Council; superseding Resolution 31920.",external_source_id:"12263"}};voteList.push(_vote)}return voteList}},"./src/styles/colors.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={lightgrey:"#DDDDDD",grey:"#595959",black:"#111111",white:"#FFFFFF",basicGrey:"#ececec",dark_blue:"#00458b"}},"./src/styles/fonts.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fontSizes}));var fontSizes={font_size_1:"0.625rem",font_size_2:"0.75rem",font_size_3:"0.8125rem",font_size_4:"0.875rem",font_size_5:"1rem",font_size_6:"1.125rem",font_size_7:"1.25rem",font_size_8:"1.5rem",font_size_9:"1.625rem",font_size_10:"1.75rem"}},"./src/styles/mediaBreakpoints.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return screenWidths}));var screenWidths={smallMobile:"320px",largeMobile:"414px",tablet:"768px",desktop:"1224px"}},"./src/utils/cleanText.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.trim.js");__webpack_exports__.a=function cleanText(text){var cleanedText=text.replace(/[\t\n]+/g," ");return(cleanedText=(cleanedText=(cleanedText=cleanedText.replace(/[\-\-]/g," ")).replace(/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g,"")).replace(/\s{2,}/g," ")).trim()}},"./src/utils/createError.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";function createError(error){return error instanceof Error?error:"string"==typeof error?new Error(error):new Error(String(error))}__webpack_require__.d(__webpack_exports__,"a",(function(){return createError}))},"./src/utils/firestoreTimestampToDate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js");__webpack_exports__.a=function(timestamp){return new Date(1e3*timestamp.seconds)}},"./src/utils/getTimeZoneName.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getTimeZoneDate}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.join.js");function getTimeZoneDate(date,timeZone){if(!isNaN(date.getTime())){var timeZoneName=date.toLocaleString("en-US",{timeZone:timeZone,timeZoneName:"short"}).split(" ").pop(),dateWithUtc=date.toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short"}).split(" ");return dateWithUtc.pop(),new Date(dateWithUtc.join(" ")+" "+timeZoneName)}}},"./src/utils/padNumWithZero.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return pad}));__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.string.pad-start.js");function pad(num){return(""+num).padStart(2,"0")}},"./src/utils/secondsToHHMMSS.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var _padNumWithZero__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/padNumWithZero.ts");__webpack_exports__.a=function secondsToHHMMSS(sec_num){var sec_int=Math.floor(sec_num),hours=Math.floor(sec_int/3600),minutes=Math.floor((sec_int-3600*hours)/60),seconds=sec_int-3600*hours-60*minutes;return Object(_padNumWithZero__WEBPACK_IMPORTED_MODULE_0__.a)(hours)+":"+Object(_padNumWithZero__WEBPACK_IMPORTED_MODULE_0__.a)(minutes)+":"+Object(_padNumWithZero__WEBPACK_IMPORTED_MODULE_0__.a)(seconds)}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/esm/a11yRunner.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/esm/a11yHighlight.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){}},[[0,4,5]]]);