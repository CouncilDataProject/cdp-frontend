import { Meta, Story, ArgsTable } from "@storybook/addon-docs/blocks";
import { action } from "@storybook/addon-actions";

import TranscriptSearch from "./TranscriptSearch";

<Meta title="Library/Details/Transcript Search" component={TranscriptSearch} />

# Transcript Search

<ArgsTable of={TranscriptSearch} />

export const Template = (args) => <TranscriptSearch {...args} />;

<Story
  name="Default"
  args={{
    searchQuery: "sentence",
    sentences: [
      {
        session_index: 0,
        index: 0,
        start_time: 1.5,
        text: "This is a sentence.",
        speaker_name: "Lisa Herbold",
        speaker_id: "lisa-herbold",
        speaker_pictureSrc:
          "https://www.seattle.gov/images/Council/Members/Herbold/Herbold_225x225.jpg",
      },
      {
        session_index: 0,
        index: 1,
        start_time: 2,
        text: "This is another sentence.",
        speaker_name: "Unknown",
      },
    ],
    jumpToVideoClip: (sessionIndex, startTime) => action("jump to video clip"),
    jumpToTranscript: (sentenceIndex) => action("jump to transcript"),
  }}
  decorators={[(Story) => <div style={{ height: 600 }}>{Story()}</div>]}
>
  {Template.bind({})}
</Story>

<Story
  name="Many sentences"
  args={{
    searchQuery: "sentence",
    sentences: Array.from({ length: 200 }).map((_, i) => ({
      session_index: 0,
      index: i,
      start_time: i,
      text: `This is a sentence${i}.`,
      speaker_name: "Lisa Herbold",
      speaker_id: "lisa-herbold",
      speaker_pictureSrc:
        "https://www.seattle.gov/images/Council/Members/Herbold/Herbold_225x225.jpg",
    })),
    jumpToVideoClip: (sessionIndex, startTime) => action("jump to video clip"),
    jumpToTranscript: (sentenceIndex) => action("jump to transcript"),
  }}
  decorators={[(Story) => <div style={{ height: 600 }}>{Story()}</div>]}
>
  {Template.bind({})}
</Story>
