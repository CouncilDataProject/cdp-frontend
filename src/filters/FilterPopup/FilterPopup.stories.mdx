import { action } from "@storybook/addon-actions";
import { Meta, Props, Story } from "@storybook/addon-docs/blocks";
import { boolean, withKnobs } from "@storybook/addon-knobs";

import FilterPopup from "./FilterPopup";
import SelectDateRange from "../SelectDateRange/SelectDateRange";
import SelectSorting from "../SelectSorting/SelectSorting";
import SelectTextFilterOptions from "../SelectTextFilterOptions/SelectTextFilterOptions";

<Meta title="Filters|FilterPopup" component={FilterPopup} />

# Filter Popup

### A general container of filter components such as SelectDateRange, SelectTextFilterOptions, and SelectSorting.

### Display additional clear and save buttons to clear and save the filter state.

<Props of={FilterPopup} />

### Select Date Range

<Story name="Select Date Range" parameters={{ decorators: [withKnobs] }}>
  <FilterPopup
    clear={action("clear-filter")}
    getTextRep={() => "Date"}
    isActive={action("check-is-active")}
    header={"Select Date Range"}
    popupIsOpen={boolean("Popup is Open", false)}
    setPopupIsOpen={action("set-popup-is-open")}
    handlePopupClose={action("handle-popup-close")}
  >
    <SelectDateRange
      state={{
        start: "",
        end: "",
      }}
      update={action("update-date-range-state")}
    />
  </FilterPopup>
</Story>

### Select Filter Options

<Story name="Select Committees" parameters={{ decorators: [withKnobs] }}>
  <FilterPopup
    clear={action("clear-filter")}
    getTextRep={() => "Committee"}
    isActive={action("check-is-active")}
    header={"Select Committees"}
    popupIsOpen={boolean("Popup is Open", false)}
    setPopupIsOpen={action("set-popup-is-open")}
    handlePopupClose={action("handle-popup-close")}
  >
    <SelectTextFilterOptions
      name={"Committee"}
      state={{}}
      update={action("update-filter-options-state")}
      options={[
        {
          name: "city-council",
          text: "City Council",
          disabled: false,
        },
        {
          name: "council-briefing",
          text: "Council Briefing",
          disabled: false,
        },
        {
          name: "finance-housing",
          text: "Finance and Housing Committee",
          disabled: false,
        },
        {
          name: "finance-neighborhood",
          text: "Finance and Neighborhoods Committee",
          disabled: false,
        },
        {
          name: "select-budget",
          text: "Select Budget Committee",
          disabled: false,
        },
        {
          name: "transportation-utilities",
          text: "Transportation and Utilities Committee",
          disabled: false,
        },
      ]}
      optionQuery={""}
      setOptionQuery={action("set-option-query")}
    />
  </FilterPopup>
</Story>

### Select Sorting

<Story name="Select Sorting" parameters={{ decorators: [withKnobs] }}>
  <FilterPopup
    clear={action("clear-filter")}
    getTextRep={() => "Most relevant"}
    isActive={() => true}
    header={"Sort Results By"}
    popupIsOpen={boolean("Popup is Open", false)}
    setPopupIsOpen={action("set-popup-is-open")}
    handlePopupClose={action("handle-popup-close")}
  >
    <SelectSorting
      state={{
        by: "value",
      }}
      update={action("update-sorting-state")}
      sortByOptions={["date", "value"]}
    />
  </FilterPopup>
</Story>
